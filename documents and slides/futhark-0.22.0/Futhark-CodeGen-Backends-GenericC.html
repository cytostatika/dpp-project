<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Futhark.CodeGen.Backends.GenericC</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">futhark-0.22.0: An optimising compiler for a functional, array-oriented language.</span><ul class="links" id="page-menu"><li><a href="src/Futhark.CodeGen.Backends.GenericC.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Trustworthy</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Futhark.CodeGen.Backends.GenericC</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Pluggable compiler</a></li><li><a href="#g:2">Monadic compiler interface</a></li><li><a href="#g:3">Building Blocks</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>C code generator framework.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:compileProg">compileProg</a> :: <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m =&gt; Text -&gt; Text -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:Operations" title="Futhark.CodeGen.Backends.GenericC">Operations</a> op () -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op () () -&gt; Text -&gt; [<a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a>] -&gt; [<a href="Futhark-CodeGen-Backends-GenericC-Options.html#t:Option" title="Futhark.CodeGen.Backends.GenericC.Options">Option</a>] -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Definitions" title="Futhark.CodeGen.ImpCode">Definitions</a> op -&gt; m <a href="Futhark-CodeGen-Backends-GenericC.html#t:CParts" title="Futhark.CodeGen.Backends.GenericC">CParts</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CParts">CParts</a> = <a href="#v:CParts">CParts</a> {<ul class="subs"><li><a href="#v:cHeader">cHeader</a> :: Text</li><li><a href="#v:cUtils">cUtils</a> :: Text</li><li><a href="#v:cCLI">cCLI</a> :: Text</li><li><a href="#v:cServer">cServer</a> :: Text</li><li><a href="#v:cLib">cLib</a> :: Text</li><li><a href="#v:cJsonManifest">cJsonManifest</a> :: Text</li></ul>}</li><li class="src short"><a href="#v:asLibrary">asLibrary</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CParts" title="Futhark.CodeGen.Backends.GenericC">CParts</a> -&gt; (Text, Text, Text)</li><li class="src short"><a href="#v:asExecutable">asExecutable</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CParts" title="Futhark.CodeGen.Backends.GenericC">CParts</a> -&gt; Text</li><li class="src short"><a href="#v:asServer">asServer</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CParts" title="Futhark.CodeGen.Backends.GenericC">CParts</a> -&gt; Text</li><li class="src short"><span class="keyword">data</span> <a href="#t:Operations">Operations</a> op s = <a href="#v:Operations">Operations</a> {<ul class="subs"><li><a href="#v:opsWriteScalar">opsWriteScalar</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:WriteScalar" title="Futhark.CodeGen.Backends.GenericC">WriteScalar</a> op s</li><li><a href="#v:opsReadScalar">opsReadScalar</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:ReadScalar" title="Futhark.CodeGen.Backends.GenericC">ReadScalar</a> op s</li><li><a href="#v:opsAllocate">opsAllocate</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:Allocate" title="Futhark.CodeGen.Backends.GenericC">Allocate</a> op s</li><li><a href="#v:opsDeallocate">opsDeallocate</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:Deallocate" title="Futhark.CodeGen.Backends.GenericC">Deallocate</a> op s</li><li><a href="#v:opsCopy">opsCopy</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:Copy" title="Futhark.CodeGen.Backends.GenericC">Copy</a> op s</li><li><a href="#v:opsStaticArray">opsStaticArray</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:StaticArray" title="Futhark.CodeGen.Backends.GenericC">StaticArray</a> op s</li><li><a href="#v:opsMemoryType">opsMemoryType</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:MemoryType" title="Futhark.CodeGen.Backends.GenericC">MemoryType</a> op s</li><li><a href="#v:opsCompiler">opsCompiler</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:OpCompiler" title="Futhark.CodeGen.Backends.GenericC">OpCompiler</a> op s</li><li><a href="#v:opsError">opsError</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:ErrorCompiler" title="Futhark.CodeGen.Backends.GenericC">ErrorCompiler</a> op s</li><li><a href="#v:opsCall">opsCall</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CallCompiler" title="Futhark.CodeGen.Backends.GenericC">CallCompiler</a> op s</li><li><a href="#v:opsFatMemory">opsFatMemory</a> :: Bool</li><li><a href="#v:opsCritical">opsCritical</a> :: ([<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>], [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>])</li></ul>}</li><li class="src short"><a href="#v:defaultOperations">defaultOperations</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:Operations" title="Futhark.CodeGen.Backends.GenericC">Operations</a> op s</li><li class="src short"><span class="keyword">type</span> <a href="#t:OpCompiler">OpCompiler</a> op s = op -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:ErrorCompiler">ErrorCompiler</a> op s = <a href="Futhark-IR-Syntax-Core.html#t:ErrorMsg" title="Futhark.IR.Syntax.Core">ErrorMsg</a> <a href="Futhark-CodeGen-ImpCode.html#t:Exp" title="Futhark.CodeGen.ImpCode">Exp</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:CallCompiler">CallCompiler</a> op s = [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; <a href="Language-Futhark-Core.html#t:Name" title="Language.Futhark.Core">Name</a> -&gt; [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:PointerQuals">PointerQuals</a> op s = <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:TypeQual" title="Language.C.Syntax">TypeQual</a>]</li><li class="src short"><span class="keyword">type</span> <a href="#t:MemoryType">MemoryType</a> op s = <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:WriteScalar">WriteScalar</a> op s = <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Volatility" title="Futhark.CodeGen.ImpCode">Volatility</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:writeScalarPointerWithQuals">writeScalarPointerWithQuals</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:PointerQuals" title="Futhark.CodeGen.Backends.GenericC">PointerQuals</a> op s -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:WriteScalar" title="Futhark.CodeGen.Backends.GenericC">WriteScalar</a> op s</li><li class="src short"><span class="keyword">type</span> <a href="#t:ReadScalar">ReadScalar</a> op s = <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Volatility" title="Futhark.CodeGen.ImpCode">Volatility</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a></li><li class="src short"><a href="#v:readScalarPointerWithQuals">readScalarPointerWithQuals</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:PointerQuals" title="Futhark.CodeGen.Backends.GenericC">PointerQuals</a> op s -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:ReadScalar" title="Futhark.CodeGen.Backends.GenericC">ReadScalar</a> op s</li><li class="src short"><span class="keyword">type</span> <a href="#t:Allocate">Allocate</a> op s = <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:Deallocate">Deallocate</a> op s = <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:Copy">Copy</a> op s = <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:StaticArray">StaticArray</a> op s = <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:ArrayContents" title="Futhark.CodeGen.ImpCode">ArrayContents</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:CompilerM">CompilerM</a> op s a</li><li class="src short"><span class="keyword">data</span> <a href="#t:CompilerState">CompilerState</a> s</li><li class="src short"><a href="#v:getUserState">getUserState</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s s</li><li class="src short"><a href="#v:modifyUserState">modifyUserState</a> :: (s -&gt; s) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:contextContents">contextContents</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ([<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:FieldGroup" title="Language.C.Syntax">FieldGroup</a>], [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a>], [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a>])</li><li class="src short"><a href="#v:contextFinalInits">contextFinalInits</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a>]</li><li class="src short"><a href="#v:runCompilerM">runCompilerM</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:Operations" title="Futhark.CodeGen.Backends.GenericC">Operations</a> op s -&gt; <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a> -&gt; s -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a -&gt; (a, <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericC">CompilerState</a> s)</li><li class="src short"><a href="#v:inNewFunction">inNewFunction</a> :: Bool -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a</li><li class="src short"><a href="#v:cachingMemory">cachingMemory</a> :: Map <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; ([<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>] -&gt; [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a</li><li class="src short"><a href="#v:blockScope">blockScope</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>]</li><li class="src short"><a href="#v:compileFun">compileFun</a> :: [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>] -&gt; [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Param" title="Language.C.Syntax">Param</a>] -&gt; (<a href="Language-Futhark-Core.html#t:Name" title="Language.Futhark.Core">Name</a>, <a href="Futhark-CodeGen-ImpCode.html#t:Function" title="Futhark.CodeGen.ImpCode">Function</a> op) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s (<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a>, <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Func" title="Language.C.Syntax">Func</a>)</li><li class="src short"><a href="#v:compileCode">compileCode</a> :: <a href="Futhark-CodeGen-ImpCode.html#t:Code" title="Futhark.CodeGen.ImpCode">Code</a> op -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:compileExp">compileExp</a> :: <a href="Futhark-CodeGen-ImpCode.html#t:Exp" title="Futhark.CodeGen.ImpCode">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a></li><li class="src short"><a href="#v:compilePrimExp">compilePrimExp</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; (v -&gt; m <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a>) -&gt; <a href="Futhark-Analysis-PrimExp.html#t:PrimExp" title="Futhark.Analysis.PrimExp">PrimExp</a> v -&gt; m <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a></li><li class="src short"><a href="#v:compileExpToName">compileExpToName</a> :: <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Exp" title="Futhark.CodeGen.ImpCode">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a></li><li class="src short"><a href="#v:rawMem">rawMem</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a></li><li class="src short"><a href="#v:item">item</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:items">items</a> :: [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:stm">stm</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:stms">stms</a> :: [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:decl">decl</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:InitGroup" title="Language.C.Syntax">InitGroup</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:atInit">atInit</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:headerDecl">headerDecl</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:publicDef">publicDef</a> :: <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; (<a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; (<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a>, <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a>)) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li class="src short"><a href="#v:publicDef_">publicDef_</a> :: <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; (<a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; (<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a>, <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a>)) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:profileReport">profileReport</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:onClear">onClear</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:HeaderSection">HeaderSection</a><ul class="subs"><li>= <a href="#v:ArrayDecl">ArrayDecl</a> <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li>| <a href="#v:OpaqueDecl">OpaqueDecl</a> <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li>| <a href="#v:EntryDecl">EntryDecl</a></li><li>| <a href="#v:MiscDecl">MiscDecl</a></li><li>| <a href="#v:InitDecl">InitDecl</a></li></ul></li><li class="src short"><a href="#v:libDecl">libDecl</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:earlyDecl">earlyDecl</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:publicName">publicName</a> :: <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li class="src short"><a href="#v:contextType">contextType</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a></li><li class="src short"><a href="#v:contextField">contextField</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Id" title="Language.C.Syntax">Id</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> -&gt; Maybe <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:contextFieldDyn">contextFieldDyn</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Id" title="Language.C.Syntax">Id</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li><li class="src short"><a href="#v:memToCType">memToCType</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a></li><li class="src short"><a href="#v:cacheMem">cacheMem</a> :: <a href="../language-c-quote-0.13/Language-C-Quote-Base.html#t:ToExp" title="Language.C.Quote.Base">ToExp</a> a =&gt; a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s (Maybe <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>)</li><li class="src short"><a href="#v:fatMemory">fatMemory</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s Bool</li><li class="src short"><a href="#v:rawMemCType">rawMemCType</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a></li><li class="src short"><a href="#v:cproduct">cproduct</a> :: [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a>] -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a></li><li class="src short"><a href="#v:fatMemType">fatMemType</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a></li><li class="src short"><a href="#v:freeAllocatedMem">freeAllocatedMem</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>]</li><li class="src short"><a href="#v:primTypeToCType">primTypeToCType</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a></li><li class="src short"><a href="#v:intTypeToCType">intTypeToCType</a> :: <a href="Futhark-IR-Primitive.html#t:IntType" title="Futhark.IR.Primitive">IntType</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a></li><li class="src short"><a href="#v:copyMemoryDefaultSpace">copyMemoryDefaultSpace</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:compileProg" class="def">compileProg</a> :: <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m =&gt; Text -&gt; Text -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:Operations" title="Futhark.CodeGen.Backends.GenericC">Operations</a> op () -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op () () -&gt; Text -&gt; [<a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a>] -&gt; [<a href="Futhark-CodeGen-Backends-GenericC-Options.html#t:Option" title="Futhark.CodeGen.Backends.GenericC.Options">Option</a>] -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Definitions" title="Futhark.CodeGen.ImpCode">Definitions</a> op -&gt; m <a href="Futhark-CodeGen-Backends-GenericC.html#t:CParts" title="Futhark.CodeGen.Backends.GenericC">CParts</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#compileProg" class="link">Source</a> <a href="#v:compileProg" class="selflink">#</a></p><div class="doc"><p>Compile imperative program to a C program.  Always uses the
 function named &quot;main&quot; as entry point, so make sure it is defined.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CParts" class="def">CParts</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#CParts" class="link">Source</a> <a href="#t:CParts" class="selflink">#</a></p><div class="doc"><p>The result of compilation to C is multiple parts, which can be
 put together in various ways.  The obvious way is to concatenate
 all of them, which yields a CLI program.  Another is to compile the
 library part by itself, and use the header file to call into it.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CParts" class="def">CParts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:cHeader" class="def">cHeader</a> :: Text</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cUtils" class="def">cUtils</a> :: Text</dfn><div class="doc"><p>Utility definitions that must be visible
 to both CLI and library parts.</p></div></li><li><dfn class="src"><a id="v:cCLI" class="def">cCLI</a> :: Text</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cServer" class="def">cServer</a> :: Text</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cLib" class="def">cLib</a> :: Text</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cJsonManifest" class="def">cJsonManifest</a> :: Text</dfn><div class="doc"><p>The manifest, in JSON format.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:asLibrary" class="def">asLibrary</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CParts" title="Futhark.CodeGen.Backends.GenericC">CParts</a> -&gt; (Text, Text, Text) <a href="src/Futhark.CodeGen.Backends.GenericC.html#asLibrary" class="link">Source</a> <a href="#v:asLibrary" class="selflink">#</a></p><div class="doc"><p>Produce header, implementation, and manifest files.</p></div></div><div class="top"><p class="src"><a id="v:asExecutable" class="def">asExecutable</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CParts" title="Futhark.CodeGen.Backends.GenericC">CParts</a> -&gt; Text <a href="src/Futhark.CodeGen.Backends.GenericC.html#asExecutable" class="link">Source</a> <a href="#v:asExecutable" class="selflink">#</a></p><div class="doc"><p>As executable with command-line interface.</p></div></div><div class="top"><p class="src"><a id="v:asServer" class="def">asServer</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CParts" title="Futhark.CodeGen.Backends.GenericC">CParts</a> -&gt; Text <a href="src/Futhark.CodeGen.Backends.GenericC.html#asServer" class="link">Source</a> <a href="#v:asServer" class="selflink">#</a></p><div class="doc"><p>As server executable.</p></div></div><a href="#g:1" id="g:1"><h1>Pluggable compiler</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Operations" class="def">Operations</a> op s <a href="src/Futhark.CodeGen.Backends.GenericC.html#Operations" class="link">Source</a> <a href="#t:Operations" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Operations" class="def">Operations</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:opsWriteScalar" class="def">opsWriteScalar</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:WriteScalar" title="Futhark.CodeGen.Backends.GenericC">WriteScalar</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsReadScalar" class="def">opsReadScalar</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:ReadScalar" title="Futhark.CodeGen.Backends.GenericC">ReadScalar</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsAllocate" class="def">opsAllocate</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:Allocate" title="Futhark.CodeGen.Backends.GenericC">Allocate</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsDeallocate" class="def">opsDeallocate</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:Deallocate" title="Futhark.CodeGen.Backends.GenericC">Deallocate</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsCopy" class="def">opsCopy</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:Copy" title="Futhark.CodeGen.Backends.GenericC">Copy</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsStaticArray" class="def">opsStaticArray</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:StaticArray" title="Futhark.CodeGen.Backends.GenericC">StaticArray</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsMemoryType" class="def">opsMemoryType</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:MemoryType" title="Futhark.CodeGen.Backends.GenericC">MemoryType</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsCompiler" class="def">opsCompiler</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:OpCompiler" title="Futhark.CodeGen.Backends.GenericC">OpCompiler</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsError" class="def">opsError</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:ErrorCompiler" title="Futhark.CodeGen.Backends.GenericC">ErrorCompiler</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsCall" class="def">opsCall</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CallCompiler" title="Futhark.CodeGen.Backends.GenericC">CallCompiler</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsFatMemory" class="def">opsFatMemory</a> :: Bool</dfn><div class="doc"><p>If true, use reference counting.  Otherwise, bare
 pointers.</p></div></li><li><dfn class="src"><a id="v:opsCritical" class="def">opsCritical</a> :: ([<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>], [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>])</dfn><div class="doc"><p>Code to bracket critical sections.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:defaultOperations" class="def">defaultOperations</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:Operations" title="Futhark.CodeGen.Backends.GenericC">Operations</a> op s <a href="src/Futhark.CodeGen.Backends.GenericC.html#defaultOperations" class="link">Source</a> <a href="#v:defaultOperations" class="selflink">#</a></p><div class="doc"><p>A set of operations that fail for every operation involving
 non-default memory spaces.  Uses plain pointers and <code>malloc</code> for
 memory management.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OpCompiler" class="def">OpCompiler</a> op s = op -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#OpCompiler" class="link">Source</a> <a href="#t:OpCompiler" class="selflink">#</a></p><div class="doc"><p>A substitute expression compiler, tried before the main
 compilation function.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ErrorCompiler" class="def">ErrorCompiler</a> op s = <a href="Futhark-IR-Syntax-Core.html#t:ErrorMsg" title="Futhark.IR.Syntax.Core">ErrorMsg</a> <a href="Futhark-CodeGen-ImpCode.html#t:Exp" title="Futhark.CodeGen.ImpCode">Exp</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#ErrorCompiler" class="link">Source</a> <a href="#t:ErrorCompiler" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CallCompiler" class="def">CallCompiler</a> op s = [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; <a href="Language-Futhark-Core.html#t:Name" title="Language.Futhark.Core">Name</a> -&gt; [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#CallCompiler" class="link">Source</a> <a href="#t:CallCompiler" class="selflink">#</a></p><div class="doc"><p>Call a function.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:PointerQuals" class="def">PointerQuals</a> op s = <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:TypeQual" title="Language.C.Syntax">TypeQual</a>] <a href="src/Futhark.CodeGen.Backends.GenericC.html#PointerQuals" class="link">Source</a> <a href="#t:PointerQuals" class="selflink">#</a></p><div class="doc"><p>The address space qualifiers for a pointer of the given type with
 the given annotation.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MemoryType" class="def">MemoryType</a> op s = <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#MemoryType" class="link">Source</a> <a href="#t:MemoryType" class="selflink">#</a></p><div class="doc"><p>The type of a memory block in the given memory space.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:WriteScalar" class="def">WriteScalar</a> op s = <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Volatility" title="Futhark.CodeGen.ImpCode">Volatility</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#WriteScalar" class="link">Source</a> <a href="#t:WriteScalar" class="selflink">#</a></p><div class="doc"><p>Write a scalar to the given memory block with the given element
 index and in the given memory space.</p></div></div><div class="top"><p class="src"><a id="v:writeScalarPointerWithQuals" class="def">writeScalarPointerWithQuals</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:PointerQuals" title="Futhark.CodeGen.Backends.GenericC">PointerQuals</a> op s -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:WriteScalar" title="Futhark.CodeGen.Backends.GenericC">WriteScalar</a> op s <a href="src/Futhark.CodeGen.Backends.GenericC.html#writeScalarPointerWithQuals" class="link">Source</a> <a href="#v:writeScalarPointerWithQuals" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ReadScalar" class="def">ReadScalar</a> op s = <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Volatility" title="Futhark.CodeGen.ImpCode">Volatility</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#ReadScalar" class="link">Source</a> <a href="#t:ReadScalar" class="selflink">#</a></p><div class="doc"><p>Read a scalar from the given memory block with the given element
 index and in the given memory space.</p></div></div><div class="top"><p class="src"><a id="v:readScalarPointerWithQuals" class="def">readScalarPointerWithQuals</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:PointerQuals" title="Futhark.CodeGen.Backends.GenericC">PointerQuals</a> op s -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:ReadScalar" title="Futhark.CodeGen.Backends.GenericC">ReadScalar</a> op s <a href="src/Futhark.CodeGen.Backends.GenericC.html#readScalarPointerWithQuals" class="link">Source</a> <a href="#v:readScalarPointerWithQuals" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Allocate" class="def">Allocate</a> op s = <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#Allocate" class="link">Source</a> <a href="#t:Allocate" class="selflink">#</a></p><div class="doc"><p>Allocate a memory block of the given size and with the given tag
 in the given memory space, saving a reference in the given variable
 name.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Deallocate" class="def">Deallocate</a> op s = <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#Deallocate" class="link">Source</a> <a href="#t:Deallocate" class="selflink">#</a></p><div class="doc"><p>De-allocate the given memory block with the given tag, which is
 in the given memory space.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Copy" class="def">Copy</a> op s = <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#Copy" class="link">Source</a> <a href="#t:Copy" class="selflink">#</a></p><div class="doc"><p>Copy from one memory block to another.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:StaticArray" class="def">StaticArray</a> op s = <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:ArrayContents" title="Futhark.CodeGen.ImpCode">ArrayContents</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#StaticArray" class="link">Source</a> <a href="#t:StaticArray" class="selflink">#</a></p><div class="doc"><p>Create a static array of values - initialised at load time.</p></div></div><a href="#g:2" id="g:2"><h1>Monadic compiler interface</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CompilerM" class="def">CompilerM</a> op s a <a href="src/Futhark.CodeGen.Backends.GenericC.html#CompilerM" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:CompilerM">Instances</h4><details id="i:CompilerM" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerM:MonadState:1"></span> MonadState (<a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericC">CompilerState</a> s) (<a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericC.html#line-400" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerM:MonadState:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericC.html">Futhark.CodeGen.Backends.GenericC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s (<a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericC">CompilerState</a> s)</p><p class="src"><a href="#v:put">put</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericC">CompilerState</a> s -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</p><p class="src"><a href="#v:state">state</a> :: (<a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericC">CompilerState</a> s -&gt; (a, <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericC">CompilerState</a> s)) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerM:Monad:2"></span> <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> (<a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericC.html#line-399" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerM:Monad:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericC.html">Futhark.CodeGen.Backends.GenericC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a -&gt; (a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s b) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s b -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerM:Functor:3"></span> <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Functor" title="Control.Monad.Compat">Functor</a> (<a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericC.html#line-397" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerM:Functor:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericC.html">Futhark.CodeGen.Backends.GenericC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s b -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerM:Applicative:4"></span> Applicative (<a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericC.html#line-398" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerM:Applicative:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericC.html">Futhark.CodeGen.Backends.GenericC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a</p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s (a -&gt; b) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s b</p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s b -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s c</p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s b -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s b</p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s b -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerM:MonadFreshNames:5"></span> <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> (<a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericC.html#line-404" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerM:MonadFreshNames:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericC.html">Futhark.CodeGen.Backends.GenericC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getNameSource">getNameSource</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a> <a href="src/Futhark.MonadFreshNames.html#getNameSource" class="link">Source</a> <a href="#v:getNameSource" class="selflink">#</a></p><p class="src"><a href="#v:putNameSource">putNameSource</a> :: <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.MonadFreshNames.html#putNameSource" class="link">Source</a> <a href="#v:putNameSource" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CompilerState" class="def">CompilerState</a> s <a href="src/Futhark.CodeGen.Backends.GenericC.html#CompilerState" class="link">Source</a> <a href="#t:CompilerState" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:CompilerState">Instances</h4><details id="i:CompilerState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerState:MonadState:1"></span> MonadState (<a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericC">CompilerState</a> s) (<a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericC.html#line-400" class="link">Source</a> <a href="#t:CompilerState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerState:MonadState:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericC.html">Futhark.CodeGen.Backends.GenericC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s (<a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericC">CompilerState</a> s)</p><p class="src"><a href="#v:put">put</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericC">CompilerState</a> s -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ()</p><p class="src"><a href="#v:state">state</a> :: (<a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericC">CompilerState</a> s -&gt; (a, <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericC">CompilerState</a> s)) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:getUserState" class="def">getUserState</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s s <a href="src/Futhark.CodeGen.Backends.GenericC.html#getUserState" class="link">Source</a> <a href="#v:getUserState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modifyUserState" class="def">modifyUserState</a> :: (s -&gt; s) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#modifyUserState" class="link">Source</a> <a href="#v:modifyUserState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:contextContents" class="def">contextContents</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s ([<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:FieldGroup" title="Language.C.Syntax">FieldGroup</a>], [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a>], [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a>]) <a href="src/Futhark.CodeGen.Backends.GenericC.html#contextContents" class="link">Source</a> <a href="#v:contextContents" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:contextFinalInits" class="def">contextFinalInits</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a>] <a href="src/Futhark.CodeGen.Backends.GenericC.html#contextFinalInits" class="link">Source</a> <a href="#v:contextFinalInits" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runCompilerM" class="def">runCompilerM</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:Operations" title="Futhark.CodeGen.Backends.GenericC">Operations</a> op s -&gt; <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a> -&gt; s -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a -&gt; (a, <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericC">CompilerState</a> s) <a href="src/Futhark.CodeGen.Backends.GenericC.html#runCompilerM" class="link">Source</a> <a href="#v:runCompilerM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:inNewFunction" class="def">inNewFunction</a> :: Bool -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a <a href="src/Futhark.CodeGen.Backends.GenericC.html#inNewFunction" class="link">Source</a> <a href="#v:inNewFunction" class="selflink">#</a></p><div class="doc"><p>Used when we, inside an existing <code><a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a></code> action, want to
 generate code for a new function.  Use this so that the compiler
 understands that previously declared memory doesn't need to be
 freed inside this action.</p></div></div><div class="top"><p class="src"><a id="v:cachingMemory" class="def">cachingMemory</a> :: Map <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; ([<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>] -&gt; [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s a <a href="src/Futhark.CodeGen.Backends.GenericC.html#cachingMemory" class="link">Source</a> <a href="#v:cachingMemory" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:blockScope" class="def">blockScope</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>] <a href="src/Futhark.CodeGen.Backends.GenericC.html#blockScope" class="link">Source</a> <a href="#v:blockScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:compileFun" class="def">compileFun</a> :: [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>] -&gt; [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Param" title="Language.C.Syntax">Param</a>] -&gt; (<a href="Language-Futhark-Core.html#t:Name" title="Language.Futhark.Core">Name</a>, <a href="Futhark-CodeGen-ImpCode.html#t:Function" title="Futhark.CodeGen.ImpCode">Function</a> op) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s (<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a>, <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Func" title="Language.C.Syntax">Func</a>) <a href="src/Futhark.CodeGen.Backends.GenericC.html#compileFun" class="link">Source</a> <a href="#v:compileFun" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:compileCode" class="def">compileCode</a> :: <a href="Futhark-CodeGen-ImpCode.html#t:Code" title="Futhark.CodeGen.ImpCode">Code</a> op -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#compileCode" class="link">Source</a> <a href="#v:compileCode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:compileExp" class="def">compileExp</a> :: <a href="Futhark-CodeGen-ImpCode.html#t:Exp" title="Futhark.CodeGen.ImpCode">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#compileExp" class="link">Source</a> <a href="#v:compileExp" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:compilePrimExp" class="def">compilePrimExp</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; (v -&gt; m <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a>) -&gt; <a href="Futhark-Analysis-PrimExp.html#t:PrimExp" title="Futhark.Analysis.PrimExp">PrimExp</a> v -&gt; m <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#compilePrimExp" class="link">Source</a> <a href="#v:compilePrimExp" class="selflink">#</a></p><div class="doc"><p>Tell me how to compile a <code>v</code>, and I'll Compile any <code>PrimExp v</code> for you.</p></div></div><div class="top"><p class="src"><a id="v:compileExpToName" class="def">compileExpToName</a> :: <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Exp" title="Futhark.CodeGen.ImpCode">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#compileExpToName" class="link">Source</a> <a href="#v:compileExpToName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rawMem" class="def">rawMem</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#rawMem" class="link">Source</a> <a href="#v:rawMem" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:item" class="def">item</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#item" class="link">Source</a> <a href="#v:item" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:items" class="def">items</a> :: [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#items" class="link">Source</a> <a href="#v:items" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:stm" class="def">stm</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#stm" class="link">Source</a> <a href="#v:stm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:stms" class="def">stms</a> :: [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#stms" class="link">Source</a> <a href="#v:stms" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decl" class="def">decl</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:InitGroup" title="Language.C.Syntax">InitGroup</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#decl" class="link">Source</a> <a href="#v:decl" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:atInit" class="def">atInit</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#atInit" class="link">Source</a> <a href="#v:atInit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:headerDecl" class="def">headerDecl</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#headerDecl" class="link">Source</a> <a href="#v:headerDecl" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:publicDef" class="def">publicDef</a> :: <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; (<a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; (<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a>, <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a>)) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#publicDef" class="link">Source</a> <a href="#v:publicDef" class="selflink">#</a></p><div class="doc"><p>Construct a publicly visible definition using the specified name
 as the template.  The first returned definition is put in the
 header file, and the second is the implementation.  Returns the public
 name.</p></div></div><div class="top"><p class="src"><a id="v:publicDef_" class="def">publicDef_</a> :: <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; (<a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; (<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a>, <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a>)) -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#publicDef_" class="link">Source</a> <a href="#v:publicDef_" class="selflink">#</a></p><div class="doc"><p>As <code><a href="Futhark-CodeGen-Backends-GenericC.html#v:publicDef" title="Futhark.CodeGen.Backends.GenericC">publicDef</a></code>, but ignores the public name.</p></div></div><div class="top"><p class="src"><a id="v:profileReport" class="def">profileReport</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#profileReport" class="link">Source</a> <a href="#v:profileReport" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:onClear" class="def">onClear</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#onClear" class="link">Source</a> <a href="#v:onClear" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:HeaderSection" class="def">HeaderSection</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#HeaderSection" class="link">Source</a> <a href="#t:HeaderSection" class="selflink">#</a></p><div class="doc"><p>In which part of the header file we put the declaration.  This is
 to ensure that the header file remains structured and readable.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ArrayDecl" class="def">ArrayDecl</a> <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:OpaqueDecl" class="def">OpaqueDecl</a> <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:EntryDecl" class="def">EntryDecl</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:MiscDecl" class="def">MiscDecl</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:InitDecl" class="def">InitDecl</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HeaderSection">Instances</h4><details id="i:HeaderSection" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:HeaderSection:Eq:1"></span> Eq <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a></span> <a href="src/Futhark.CodeGen.Backends.GenericC.html#line-158" class="link">Source</a> <a href="#t:HeaderSection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:HeaderSection:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericC.html">Futhark.CodeGen.Backends.GenericC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:HeaderSection:Ord:2"></span> Ord <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a></span> <a href="src/Futhark.CodeGen.Backends.GenericC.html#line-158" class="link">Source</a> <a href="#t:HeaderSection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:HeaderSection:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericC.html">Futhark.CodeGen.Backends.GenericC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; Ordering</p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; Bool</p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; Bool</p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; Bool</p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; Bool</p><p class="src"><a href="#v:max">max</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:HeaderSection" title="Futhark.CodeGen.Backends.GenericC">HeaderSection</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:libDecl" class="def">libDecl</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#libDecl" class="link">Source</a> <a href="#v:libDecl" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:earlyDecl" class="def">earlyDecl</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Definition" title="Language.C.Syntax">Definition</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#earlyDecl" class="link">Source</a> <a href="#v:earlyDecl" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:publicName" class="def">publicName</a> :: <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#publicName" class="link">Source</a> <a href="#v:publicName" class="selflink">#</a></p><div class="doc"><p>Public names must have a consitent prefix.</p></div></div><div class="top"><p class="src"><a id="v:contextType" class="def">contextType</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#contextType" class="link">Source</a> <a href="#v:contextType" class="selflink">#</a></p><div class="doc"><p>The generated code must define a struct with this name.</p></div></div><div class="top"><p class="src"><a id="v:contextField" class="def">contextField</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Id" title="Language.C.Syntax">Id</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> -&gt; Maybe <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#contextField" class="link">Source</a> <a href="#v:contextField" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:contextFieldDyn" class="def">contextFieldDyn</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Id" title="Language.C.Syntax">Id</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Stm" title="Language.C.Syntax">Stm</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#contextFieldDyn" class="link">Source</a> <a href="#v:contextFieldDyn" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:memToCType" class="def">memToCType</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#memToCType" class="link">Source</a> <a href="#v:memToCType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cacheMem" class="def">cacheMem</a> :: <a href="../language-c-quote-0.13/Language-C-Quote-Base.html#t:ToExp" title="Language.C.Quote.Base">ToExp</a> a =&gt; a -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s (Maybe <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>) <a href="src/Futhark.CodeGen.Backends.GenericC.html#cacheMem" class="link">Source</a> <a href="#v:cacheMem" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:fatMemory" class="def">fatMemory</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s Bool <a href="src/Futhark.CodeGen.Backends.GenericC.html#fatMemory" class="link">Source</a> <a href="#v:fatMemory" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rawMemCType" class="def">rawMemCType</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#rawMemCType" class="link">Source</a> <a href="#v:rawMemCType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cproduct" class="def">cproduct</a> :: [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a>] -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> <a href="src/Futhark.CodeGen.Backends.SimpleRep.html#cproduct" class="link">Source</a> <a href="#v:cproduct" class="selflink">#</a></p><div class="doc"><p>Return an expression multiplying together the given expressions.
 If an empty list is given, the expression <code>1</code> is returned.</p></div></div><div class="top"><p class="src"><a id="v:fatMemType" class="def">fatMemType</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> <a href="src/Futhark.CodeGen.Backends.GenericC.html#fatMemType" class="link">Source</a> <a href="#v:fatMemType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:freeAllocatedMem" class="def">freeAllocatedMem</a> :: <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s [<a href="../language-c-quote-0.13/Language-C-Syntax.html#t:BlockItem" title="Language.C.Syntax">BlockItem</a>] <a href="src/Futhark.CodeGen.Backends.GenericC.html#freeAllocatedMem" class="link">Source</a> <a href="#v:freeAllocatedMem" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Building Blocks</h1></a><div class="top"><p class="src"><a id="v:primTypeToCType" class="def">primTypeToCType</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> <a href="src/Futhark.CodeGen.Backends.SimpleRep.html#primTypeToCType" class="link">Source</a> <a href="#v:primTypeToCType" class="selflink">#</a></p><div class="doc"><p>The C type corresponding to a primitive type.  Integers are
 assumed to be unsigned.</p></div></div><div class="top"><p class="src"><a id="v:intTypeToCType" class="def">intTypeToCType</a> :: <a href="Futhark-IR-Primitive.html#t:IntType" title="Futhark.IR.Primitive">IntType</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Type" title="Language.C.Syntax">Type</a> <a href="src/Futhark.CodeGen.Backends.SimpleRep.html#intTypeToCType" class="link">Source</a> <a href="#v:intTypeToCType" class="selflink">#</a></p><div class="doc"><p>The C type corresponding to a signed integer type.</p></div></div><div class="top"><p class="src"><a id="v:copyMemoryDefaultSpace" class="def">copyMemoryDefaultSpace</a> :: <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="../language-c-quote-0.13/Language-C-Syntax.html#t:Exp" title="Language.C.Syntax">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericC.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericC">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericC.html#copyMemoryDefaultSpace" class="link">Source</a> <a href="#v:copyMemoryDefaultSpace" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>