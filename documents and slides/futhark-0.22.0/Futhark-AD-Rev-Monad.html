<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Futhark.AD.Rev.Monad</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">futhark-0.22.0: An optimising compiler for a functional, array-oriented language.</span><ul class="links" id="page-menu"><li><a href="src/Futhark.AD.Rev.Monad.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Futhark.AD.Rev.Monad</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ADM">ADM</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:RState">RState</a> = <a href="#v:RState">RState</a> {<ul class="subs"><li><a href="#v:stateAdjs">stateAdjs</a> :: Map <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a></li><li><a href="#v:stateLoopTape">stateLoopTape</a> :: <a href="Futhark-Transform-Substitute.html#t:Substitutions" title="Futhark.Transform.Substitute">Substitutions</a></li><li><a href="#v:stateSubsts">stateSubsts</a> :: <a href="Futhark-Transform-Substitute.html#t:Substitutions" title="Futhark.Transform.Substitute">Substitutions</a></li><li><a href="#v:stateNameSource">stateNameSource</a> :: <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a></li></ul>}</li><li class="src short"><a href="#v:runADM">runADM</a> :: <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m =&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Adj">Adj</a><ul class="subs"><li>= <a href="#v:AdjSparse">AdjSparse</a> <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a></li><li>| <a href="#v:AdjVal">AdjVal</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a></li><li>| <a href="#v:AdjZero">AdjZero</a> <a href="Futhark-IR-Syntax-Core.html#t:Shape" title="Futhark.IR.Syntax.Core">Shape</a> <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:InBounds">InBounds</a><ul class="subs"><li>= <a href="#v:CheckBounds">CheckBounds</a> (Maybe <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>)</li><li>| <a href="#v:AssumeBounds">AssumeBounds</a></li><li>| <a href="#v:OutOfBounds">OutOfBounds</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Sparse">Sparse</a> = <a href="#v:Sparse">Sparse</a> {<ul class="subs"><li><a href="#v:sparseShape">sparseShape</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Shape" title="Futhark.IR.Syntax.Core">Shape</a></li><li><a href="#v:sparseType">sparseType</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a></li><li><a href="#v:sparseIdxVals">sparseIdxVals</a> :: [(<a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a>, <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>, <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>)]</li></ul>}</li><li class="src short"><a href="#v:adjFromParam">adjFromParam</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Param" title="Futhark.IR.Syntax.Core">Param</a> t -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a></li><li class="src short"><a href="#v:adjFromVar">adjFromVar</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a></li><li class="src short"><a href="#v:lookupAdj">lookupAdj</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a></li><li class="src short"><a href="#v:lookupAdjVal">lookupAdjVal</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a></li><li class="src short"><a href="#v:adjVal">adjVal</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a></li><li class="src short"><a href="#v:updateAdj">updateAdj</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</li><li class="src short"><a href="#v:updateSubExpAdj">updateSubExpAdj</a> :: <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</li><li class="src short"><a href="#v:updateAdjSlice">updateAdjSlice</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Slice" title="Futhark.IR.Syntax.Core">Slice</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</li><li class="src short"><a href="#v:updateAdjIndex">updateAdjIndex</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; (<a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a>, <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>) -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</li><li class="src short"><a href="#v:setAdj">setAdj</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</li><li class="src short"><a href="#v:insAdj">insAdj</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</li><li class="src short"><a href="#v:insSubExpAdj">insSubExpAdj</a> :: <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</li><li class="src short"><a href="#v:adjsReps">adjsReps</a> :: [<a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a>] -&gt; ([<a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>], [<a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>] -&gt; [<a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a>])</li><li class="src short"><a href="#v:copyConsumedArrsInStm">copyConsumedArrsInStm</a> :: <a href="Futhark-IR-SOACS.html#t:Stm" title="Futhark.IR.SOACS">Stm</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> (<a href="Futhark-Transform-Substitute.html#t:Substitutions" title="Futhark.Transform.Substitute">Substitutions</a>, <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> <a href="Futhark-IR-SOACS.html#t:SOACS" title="Futhark.IR.SOACS">SOACS</a>)</li><li class="src short"><a href="#v:copyConsumedArrsInBody">copyConsumedArrsInBody</a> :: [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; <a href="Futhark-IR-SOACS.html#t:Body" title="Futhark.IR.SOACS">Body</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-Transform-Substitute.html#t:Substitutions" title="Futhark.Transform.Substitute">Substitutions</a></li><li class="src short"><a href="#v:addSubstitution">addSubstitution</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</li><li class="src short"><a href="#v:returnSweepCode">returnSweepCode</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a</li><li class="src short"><a href="#v:adjVName">adjVName</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a></li><li class="src short"><a href="#v:subAD">subAD</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a</li><li class="src short"><a href="#v:noAdjsFor">noAdjsFor</a> :: <a href="Futhark-IR-Prop-Names.html#t:Names" title="Futhark.IR.Prop.Names">Names</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a</li><li class="src short"><a href="#v:subSubsts">subSubsts</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a</li><li class="src short"><a href="#v:isActive">isActive</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> Bool</li><li class="src short"><a href="#v:tabNest">tabNest</a> :: Int -&gt; [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; ([<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>]) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>]</li><li class="src short"><a href="#v:oneExp">oneExp</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> -&gt; <a href="Futhark-IR-Syntax.html#t:ExpT" title="Futhark.IR.Syntax">ExpT</a> rep</li><li class="src short"><a href="#v:zeroExp">zeroExp</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> -&gt; <a href="Futhark-IR-Syntax.html#t:ExpT" title="Futhark.IR.Syntax">ExpT</a> rep</li><li class="src short"><a href="#v:unitAdjOfType">unitAdjOfType</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a></li><li class="src short"><a href="#v:addLambda">addLambda</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-IR-SOACS.html#t:Lambda" title="Futhark.IR.SOACS">Lambda</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:VjpOps">VjpOps</a> = <a href="#v:VjpOps">VjpOps</a> {<ul class="subs"><li><a href="#v:vjpLambda">vjpLambda</a> :: [<a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a>] -&gt; [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; <a href="Futhark-IR-SOACS.html#t:Lambda" title="Futhark.IR.SOACS">Lambda</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-IR-SOACS.html#t:Lambda" title="Futhark.IR.SOACS">Lambda</a></li><li><a href="#v:vjpStm">vjpStm</a> :: <a href="Futhark-IR-SOACS.html#t:Stm" title="Futhark.IR.SOACS">Stm</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</li></ul>}</li><li class="src short"><a href="#v:setLoopTape">setLoopTape</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</li><li class="src short"><a href="#v:lookupLoopTape">lookupLoopTape</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> (Maybe <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>)</li><li class="src short"><a href="#v:substLoopTape">substLoopTape</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</li><li class="src short"><a href="#v:renameLoopTape">renameLoopTape</a> :: <a href="Futhark-Transform-Substitute.html#t:Substitutions" title="Futhark.Transform.Substitute">Substitutions</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ADM" class="def">ADM</a> a <a href="src/Futhark.AD.Rev.Monad.html#ADM" class="link">Source</a> <a href="#t:ADM" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ADM">Instances</h4><details id="i:ADM" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ADM:Monad:1"></span> <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-202" class="link">Source</a> <a href="#t:ADM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ADM:Monad:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; (a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> b) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> b -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ADM:Functor:2"></span> <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Functor" title="Control.Monad.Compat">Functor</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-200" class="link">Source</a> <a href="#t:ADM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ADM:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> b -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ADM:Applicative:3"></span> Applicative <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-201" class="link">Source</a> <a href="#t:ADM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ADM:Applicative:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a</p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> (a -&gt; b) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> b</p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> b -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> c</p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> b -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> b</p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> b -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ADM:MonadFreshNames:4"></span> <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-204" class="link">Source</a> <a href="#t:ADM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ADM:MonadFreshNames:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getNameSource">getNameSource</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a> <a href="src/Futhark.MonadFreshNames.html#getNameSource" class="link">Source</a> <a href="#v:getNameSource" class="selflink">#</a></p><p class="src"><a href="#v:putNameSource">putNameSource</a> :: <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.MonadFreshNames.html#putNameSource" class="link">Source</a> <a href="#v:putNameSource" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ADM:MonadBuilder:5"></span> <a href="Futhark-Builder-Class.html#t:MonadBuilder" title="Futhark.Builder.Class">MonadBuilder</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-209" class="link">Source</a> <a href="#t:ADM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ADM:MonadBuilder:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="src/Futhark.Builder.Class.html#Rep" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkExpDecM">mkExpDecM</a> :: <a href="Futhark-IR-Syntax.html#t:Pat" title="Futhark.IR.Syntax">Pat</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a>) -&gt; <a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a>) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> (<a href="Futhark-IR-Rep.html#t:ExpDec" title="Futhark.IR.Rep">ExpDec</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a>)) <a href="src/Futhark.Builder.Class.html#mkExpDecM" class="link">Source</a> <a href="#v:mkExpDecM" class="selflink">#</a></p><p class="src"><a href="#v:mkBodyM">mkBodyM</a> :: <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a>) -&gt; <a href="Futhark-IR-Syntax.html#t:Result" title="Futhark.IR.Syntax">Result</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> (<a href="Futhark-IR-Syntax.html#t:Body" title="Futhark.IR.Syntax">Body</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a>)) <a href="src/Futhark.Builder.Class.html#mkBodyM" class="link">Source</a> <a href="#v:mkBodyM" class="selflink">#</a></p><p class="src"><a href="#v:mkLetNamesM">mkLetNamesM</a> :: [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; <a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a>) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> (<a href="Futhark-IR-Syntax.html#t:Stm" title="Futhark.IR.Syntax">Stm</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a>)) <a href="src/Futhark.Builder.Class.html#mkLetNamesM" class="link">Source</a> <a href="#v:mkLetNamesM" class="selflink">#</a></p><p class="src"><a href="#v:addStm">addStm</a> :: <a href="Futhark-IR-Syntax.html#t:Stm" title="Futhark.IR.Syntax">Stm</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a>) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.Builder.Class.html#addStm" class="link">Source</a> <a href="#v:addStm" class="selflink">#</a></p><p class="src"><a href="#v:addStms">addStms</a> :: <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a>) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.Builder.Class.html#addStms" class="link">Source</a> <a href="#v:addStms" class="selflink">#</a></p><p class="src"><a href="#v:collectStms">collectStms</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> (a, <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a>)) <a href="src/Futhark.Builder.Class.html#collectStms" class="link">Source</a> <a href="#v:collectStms" class="selflink">#</a></p><p class="src"><a href="#v:certifying">certifying</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a <a href="src/Futhark.Builder.Class.html#certifying" class="link">Source</a> <a href="#v:certifying" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ADM:MonadState:6"></span> MonadState <a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-203" class="link">Source</a> <a href="#t:ADM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ADM:MonadState:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</p><p class="src"><a href="#v:state">state</a> :: (<a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a> -&gt; (a, <a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a>)) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ADM:LocalScope:7"></span> <a href="Futhark-IR-Prop-Scope.html#t:LocalScope" title="Futhark.IR.Prop.Scope">LocalScope</a> <a href="Futhark-IR-SOACS.html#t:SOACS" title="Futhark.IR.SOACS">SOACS</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-206" class="link">Source</a> <a href="#t:ADM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ADM:LocalScope:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:localScope">localScope</a> :: <a href="Futhark-IR-Prop-Scope.html#t:Scope" title="Futhark.IR.Prop.Scope">Scope</a> <a href="Futhark-IR-SOACS.html#t:SOACS" title="Futhark.IR.SOACS">SOACS</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a <a href="src/Futhark.IR.Prop.Scope.html#localScope" class="link">Source</a> <a href="#v:localScope" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ADM:HasScope:8"></span> <a href="Futhark-IR-Prop-Scope.html#t:HasScope" title="Futhark.IR.Prop.Scope">HasScope</a> <a href="Futhark-IR-SOACS.html#t:SOACS" title="Futhark.IR.SOACS">SOACS</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-205" class="link">Source</a> <a href="#t:ADM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ADM:HasScope:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lookupType">lookupType</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> <a href="src/Futhark.IR.Prop.Scope.html#lookupType" class="link">Source</a> <a href="#v:lookupType" class="selflink">#</a></p><p class="src"><a href="#v:lookupInfo">lookupInfo</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> (<a href="Futhark-IR-Prop-Scope.html#t:NameInfo" title="Futhark.IR.Prop.Scope">NameInfo</a> <a href="Futhark-IR-SOACS.html#t:SOACS" title="Futhark.IR.SOACS">SOACS</a>) <a href="src/Futhark.IR.Prop.Scope.html#lookupInfo" class="link">Source</a> <a href="#v:lookupInfo" class="selflink">#</a></p><p class="src"><a href="#v:askScope">askScope</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> (<a href="Futhark-IR-Prop-Scope.html#t:Scope" title="Futhark.IR.Prop.Scope">Scope</a> <a href="Futhark-IR-SOACS.html#t:SOACS" title="Futhark.IR.SOACS">SOACS</a>) <a href="src/Futhark.IR.Prop.Scope.html#askScope" class="link">Source</a> <a href="#v:askScope" class="selflink">#</a></p><p class="src"><a href="#v:asksScope">asksScope</a> :: (<a href="Futhark-IR-Prop-Scope.html#t:Scope" title="Futhark.IR.Prop.Scope">Scope</a> <a href="Futhark-IR-SOACS.html#t:SOACS" title="Futhark.IR.SOACS">SOACS</a> -&gt; a) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a <a href="src/Futhark.IR.Prop.Scope.html#asksScope" class="link">Source</a> <a href="#v:asksScope" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ADM:Rep:9"></span> <span class="keyword">type</span> <a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-210" class="link">Source</a> <a href="#t:ADM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ADM:Rep:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="src"><span class="keyword">type</span> <a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> = <a href="Futhark-IR-SOACS.html#t:SOACS" title="Futhark.IR.SOACS">SOACS</a></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RState" class="def">RState</a> <a href="src/Futhark.AD.Rev.Monad.html#RState" class="link">Source</a> <a href="#t:RState" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RState" class="def">RState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:stateAdjs" class="def">stateAdjs</a> :: Map <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:stateLoopTape" class="def">stateLoopTape</a> :: <a href="Futhark-Transform-Substitute.html#t:Substitutions" title="Futhark.Transform.Substitute">Substitutions</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:stateSubsts" class="def">stateSubsts</a> :: <a href="Futhark-Transform-Substitute.html#t:Substitutions" title="Futhark.Transform.Substitute">Substitutions</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:stateNameSource" class="def">stateNameSource</a> :: <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:RState">Instances</h4><details id="i:RState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RState:MonadState:1"></span> MonadState <a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a> <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-203" class="link">Source</a> <a href="#t:RState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RState:MonadState:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</p><p class="src"><a href="#v:state">state</a> :: (<a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a> -&gt; (a, <a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a>)) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RState:MonadFreshNames:2"></span> <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> (State <a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a>)</span> <a href="src/Futhark.AD.Rev.Monad.html#line-218" class="link">Source</a> <a href="#t:RState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RState:MonadFreshNames:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getNameSource">getNameSource</a> :: State <a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a> <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a> <a href="src/Futhark.MonadFreshNames.html#getNameSource" class="link">Source</a> <a href="#v:getNameSource" class="selflink">#</a></p><p class="src"><a href="#v:putNameSource">putNameSource</a> :: <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a> -&gt; State <a href="Futhark-AD-Rev-Monad.html#t:RState" title="Futhark.AD.Rev.Monad">RState</a> () <a href="src/Futhark.MonadFreshNames.html#putNameSource" class="link">Source</a> <a href="#v:putNameSource" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:runADM" class="def">runADM</a> :: <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m =&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; m a <a href="src/Futhark.AD.Rev.Monad.html#runADM" class="link">Source</a> <a href="#v:runADM" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Adj" class="def">Adj</a> <a href="src/Futhark.AD.Rev.Monad.html#Adj" class="link">Source</a> <a href="#t:Adj" class="selflink">#</a></p><div class="doc"><p>The adjoint of a variable.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AdjSparse" class="def">AdjSparse</a> <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AdjVal" class="def">AdjVal</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AdjZero" class="def">AdjZero</a> <a href="Futhark-IR-Syntax-Core.html#t:Shape" title="Futhark.IR.Syntax.Core">Shape</a> <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Adj">Instances</h4><details id="i:Adj" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Adj:Eq:1"></span> Eq <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-128" class="link">Source</a> <a href="#t:Adj" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Adj:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Adj:Ord:2"></span> Ord <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-128" class="link">Source</a> <a href="#t:Adj" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Adj:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; Ordering</p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; Bool</p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; Bool</p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; Bool</p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; Bool</p><p class="src"><a href="#v:max">max</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Adj:Show:3"></span> Show <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-128" class="link">Source</a> <a href="#t:Adj" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Adj:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a>] -&gt; ShowS</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Adj:Substitute:4"></span> <a href="Futhark-Transform-Substitute.html#t:Substitute" title="Futhark.Transform.Substitute">Substitute</a> <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-130" class="link">Source</a> <a href="#t:Adj" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Adj:Substitute:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:substituteNames">substituteNames</a> :: Map <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> <a href="src/Futhark.Transform.Substitute.html#substituteNames" class="link">Source</a> <a href="#v:substituteNames" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InBounds" class="def">InBounds</a> <a href="src/Futhark.AD.Rev.Monad.html#InBounds" class="link">Source</a> <a href="#t:InBounds" class="selflink">#</a></p><div class="doc"><p>Whether <code><a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a></code> should check bounds or assume they are correct.
 The latter results in simpler code.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CheckBounds" class="def">CheckBounds</a> (Maybe <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>)</td><td class="doc"><p>If a SubExp is provided, it references a boolean that is true
 when in-bounds.</p></td></tr><tr><td class="src"><a id="v:AssumeBounds" class="def">AssumeBounds</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:OutOfBounds" class="def">OutOfBounds</a></td><td class="doc"><p>Dynamically these will always fail, so don't bother
 generating code for the update.  This is only needed to ensure
 a consistent representation of sparse Jacobians.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:InBounds">Instances</h4><details id="i:InBounds" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InBounds:Eq:1"></span> Eq <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-107" class="link">Source</a> <a href="#t:InBounds" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InBounds:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InBounds:Ord:2"></span> Ord <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-107" class="link">Source</a> <a href="#t:InBounds" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InBounds:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; Ordering</p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; Bool</p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; Bool</p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; Bool</p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; Bool</p><p class="src"><a href="#v:max">max</a> :: <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InBounds:Show:3"></span> Show <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-107" class="link">Source</a> <a href="#t:InBounds" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InBounds:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Sparse" class="def">Sparse</a> <a href="src/Futhark.AD.Rev.Monad.html#Sparse" class="link">Source</a> <a href="#t:Sparse" class="selflink">#</a></p><div class="doc"><p>A symbolic representation of an array that is all zeroes, except at one
 index.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Sparse" class="def">Sparse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:sparseShape" class="def">sparseShape</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Shape" title="Futhark.IR.Syntax.Core">Shape</a></dfn><div class="doc"><p>The shape of the array.</p></div></li><li><dfn class="src"><a id="v:sparseType" class="def">sparseType</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a></dfn><div class="doc"><p>Element type of the array.</p></div></li><li><dfn class="src"><a id="v:sparseIdxVals" class="def">sparseIdxVals</a> :: [(<a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a>, <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>, <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>)]</dfn><div class="doc"><p>Locations and values of nonzero values.  Indexes may be
 negative, in which case the value is ignored (unless
 <code><a href="Futhark-AD-Rev-Monad.html#v:AssumeBounds" title="Futhark.AD.Rev.Monad">AssumeBounds</a></code> is used).</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Sparse">Instances</h4><details id="i:Sparse" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Sparse:Eq:1"></span> Eq <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-121" class="link">Source</a> <a href="#t:Sparse" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Sparse:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Sparse:Ord:2"></span> Ord <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-121" class="link">Source</a> <a href="#t:Sparse" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Sparse:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; Ordering</p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; Bool</p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; Bool</p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; Bool</p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; Bool</p><p class="src"><a href="#v:max">max</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Sparse:Show:3"></span> Show <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a></span> <a href="src/Futhark.AD.Rev.Monad.html#line-121" class="link">Source</a> <a href="#t:Sparse" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Sparse:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-AD-Rev-Monad.html">Futhark.AD.Rev.Monad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-AD-Rev-Monad.html#t:Sparse" title="Futhark.AD.Rev.Monad">Sparse</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:adjFromParam" class="def">adjFromParam</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Param" title="Futhark.IR.Syntax.Core">Param</a> t -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> <a href="src/Futhark.AD.Rev.Monad.html#adjFromParam" class="link">Source</a> <a href="#v:adjFromParam" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:adjFromVar" class="def">adjFromVar</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> <a href="src/Futhark.AD.Rev.Monad.html#adjFromVar" class="link">Source</a> <a href="#v:adjFromVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupAdj" class="def">lookupAdj</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> <a href="src/Futhark.AD.Rev.Monad.html#lookupAdj" class="link">Source</a> <a href="#v:lookupAdj" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupAdjVal" class="def">lookupAdjVal</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="src/Futhark.AD.Rev.Monad.html#lookupAdjVal" class="link">Source</a> <a href="#v:lookupAdjVal" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:adjVal" class="def">adjVal</a> :: <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="src/Futhark.AD.Rev.Monad.html#adjVal" class="link">Source</a> <a href="#v:adjVal" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateAdj" class="def">updateAdj</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.AD.Rev.Monad.html#updateAdj" class="link">Source</a> <a href="#v:updateAdj" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateSubExpAdj" class="def">updateSubExpAdj</a> :: <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.AD.Rev.Monad.html#updateSubExpAdj" class="link">Source</a> <a href="#v:updateSubExpAdj" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateAdjSlice" class="def">updateAdjSlice</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Slice" title="Futhark.IR.Syntax.Core">Slice</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.AD.Rev.Monad.html#updateAdjSlice" class="link">Source</a> <a href="#v:updateAdjSlice" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateAdjIndex" class="def">updateAdjIndex</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; (<a href="Futhark-AD-Rev-Monad.html#t:InBounds" title="Futhark.AD.Rev.Monad">InBounds</a>, <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>) -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.AD.Rev.Monad.html#updateAdjIndex" class="link">Source</a> <a href="#v:updateAdjIndex" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setAdj" class="def">setAdj</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.AD.Rev.Monad.html#setAdj" class="link">Source</a> <a href="#v:setAdj" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:insAdj" class="def">insAdj</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.AD.Rev.Monad.html#insAdj" class="link">Source</a> <a href="#v:insAdj" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:insSubExpAdj" class="def">insSubExpAdj</a> :: <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.AD.Rev.Monad.html#insSubExpAdj" class="link">Source</a> <a href="#v:insSubExpAdj" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:adjsReps" class="def">adjsReps</a> :: [<a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a>] -&gt; ([<a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>], [<a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>] -&gt; [<a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a>]) <a href="src/Futhark.AD.Rev.Monad.html#adjsReps" class="link">Source</a> <a href="#v:adjsReps" class="selflink">#</a></p><div class="doc"><p>Conveniently convert a list of Adjs to their representation, as
 well as produce a function for converting back.</p></div></div><div class="top"><p class="src"><a id="v:copyConsumedArrsInStm" class="def">copyConsumedArrsInStm</a> :: <a href="Futhark-IR-SOACS.html#t:Stm" title="Futhark.IR.SOACS">Stm</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> (<a href="Futhark-Transform-Substitute.html#t:Substitutions" title="Futhark.Transform.Substitute">Substitutions</a>, <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> <a href="Futhark-IR-SOACS.html#t:SOACS" title="Futhark.IR.SOACS">SOACS</a>) <a href="src/Futhark.AD.Rev.Monad.html#copyConsumedArrsInStm" class="link">Source</a> <a href="#v:copyConsumedArrsInStm" class="selflink">#</a></p><div class="doc"><p>Create copies of all arrays consumed in the given statement, and
 return statements which include copies of the consumed arrays.</p><p>See Note [Consumption].</p></div></div><div class="top"><p class="src"><a id="v:copyConsumedArrsInBody" class="def">copyConsumedArrsInBody</a> :: [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; <a href="Futhark-IR-SOACS.html#t:Body" title="Futhark.IR.SOACS">Body</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-Transform-Substitute.html#t:Substitutions" title="Futhark.Transform.Substitute">Substitutions</a> <a href="src/Futhark.AD.Rev.Monad.html#copyConsumedArrsInBody" class="link">Source</a> <a href="#v:copyConsumedArrsInBody" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addSubstitution" class="def">addSubstitution</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.AD.Rev.Monad.html#addSubstitution" class="link">Source</a> <a href="#v:addSubstitution" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:returnSweepCode" class="def">returnSweepCode</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a <a href="src/Futhark.AD.Rev.Monad.html#returnSweepCode" class="link">Source</a> <a href="#v:returnSweepCode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:adjVName" class="def">adjVName</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="src/Futhark.AD.Rev.Monad.html#adjVName" class="link">Source</a> <a href="#v:adjVName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:subAD" class="def">subAD</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a <a href="src/Futhark.AD.Rev.Monad.html#subAD" class="link">Source</a> <a href="#v:subAD" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:noAdjsFor" class="def">noAdjsFor</a> :: <a href="Futhark-IR-Prop-Names.html#t:Names" title="Futhark.IR.Prop.Names">Names</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a <a href="src/Futhark.AD.Rev.Monad.html#noAdjsFor" class="link">Source</a> <a href="#v:noAdjsFor" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:subSubsts" class="def">subSubsts</a> :: <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> a <a href="src/Futhark.AD.Rev.Monad.html#subSubsts" class="link">Source</a> <a href="#v:subSubsts" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isActive" class="def">isActive</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> Bool <a href="src/Futhark.AD.Rev.Monad.html#isActive" class="link">Source</a> <a href="#v:isActive" class="selflink">#</a></p><div class="doc"><p>Is this primal variable active in the AD sense?  FIXME: this is
 (obviously) much too conservative.</p></div></div><div class="top"><p class="src"><a id="v:tabNest" class="def">tabNest</a> :: Int -&gt; [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; ([<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>]) -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] <a href="src/Futhark.AD.Rev.Monad.html#tabNest" class="link">Source</a> <a href="#v:tabNest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oneExp" class="def">oneExp</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> -&gt; <a href="Futhark-IR-Syntax.html#t:ExpT" title="Futhark.IR.Syntax">ExpT</a> rep <a href="src/Futhark.AD.Rev.Monad.html#oneExp" class="link">Source</a> <a href="#v:oneExp" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:zeroExp" class="def">zeroExp</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> -&gt; <a href="Futhark-IR-Syntax.html#t:ExpT" title="Futhark.IR.Syntax">ExpT</a> rep <a href="src/Futhark.AD.Rev.Monad.html#zeroExp" class="link">Source</a> <a href="#v:zeroExp" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unitAdjOfType" class="def">unitAdjOfType</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a> <a href="src/Futhark.AD.Rev.Monad.html#unitAdjOfType" class="link">Source</a> <a href="#v:unitAdjOfType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addLambda" class="def">addLambda</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-IR-SOACS.html#t:Lambda" title="Futhark.IR.SOACS">Lambda</a> <a href="src/Futhark.AD.Rev.Monad.html#addLambda" class="link">Source</a> <a href="#v:addLambda" class="selflink">#</a></p><div class="doc"><p>Construct a lambda for adding two values of the given type.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:VjpOps" class="def">VjpOps</a> <a href="src/Futhark.AD.Rev.Monad.html#VjpOps" class="link">Source</a> <a href="#t:VjpOps" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:VjpOps" class="def">VjpOps</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:vjpLambda" class="def">vjpLambda</a> :: [<a href="Futhark-AD-Rev-Monad.html#t:Adj" title="Futhark.AD.Rev.Monad">Adj</a>] -&gt; [<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>] -&gt; <a href="Futhark-IR-SOACS.html#t:Lambda" title="Futhark.IR.SOACS">Lambda</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> <a href="Futhark-IR-SOACS.html#t:Lambda" title="Futhark.IR.SOACS">Lambda</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:vjpStm" class="def">vjpStm</a> :: <a href="Futhark-IR-SOACS.html#t:Stm" title="Futhark.IR.SOACS">Stm</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> ()</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:setLoopTape" class="def">setLoopTape</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.AD.Rev.Monad.html#setLoopTape" class="link">Source</a> <a href="#v:setLoopTape" class="selflink">#</a></p><div class="doc"><p><code>setLoopTape v vs</code> establishes <code>vs</code> as the name of the array
 where values of loop parameter <code>v</code> from the forward pass are
 stored.</p></div></div><div class="top"><p class="src"><a id="v:lookupLoopTape" class="def">lookupLoopTape</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> (Maybe <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>) <a href="src/Futhark.AD.Rev.Monad.html#lookupLoopTape" class="link">Source</a> <a href="#v:lookupLoopTape" class="selflink">#</a></p><div class="doc"><p>Look-up the name of the array where <code>v</code> is stored.</p></div></div><div class="top"><p class="src"><a id="v:substLoopTape" class="def">substLoopTape</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.AD.Rev.Monad.html#substLoopTape" class="link">Source</a> <a href="#v:substLoopTape" class="selflink">#</a></p><div class="doc"><p><code>substLoopTape v v'</code> substitutes the key <code>v</code> for <code>v'</code>. That is,
 if <code>v |-&gt; vs</code> then after the substitution <code>v' |-&gt; vs</code> (and <code>v</code>
 points to nothing).</p></div></div><div class="top"><p class="src"><a id="v:renameLoopTape" class="def">renameLoopTape</a> :: <a href="Futhark-Transform-Substitute.html#t:Substitutions" title="Futhark.Transform.Substitute">Substitutions</a> -&gt; <a href="Futhark-AD-Rev-Monad.html#t:ADM" title="Futhark.AD.Rev.Monad">ADM</a> () <a href="src/Futhark.AD.Rev.Monad.html#renameLoopTape" class="link">Source</a> <a href="#v:renameLoopTape" class="selflink">#</a></p><div class="doc"><p>Renames the keys of the loop tape. Useful for fixing the
 the names in the loop tape after a loop rename.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>