<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Futhark.Pass.ExtractKernels.Intragroup</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">futhark-0.22.0: An optimising compiler for a functional, array-oriented language.</span><ul class="links" id="page-menu"><li><a href="src/Futhark.Pass.ExtractKernels.Intragroup.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Futhark.Pass.ExtractKernels.Intragroup</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Extract limited nested parallelism for execution inside
 individual kernel workgroups.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:intraGroupParallelise">intraGroupParallelise</a> :: (<a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m, <a href="Futhark-IR-Prop-Scope.html#t:LocalScope" title="Futhark.IR.Prop.Scope">LocalScope</a> <a href="Futhark-IR-GPU.html#t:GPU" title="Futhark.IR.GPU">GPU</a> m) =&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-IR-SOACS.html#t:Lambda" title="Futhark.IR.SOACS">Lambda</a> -&gt; m (Maybe ((<a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>, <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>), <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>, <a href="Futhark-Util-Log.html#t:Log" title="Futhark.Util.Log">Log</a>, <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> <a href="Futhark-IR-GPU.html#t:GPU" title="Futhark.IR.GPU">GPU</a>, <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> <a href="Futhark-IR-GPU.html#t:GPU" title="Futhark.IR.GPU">GPU</a>))</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:intraGroupParallelise" class="def">intraGroupParallelise</a> :: (<a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m, <a href="Futhark-IR-Prop-Scope.html#t:LocalScope" title="Futhark.IR.Prop.Scope">LocalScope</a> <a href="Futhark-IR-GPU.html#t:GPU" title="Futhark.IR.GPU">GPU</a> m) =&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-IR-SOACS.html#t:Lambda" title="Futhark.IR.SOACS">Lambda</a> -&gt; m (Maybe ((<a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>, <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>), <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>, <a href="Futhark-Util-Log.html#t:Log" title="Futhark.Util.Log">Log</a>, <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> <a href="Futhark-IR-GPU.html#t:GPU" title="Futhark.IR.GPU">GPU</a>, <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> <a href="Futhark-IR-GPU.html#t:GPU" title="Futhark.IR.GPU">GPU</a>)) <a href="src/Futhark.Pass.ExtractKernels.Intragroup.html#intraGroupParallelise" class="link">Source</a> <a href="#v:intraGroupParallelise" class="selflink">#</a></p><div class="doc"><p>Convert the statements inside a map nest to kernel statements,
 attempting to parallelise any remaining (top-level) parallel
 statements.  Anything that is not a map, scan or reduction will
 simply be sequentialised.  This includes sequential loops that
 contain maps, scans or reduction.  In the future, we could probably
 do something more clever.  Make sure that the amount of parallelism
 to be exploited does not exceed the group size.  Further, as a hack
 we also consider the size of all intermediate arrays as
 &quot;parallelism to be exploited&quot; to avoid exploding local memory.</p><p>We distinguish between &quot;minimum group size&quot; and &quot;maximum
 exploitable parallelism&quot;.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>