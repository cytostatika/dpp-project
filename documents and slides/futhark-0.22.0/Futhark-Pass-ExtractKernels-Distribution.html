<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Futhark.Pass.ExtractKernels.Distribution</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">futhark-0.22.0: An optimising compiler for a functional, array-oriented language.</span><ul class="links" id="page-menu"><li><a href="src/Futhark.Pass.ExtractKernels.Distribution.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Futhark.Pass.ExtractKernels.Distribution</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:Target">Target</a> = (<a href="Futhark-IR-Syntax.html#t:PatT" title="Futhark.IR.Syntax">PatT</a> <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a>, <a href="Futhark-IR-Syntax.html#t:Result" title="Futhark.IR.Syntax">Result</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Targets">Targets</a></li><li class="src short"><a href="#v:ppTargets">ppTargets</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li class="src short"><a href="#v:singleTarget">singleTarget</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a></li><li class="src short"><a href="#v:outerTarget">outerTarget</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a></li><li class="src short"><a href="#v:innerTarget">innerTarget</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a></li><li class="src short"><a href="#v:pushInnerTarget">pushInnerTarget</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a></li><li class="src short"><a href="#v:popInnerTarget">popInnerTarget</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; Maybe (<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a>, <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a>)</li><li class="src short"><a href="#v:targetsScope">targetsScope</a> :: <a href="Futhark-Pass-ExtractKernels-BlockedKernel.html#t:DistRep" title="Futhark.Pass.ExtractKernels.BlockedKernel">DistRep</a> rep =&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="Futhark-IR-Prop-Scope.html#t:Scope" title="Futhark.IR.Prop.Scope">Scope</a> rep</li><li class="src short"><span class="keyword">data</span> <a href="#t:LoopNesting">LoopNesting</a> = <a href="#v:MapNesting">MapNesting</a> {<ul class="subs"><li><a href="#v:loopNestingPat">loopNestingPat</a> :: <a href="Futhark-IR-Syntax.html#t:PatT" title="Futhark.IR.Syntax">PatT</a> <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a></li><li><a href="#v:loopNestingAux">loopNestingAux</a> :: <a href="Futhark-IR-Syntax.html#t:StmAux" title="Futhark.IR.Syntax">StmAux</a> ()</li><li><a href="#v:loopNestingWidth">loopNestingWidth</a> :: <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a></li><li><a href="#v:loopNestingParamsAndArrs">loopNestingParamsAndArrs</a> :: [(<a href="Futhark-IR-Syntax-Core.html#t:Param" title="Futhark.IR.Syntax.Core">Param</a> <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a>, <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>)]</li></ul>}</li><li class="src short"><a href="#v:ppLoopNesting">ppLoopNesting</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li class="src short"><a href="#v:scopeOfLoopNesting">scopeOfLoopNesting</a> :: <a href="Futhark-IR-Rep.html#t:LParamInfo" title="Futhark.IR.Rep">LParamInfo</a> rep ~ <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> =&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; <a href="Futhark-IR-Prop-Scope.html#t:Scope" title="Futhark.IR.Prop.Scope">Scope</a> rep</li><li class="src short"><span class="keyword">data</span> <a href="#t:Nesting">Nesting</a> = <a href="#v:Nesting">Nesting</a> {<ul class="subs"><li><a href="#v:nestingLetBound">nestingLetBound</a> :: <a href="Futhark-IR-Prop-Names.html#t:Names" title="Futhark.IR.Prop.Names">Names</a></li><li><a href="#v:nestingLoop">nestingLoop</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:Nestings">Nestings</a> = (<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nesting" title="Futhark.Pass.ExtractKernels.Distribution">Nesting</a>, [<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nesting" title="Futhark.Pass.ExtractKernels.Distribution">Nesting</a>])</li><li class="src short"><a href="#v:ppNestings">ppNestings</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li class="src short"><a href="#v:letBindInInnerNesting">letBindInInnerNesting</a> :: <a href="Futhark-IR-Prop-Names.html#t:Names" title="Futhark.IR.Prop.Names">Names</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a></li><li class="src short"><a href="#v:singleNesting">singleNesting</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nesting" title="Futhark.Pass.ExtractKernels.Distribution">Nesting</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a></li><li class="src short"><a href="#v:pushInnerNesting">pushInnerNesting</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nesting" title="Futhark.Pass.ExtractKernels.Distribution">Nesting</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:KernelNest">KernelNest</a> = (<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a>, [<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a>])</li><li class="src short"><a href="#v:ppKernelNest">ppKernelNest</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li class="src short"><a href="#v:newKernel">newKernel</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a></li><li class="src short"><a href="#v:innermostKernelNesting">innermostKernelNesting</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a></li><li class="src short"><a href="#v:pushKernelNesting">pushKernelNesting</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a></li><li class="src short"><a href="#v:pushInnerKernelNesting">pushInnerKernelNesting</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a></li><li class="src short"><a href="#v:scopeOfKernelNest">scopeOfKernelNest</a> :: <a href="Futhark-IR-Rep.html#t:LParamInfo" title="Futhark.IR.Rep">LParamInfo</a> rep ~ <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> =&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-IR-Prop-Scope.html#t:Scope" title="Futhark.IR.Prop.Scope">Scope</a> rep</li><li class="src short"><a href="#v:kernelNestLoops">kernelNestLoops</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; [<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a>]</li><li class="src short"><a href="#v:kernelNestWidths">kernelNestWidths</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; [<a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>]</li><li class="src short"><a href="#v:boundInKernelNest">boundInKernelNest</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-IR-Prop-Names.html#t:Names" title="Futhark.IR.Prop.Names">Names</a></li><li class="src short"><a href="#v:boundInKernelNests">boundInKernelNests</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; [<a href="Futhark-IR-Prop-Names.html#t:Names" title="Futhark.IR.Prop.Names">Names</a>]</li><li class="src short"><a href="#v:flatKernel">flatKernel</a> :: <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m =&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; m ([(<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>, <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>)], [<a href="Futhark-Pass-ExtractKernels-BlockedKernel.html#t:KernelInput" title="Futhark.Pass.ExtractKernels.BlockedKernel">KernelInput</a>])</li><li class="src short"><a href="#v:constructKernel">constructKernel</a> :: (<a href="Futhark-Pass-ExtractKernels-BlockedKernel.html#t:DistRep" title="Futhark.Pass.ExtractKernels.BlockedKernel">DistRep</a> rep, <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m, <a href="Futhark-IR-Prop-Scope.html#t:LocalScope" title="Futhark.IR.Prop.Scope">LocalScope</a> rep m) =&gt; <a href="Futhark-Pass-ExtractKernels-BlockedKernel.html#t:MkSegLevel" title="Futhark.Pass.ExtractKernels.BlockedKernel">MkSegLevel</a> rep m -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-IR-Syntax.html#t:Body" title="Futhark.IR.Syntax">Body</a> rep -&gt; m (<a href="Futhark-IR-Syntax.html#t:Stm" title="Futhark.IR.Syntax">Stm</a> rep, <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> rep)</li><li class="src short"><a href="#v:tryDistribute">tryDistribute</a> :: (<a href="Futhark-Pass-ExtractKernels-BlockedKernel.html#t:DistRep" title="Futhark.Pass.ExtractKernels.BlockedKernel">DistRep</a> rep, <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m, <a href="Futhark-IR-Prop-Scope.html#t:LocalScope" title="Futhark.IR.Prop.Scope">LocalScope</a> rep m, <a href="Futhark-Util-Log.html#t:MonadLogger" title="Futhark.Util.Log">MonadLogger</a> m) =&gt; <a href="Futhark-Pass-ExtractKernels-BlockedKernel.html#t:MkSegLevel" title="Futhark.Pass.ExtractKernels.BlockedKernel">MkSegLevel</a> rep m -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> rep -&gt; m (Maybe (<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a>, <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> rep))</li><li class="src short"><a href="#v:tryDistributeStm">tryDistributeStm</a> :: (<a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m, <a href="Futhark-IR-Prop-Scope.html#t:HasScope" title="Futhark.IR.Prop.Scope">HasScope</a> t m, <a href="Futhark-IR-Prop.html#t:ASTRep" title="Futhark.IR.Prop">ASTRep</a> rep) =&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="Futhark-IR-Syntax.html#t:Stm" title="Futhark.IR.Syntax">Stm</a> rep -&gt; m (Maybe (<a href="Futhark-IR-Syntax.html#t:Result" title="Futhark.IR.Syntax">Result</a>, <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a>, <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a>))</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Target" class="def">Target</a> = (<a href="Futhark-IR-Syntax.html#t:PatT" title="Futhark.IR.Syntax">PatT</a> <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a>, <a href="Futhark-IR-Syntax.html#t:Result" title="Futhark.IR.Syntax">Result</a>) <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#Target" class="link">Source</a> <a href="#t:Target" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Targets" class="def">Targets</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#Targets" class="link">Source</a> <a href="#t:Targets" class="selflink">#</a></p><div class="doc"><p>First pair element is the very innermost (&quot;current&quot;) target.  In
 the list, the outermost target comes first.  Invariant: Every
 element of a pattern must be present as the result of the
 immediately enclosing target.  This is ensured by <code><a href="Futhark-Pass-ExtractKernels-Distribution.html#v:pushInnerTarget" title="Futhark.Pass.ExtractKernels.Distribution">pushInnerTarget</a></code>
 by removing unused pattern elements.</p></div></div><div class="top"><p class="src"><a id="v:ppTargets" class="def">ppTargets</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#ppTargets" class="link">Source</a> <a href="#v:ppTargets" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:singleTarget" class="def">singleTarget</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#singleTarget" class="link">Source</a> <a href="#v:singleTarget" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:outerTarget" class="def">outerTarget</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#outerTarget" class="link">Source</a> <a href="#v:outerTarget" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:innerTarget" class="def">innerTarget</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#innerTarget" class="link">Source</a> <a href="#v:innerTarget" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:pushInnerTarget" class="def">pushInnerTarget</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#pushInnerTarget" class="link">Source</a> <a href="#v:pushInnerTarget" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:popInnerTarget" class="def">popInnerTarget</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; Maybe (<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a>, <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a>) <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#popInnerTarget" class="link">Source</a> <a href="#v:popInnerTarget" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:targetsScope" class="def">targetsScope</a> :: <a href="Futhark-Pass-ExtractKernels-BlockedKernel.html#t:DistRep" title="Futhark.Pass.ExtractKernels.BlockedKernel">DistRep</a> rep =&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="Futhark-IR-Prop-Scope.html#t:Scope" title="Futhark.IR.Prop.Scope">Scope</a> rep <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#targetsScope" class="link">Source</a> <a href="#v:targetsScope" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LoopNesting" class="def">LoopNesting</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#LoopNesting" class="link">Source</a> <a href="#t:LoopNesting" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MapNesting" class="def">MapNesting</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:loopNestingPat" class="def">loopNestingPat</a> :: <a href="Futhark-IR-Syntax.html#t:PatT" title="Futhark.IR.Syntax">PatT</a> <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:loopNestingAux" class="def">loopNestingAux</a> :: <a href="Futhark-IR-Syntax.html#t:StmAux" title="Futhark.IR.Syntax">StmAux</a> ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:loopNestingWidth" class="def">loopNestingWidth</a> :: <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:loopNestingParamsAndArrs" class="def">loopNestingParamsAndArrs</a> :: [(<a href="Futhark-IR-Syntax-Core.html#t:Param" title="Futhark.IR.Syntax.Core">Param</a> <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a>, <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>)]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:LoopNesting">Instances</h4><details id="i:LoopNesting" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LoopNesting:Show:1"></span> Show <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a></span> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#line-128" class="link">Source</a> <a href="#t:LoopNesting" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LoopNesting:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Pass-ExtractKernels-Distribution.html">Futhark.Pass.ExtractKernels.Distribution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a>] -&gt; ShowS</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LoopNesting:FreeIn:2"></span> <a href="Futhark-IR-Prop-Names.html#t:FreeIn" title="Futhark.IR.Prop.Names">FreeIn</a> <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a></span> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#line-142" class="link">Source</a> <a href="#t:LoopNesting" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LoopNesting:FreeIn:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Pass-ExtractKernels-Distribution.html">Futhark.Pass.ExtractKernels.Distribution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:freeIn-39-">freeIn'</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; <a href="Futhark-IR-Prop-Names.html#t:FV" title="Futhark.IR.Prop.Names">FV</a> <a href="src/Futhark.IR.Prop.Names.html#freeIn%27" class="link">Source</a> <a href="#v:freeIn-39-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:ppLoopNesting" class="def">ppLoopNesting</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#ppLoopNesting" class="link">Source</a> <a href="#v:ppLoopNesting" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:scopeOfLoopNesting" class="def">scopeOfLoopNesting</a> :: <a href="Futhark-IR-Rep.html#t:LParamInfo" title="Futhark.IR.Rep">LParamInfo</a> rep ~ <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> =&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; <a href="Futhark-IR-Prop-Scope.html#t:Scope" title="Futhark.IR.Prop.Scope">Scope</a> rep <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#scopeOfLoopNesting" class="link">Source</a> <a href="#v:scopeOfLoopNesting" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Nesting" class="def">Nesting</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#Nesting" class="link">Source</a> <a href="#t:Nesting" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Nesting" class="def">Nesting</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:nestingLetBound" class="def">nestingLetBound</a> :: <a href="Futhark-IR-Prop-Names.html#t:Names" title="Futhark.IR.Prop.Names">Names</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:nestingLoop" class="def">nestingLoop</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Nesting">Instances</h4><details id="i:Nesting" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Nesting:Show:1"></span> Show <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nesting" title="Futhark.Pass.ExtractKernels.Distribution">Nesting</a></span> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#line-150" class="link">Source</a> <a href="#t:Nesting" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Nesting:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Pass-ExtractKernels-Distribution.html">Futhark.Pass.ExtractKernels.Distribution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nesting" title="Futhark.Pass.ExtractKernels.Distribution">Nesting</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nesting" title="Futhark.Pass.ExtractKernels.Distribution">Nesting</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nesting" title="Futhark.Pass.ExtractKernels.Distribution">Nesting</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Nestings" class="def">Nestings</a> = (<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nesting" title="Futhark.Pass.ExtractKernels.Distribution">Nesting</a>, [<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nesting" title="Futhark.Pass.ExtractKernels.Distribution">Nesting</a>]) <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#Nestings" class="link">Source</a> <a href="#t:Nestings" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ppNestings" class="def">ppNestings</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#ppNestings" class="link">Source</a> <a href="#v:ppNestings" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:letBindInInnerNesting" class="def">letBindInInnerNesting</a> :: <a href="Futhark-IR-Prop-Names.html#t:Names" title="Futhark.IR.Prop.Names">Names</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#letBindInInnerNesting" class="link">Source</a> <a href="#v:letBindInInnerNesting" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:singleNesting" class="def">singleNesting</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nesting" title="Futhark.Pass.ExtractKernels.Distribution">Nesting</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#singleNesting" class="link">Source</a> <a href="#v:singleNesting" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:pushInnerNesting" class="def">pushInnerNesting</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nesting" title="Futhark.Pass.ExtractKernels.Distribution">Nesting</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#pushInnerNesting" class="link">Source</a> <a href="#v:pushInnerNesting" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:KernelNest" class="def">KernelNest</a> = (<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a>, [<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a>]) <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#KernelNest" class="link">Source</a> <a href="#t:KernelNest" class="selflink">#</a></p><div class="doc"><p>Note: first element is *outermost* nesting.  This is different
 from the similar types elsewhere!</p></div></div><div class="top"><p class="src"><a id="v:ppKernelNest" class="def">ppKernelNest</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#ppKernelNest" class="link">Source</a> <a href="#v:ppKernelNest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:newKernel" class="def">newKernel</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#newKernel" class="link">Source</a> <a href="#v:newKernel" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:innermostKernelNesting" class="def">innermostKernelNesting</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#innermostKernelNesting" class="link">Source</a> <a href="#v:innermostKernelNesting" class="selflink">#</a></p><div class="doc"><p>Retrieve the innermost kernel nesting.</p></div></div><div class="top"><p class="src"><a id="v:pushKernelNesting" class="def">pushKernelNesting</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#pushKernelNesting" class="link">Source</a> <a href="#v:pushKernelNesting" class="selflink">#</a></p><div class="doc"><p>Add new outermost nesting, pushing the current outermost to the
 list, also taking care to swap patterns if necessary.</p></div></div><div class="top"><p class="src"><a id="v:pushInnerKernelNesting" class="def">pushInnerKernelNesting</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#pushInnerKernelNesting" class="link">Source</a> <a href="#v:pushInnerKernelNesting" class="selflink">#</a></p><div class="doc"><p>Add new innermost nesting, pushing the current outermost to the
 list.  It is important that the <code><a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Target" title="Futhark.Pass.ExtractKernels.Distribution">Target</a></code> has the right order
 (non-permuted compared to what is expected by the outer nests).</p></div></div><div class="top"><p class="src"><a id="v:scopeOfKernelNest" class="def">scopeOfKernelNest</a> :: <a href="Futhark-IR-Rep.html#t:LParamInfo" title="Futhark.IR.Rep">LParamInfo</a> rep ~ <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> =&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-IR-Prop-Scope.html#t:Scope" title="Futhark.IR.Prop.Scope">Scope</a> rep <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#scopeOfKernelNest" class="link">Source</a> <a href="#v:scopeOfKernelNest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:kernelNestLoops" class="def">kernelNestLoops</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; [<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:LoopNesting" title="Futhark.Pass.ExtractKernels.Distribution">LoopNesting</a>] <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#kernelNestLoops" class="link">Source</a> <a href="#v:kernelNestLoops" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:kernelNestWidths" class="def">kernelNestWidths</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; [<a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>] <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#kernelNestWidths" class="link">Source</a> <a href="#v:kernelNestWidths" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:boundInKernelNest" class="def">boundInKernelNest</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-IR-Prop-Names.html#t:Names" title="Futhark.IR.Prop.Names">Names</a> <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#boundInKernelNest" class="link">Source</a> <a href="#v:boundInKernelNest" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:boundInKernelNests" class="def">boundInKernelNests</a> :: <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; [<a href="Futhark-IR-Prop-Names.html#t:Names" title="Futhark.IR.Prop.Names">Names</a>] <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#boundInKernelNests" class="link">Source</a> <a href="#v:boundInKernelNests" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:flatKernel" class="def">flatKernel</a> :: <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m =&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; m ([(<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>, <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>)], [<a href="Futhark-Pass-ExtractKernels-BlockedKernel.html#t:KernelInput" title="Futhark.Pass.ExtractKernels.BlockedKernel">KernelInput</a>]) <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#flatKernel" class="link">Source</a> <a href="#v:flatKernel" class="selflink">#</a></p><div class="doc"><p>Flatten a kernel nesting to:</p><ol><li>The index space.</li><li>The kernel inputs - note that some of these may be unused.</li></ol></div></div><div class="top"><p class="src"><a id="v:constructKernel" class="def">constructKernel</a> :: (<a href="Futhark-Pass-ExtractKernels-BlockedKernel.html#t:DistRep" title="Futhark.Pass.ExtractKernels.BlockedKernel">DistRep</a> rep, <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m, <a href="Futhark-IR-Prop-Scope.html#t:LocalScope" title="Futhark.IR.Prop.Scope">LocalScope</a> rep m) =&gt; <a href="Futhark-Pass-ExtractKernels-BlockedKernel.html#t:MkSegLevel" title="Futhark.Pass.ExtractKernels.BlockedKernel">MkSegLevel</a> rep m -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a> -&gt; <a href="Futhark-IR-Syntax.html#t:Body" title="Futhark.IR.Syntax">Body</a> rep -&gt; m (<a href="Futhark-IR-Syntax.html#t:Stm" title="Futhark.IR.Syntax">Stm</a> rep, <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> rep) <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#constructKernel" class="link">Source</a> <a href="#v:constructKernel" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tryDistribute" class="def">tryDistribute</a> :: (<a href="Futhark-Pass-ExtractKernels-BlockedKernel.html#t:DistRep" title="Futhark.Pass.ExtractKernels.BlockedKernel">DistRep</a> rep, <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m, <a href="Futhark-IR-Prop-Scope.html#t:LocalScope" title="Futhark.IR.Prop.Scope">LocalScope</a> rep m, <a href="Futhark-Util-Log.html#t:MonadLogger" title="Futhark.Util.Log">MonadLogger</a> m) =&gt; <a href="Futhark-Pass-ExtractKernels-BlockedKernel.html#t:MkSegLevel" title="Futhark.Pass.ExtractKernels.BlockedKernel">MkSegLevel</a> rep m -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> rep -&gt; m (Maybe (<a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a>, <a href="Futhark-IR-Syntax.html#t:Stms" title="Futhark.IR.Syntax">Stms</a> rep)) <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#tryDistribute" class="link">Source</a> <a href="#v:tryDistribute" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tryDistributeStm" class="def">tryDistributeStm</a> :: (<a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m, <a href="Futhark-IR-Prop-Scope.html#t:HasScope" title="Futhark.IR.Prop.Scope">HasScope</a> t m, <a href="Futhark-IR-Prop.html#t:ASTRep" title="Futhark.IR.Prop">ASTRep</a> rep) =&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Nestings" title="Futhark.Pass.ExtractKernels.Distribution">Nestings</a> -&gt; <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a> -&gt; <a href="Futhark-IR-Syntax.html#t:Stm" title="Futhark.IR.Syntax">Stm</a> rep -&gt; m (Maybe (<a href="Futhark-IR-Syntax.html#t:Result" title="Futhark.IR.Syntax">Result</a>, <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:Targets" title="Futhark.Pass.ExtractKernels.Distribution">Targets</a>, <a href="Futhark-Pass-ExtractKernels-Distribution.html#t:KernelNest" title="Futhark.Pass.ExtractKernels.Distribution">KernelNest</a>)) <a href="src/Futhark.Pass.ExtractKernels.Distribution.html#tryDistributeStm" class="link">Source</a> <a href="#v:tryDistributeStm" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>