<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Futhark.Analysis.Rephrase</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">futhark-0.22.0: An optimising compiler for a functional, array-oriented language.</span><ul class="links" id="page-menu"><li><a href="src/Futhark.Analysis.Rephrase.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Futhark.Analysis.Rephrase</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Facilities for changing the rep of some fragment, with no
 context.  We call this &quot;rephrasing&quot;, for no deep reason.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:rephraseProg">rephraseProg</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; <a href="Futhark-Analysis-Rephrase.html#t:Rephraser" title="Futhark.Analysis.Rephrase">Rephraser</a> m from to -&gt; <a href="Futhark-IR-Syntax.html#t:Prog" title="Futhark.IR.Syntax">Prog</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:Prog" title="Futhark.IR.Syntax">Prog</a> to)</li><li class="src short"><a href="#v:rephraseFunDef">rephraseFunDef</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; <a href="Futhark-Analysis-Rephrase.html#t:Rephraser" title="Futhark.Analysis.Rephrase">Rephraser</a> m from to -&gt; <a href="Futhark-IR-Syntax.html#t:FunDef" title="Futhark.IR.Syntax">FunDef</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:FunDef" title="Futhark.IR.Syntax">FunDef</a> to)</li><li class="src short"><a href="#v:rephraseExp">rephraseExp</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; <a href="Futhark-Analysis-Rephrase.html#t:Rephraser" title="Futhark.Analysis.Rephrase">Rephraser</a> m from to -&gt; <a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a> to)</li><li class="src short"><a href="#v:rephraseBody">rephraseBody</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; <a href="Futhark-Analysis-Rephrase.html#t:Rephraser" title="Futhark.Analysis.Rephrase">Rephraser</a> m from to -&gt; <a href="Futhark-IR-Syntax.html#t:Body" title="Futhark.IR.Syntax">Body</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:Body" title="Futhark.IR.Syntax">Body</a> to)</li><li class="src short"><a href="#v:rephraseStm">rephraseStm</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; <a href="Futhark-Analysis-Rephrase.html#t:Rephraser" title="Futhark.Analysis.Rephrase">Rephraser</a> m from to -&gt; <a href="Futhark-IR-Syntax.html#t:Stm" title="Futhark.IR.Syntax">Stm</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:Stm" title="Futhark.IR.Syntax">Stm</a> to)</li><li class="src short"><a href="#v:rephraseLambda">rephraseLambda</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; <a href="Futhark-Analysis-Rephrase.html#t:Rephraser" title="Futhark.Analysis.Rephrase">Rephraser</a> m from to -&gt; <a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> to)</li><li class="src short"><a href="#v:rephrasePat">rephrasePat</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; (from -&gt; m to) -&gt; <a href="Futhark-IR-Syntax.html#t:PatT" title="Futhark.IR.Syntax">PatT</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:PatT" title="Futhark.IR.Syntax">PatT</a> to)</li><li class="src short"><a href="#v:rephrasePatElem">rephrasePatElem</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; (from -&gt; m to) -&gt; <a href="Futhark-IR-Syntax-Core.html#t:PatElemT" title="Futhark.IR.Syntax.Core">PatElemT</a> from -&gt; m (<a href="Futhark-IR-Syntax-Core.html#t:PatElemT" title="Futhark.IR.Syntax.Core">PatElemT</a> to)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Rephraser">Rephraser</a> m from to = <a href="#v:Rephraser">Rephraser</a> {<ul class="subs"><li><a href="#v:rephraseExpDec">rephraseExpDec</a> :: <a href="Futhark-IR-Rep.html#t:ExpDec" title="Futhark.IR.Rep">ExpDec</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:ExpDec" title="Futhark.IR.Rep">ExpDec</a> to)</li><li><a href="#v:rephraseLetBoundDec">rephraseLetBoundDec</a> :: <a href="Futhark-IR-Rep.html#t:LetDec" title="Futhark.IR.Rep">LetDec</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:LetDec" title="Futhark.IR.Rep">LetDec</a> to)</li><li><a href="#v:rephraseFParamDec">rephraseFParamDec</a> :: <a href="Futhark-IR-Rep.html#t:FParamInfo" title="Futhark.IR.Rep">FParamInfo</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:FParamInfo" title="Futhark.IR.Rep">FParamInfo</a> to)</li><li><a href="#v:rephraseLParamDec">rephraseLParamDec</a> :: <a href="Futhark-IR-Rep.html#t:LParamInfo" title="Futhark.IR.Rep">LParamInfo</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:LParamInfo" title="Futhark.IR.Rep">LParamInfo</a> to)</li><li><a href="#v:rephraseBodyDec">rephraseBodyDec</a> :: <a href="Futhark-IR-Rep.html#t:BodyDec" title="Futhark.IR.Rep">BodyDec</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:BodyDec" title="Futhark.IR.Rep">BodyDec</a> to)</li><li><a href="#v:rephraseRetType">rephraseRetType</a> :: <a href="Futhark-IR-Rep.html#t:RetType" title="Futhark.IR.Rep">RetType</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:RetType" title="Futhark.IR.Rep">RetType</a> to)</li><li><a href="#v:rephraseBranchType">rephraseBranchType</a> :: <a href="Futhark-IR-Rep.html#t:BranchType" title="Futhark.IR.Rep">BranchType</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:BranchType" title="Futhark.IR.Rep">BranchType</a> to)</li><li><a href="#v:rephraseOp">rephraseOp</a> :: <a href="Futhark-IR-Rep.html#t:Op" title="Futhark.IR.Rep">Op</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:Op" title="Futhark.IR.Rep">Op</a> to)</li></ul>}</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:rephraseProg" class="def">rephraseProg</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; <a href="Futhark-Analysis-Rephrase.html#t:Rephraser" title="Futhark.Analysis.Rephrase">Rephraser</a> m from to -&gt; <a href="Futhark-IR-Syntax.html#t:Prog" title="Futhark.IR.Syntax">Prog</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:Prog" title="Futhark.IR.Syntax">Prog</a> to) <a href="src/Futhark.Analysis.Rephrase.html#rephraseProg" class="link">Source</a> <a href="#v:rephraseProg" class="selflink">#</a></p><div class="doc"><p>Rephrase an entire program.</p></div></div><div class="top"><p class="src"><a id="v:rephraseFunDef" class="def">rephraseFunDef</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; <a href="Futhark-Analysis-Rephrase.html#t:Rephraser" title="Futhark.Analysis.Rephrase">Rephraser</a> m from to -&gt; <a href="Futhark-IR-Syntax.html#t:FunDef" title="Futhark.IR.Syntax">FunDef</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:FunDef" title="Futhark.IR.Syntax">FunDef</a> to) <a href="src/Futhark.Analysis.Rephrase.html#rephraseFunDef" class="link">Source</a> <a href="#v:rephraseFunDef" class="selflink">#</a></p><div class="doc"><p>Rephrase a function definition.</p></div></div><div class="top"><p class="src"><a id="v:rephraseExp" class="def">rephraseExp</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; <a href="Futhark-Analysis-Rephrase.html#t:Rephraser" title="Futhark.Analysis.Rephrase">Rephraser</a> m from to -&gt; <a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a> to) <a href="src/Futhark.Analysis.Rephrase.html#rephraseExp" class="link">Source</a> <a href="#v:rephraseExp" class="selflink">#</a></p><div class="doc"><p>Rephrase an expression.</p></div></div><div class="top"><p class="src"><a id="v:rephraseBody" class="def">rephraseBody</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; <a href="Futhark-Analysis-Rephrase.html#t:Rephraser" title="Futhark.Analysis.Rephrase">Rephraser</a> m from to -&gt; <a href="Futhark-IR-Syntax.html#t:Body" title="Futhark.IR.Syntax">Body</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:Body" title="Futhark.IR.Syntax">Body</a> to) <a href="src/Futhark.Analysis.Rephrase.html#rephraseBody" class="link">Source</a> <a href="#v:rephraseBody" class="selflink">#</a></p><div class="doc"><p>Rephrase a body.</p></div></div><div class="top"><p class="src"><a id="v:rephraseStm" class="def">rephraseStm</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; <a href="Futhark-Analysis-Rephrase.html#t:Rephraser" title="Futhark.Analysis.Rephrase">Rephraser</a> m from to -&gt; <a href="Futhark-IR-Syntax.html#t:Stm" title="Futhark.IR.Syntax">Stm</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:Stm" title="Futhark.IR.Syntax">Stm</a> to) <a href="src/Futhark.Analysis.Rephrase.html#rephraseStm" class="link">Source</a> <a href="#v:rephraseStm" class="selflink">#</a></p><div class="doc"><p>Rephrase a statement.</p></div></div><div class="top"><p class="src"><a id="v:rephraseLambda" class="def">rephraseLambda</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; <a href="Futhark-Analysis-Rephrase.html#t:Rephraser" title="Futhark.Analysis.Rephrase">Rephraser</a> m from to -&gt; <a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> to) <a href="src/Futhark.Analysis.Rephrase.html#rephraseLambda" class="link">Source</a> <a href="#v:rephraseLambda" class="selflink">#</a></p><div class="doc"><p>Rephrase a lambda.</p></div></div><div class="top"><p class="src"><a id="v:rephrasePat" class="def">rephrasePat</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; (from -&gt; m to) -&gt; <a href="Futhark-IR-Syntax.html#t:PatT" title="Futhark.IR.Syntax">PatT</a> from -&gt; m (<a href="Futhark-IR-Syntax.html#t:PatT" title="Futhark.IR.Syntax">PatT</a> to) <a href="src/Futhark.Analysis.Rephrase.html#rephrasePat" class="link">Source</a> <a href="#v:rephrasePat" class="selflink">#</a></p><div class="doc"><p>Rephrase a pattern.</p></div></div><div class="top"><p class="src"><a id="v:rephrasePatElem" class="def">rephrasePatElem</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; (from -&gt; m to) -&gt; <a href="Futhark-IR-Syntax-Core.html#t:PatElemT" title="Futhark.IR.Syntax.Core">PatElemT</a> from -&gt; m (<a href="Futhark-IR-Syntax-Core.html#t:PatElemT" title="Futhark.IR.Syntax.Core">PatElemT</a> to) <a href="src/Futhark.Analysis.Rephrase.html#rephrasePatElem" class="link">Source</a> <a href="#v:rephrasePatElem" class="selflink">#</a></p><div class="doc"><p>Rephrase a pattern element.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Rephraser" class="def">Rephraser</a> m from to <a href="src/Futhark.Analysis.Rephrase.html#Rephraser" class="link">Source</a> <a href="#t:Rephraser" class="selflink">#</a></p><div class="doc"><p>A collection of functions that together allow us to rephrase some
 IR fragment, in some monad <code>m</code>.  If we let <code>m</code> be the <code>Maybe</code>
 monad, we can conveniently do rephrasing that might fail.  This is
 useful if you want to see if some IR in e.g. the <code>Kernels</code> rep
 actually uses any <code>Kernels</code>-specific operations.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Rephraser" class="def">Rephraser</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:rephraseExpDec" class="def">rephraseExpDec</a> :: <a href="Futhark-IR-Rep.html#t:ExpDec" title="Futhark.IR.Rep">ExpDec</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:ExpDec" title="Futhark.IR.Rep">ExpDec</a> to)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:rephraseLetBoundDec" class="def">rephraseLetBoundDec</a> :: <a href="Futhark-IR-Rep.html#t:LetDec" title="Futhark.IR.Rep">LetDec</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:LetDec" title="Futhark.IR.Rep">LetDec</a> to)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:rephraseFParamDec" class="def">rephraseFParamDec</a> :: <a href="Futhark-IR-Rep.html#t:FParamInfo" title="Futhark.IR.Rep">FParamInfo</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:FParamInfo" title="Futhark.IR.Rep">FParamInfo</a> to)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:rephraseLParamDec" class="def">rephraseLParamDec</a> :: <a href="Futhark-IR-Rep.html#t:LParamInfo" title="Futhark.IR.Rep">LParamInfo</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:LParamInfo" title="Futhark.IR.Rep">LParamInfo</a> to)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:rephraseBodyDec" class="def">rephraseBodyDec</a> :: <a href="Futhark-IR-Rep.html#t:BodyDec" title="Futhark.IR.Rep">BodyDec</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:BodyDec" title="Futhark.IR.Rep">BodyDec</a> to)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:rephraseRetType" class="def">rephraseRetType</a> :: <a href="Futhark-IR-Rep.html#t:RetType" title="Futhark.IR.Rep">RetType</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:RetType" title="Futhark.IR.Rep">RetType</a> to)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:rephraseBranchType" class="def">rephraseBranchType</a> :: <a href="Futhark-IR-Rep.html#t:BranchType" title="Futhark.IR.Rep">BranchType</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:BranchType" title="Futhark.IR.Rep">BranchType</a> to)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:rephraseOp" class="def">rephraseOp</a> :: <a href="Futhark-IR-Rep.html#t:Op" title="Futhark.IR.Rep">Op</a> from -&gt; m (<a href="Futhark-IR-Rep.html#t:Op" title="Futhark.IR.Rep">Op</a> to)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>