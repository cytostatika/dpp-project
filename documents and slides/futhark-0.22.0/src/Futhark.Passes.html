<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-comment">-- | Optimisation pipelines.</span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Futhark.Passes</span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Futhark.Passes.html#standardPipeline"><span class="hs-identifier">standardPipeline</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><a href="Futhark.Passes.html#sequentialPipeline"><span class="hs-identifier">sequentialPipeline</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>    </span><span class="annot"><a href="Futhark.Passes.html#kernelsPipeline"><span class="hs-identifier">kernelsPipeline</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Futhark.Passes.html#sequentialCpuPipeline"><span class="hs-identifier">sequentialCpuPipeline</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Futhark.Passes.html#gpuPipeline"><span class="hs-identifier">gpuPipeline</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><a href="Futhark.Passes.html#mcPipeline"><span class="hs-identifier">mcPipeline</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Futhark.Passes.html#multicorePipeline"><span class="hs-identifier">multicorePipeline</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">where</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Category</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&gt;&gt;&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.IR.GPU.html"><span class="hs-identifier">Futhark.IR.GPU</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Futhark.IR.GPU.html#GPU"><span class="hs-identifier">GPU</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.IR.GPUMem.html"><span class="hs-identifier">Futhark.IR.GPUMem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Futhark.IR.GPUMem.html#GPUMem"><span class="hs-identifier">GPUMem</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.IR.MC.html"><span class="hs-identifier">Futhark.IR.MC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Futhark.IR.MC.html#MC"><span class="hs-identifier">MC</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.IR.MCMem.html"><span class="hs-identifier">Futhark.IR.MCMem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Futhark.IR.MCMem.html#MCMem"><span class="hs-identifier">MCMem</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.IR.SOACS.html"><span class="hs-identifier">Futhark.IR.SOACS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Futhark.IR.SOACS.html#SOACS"><span class="hs-identifier">SOACS</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.IR.Seq.html"><span class="hs-identifier">Futhark.IR.Seq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Futhark.IR.Seq.html#Seq"><span class="hs-identifier">Seq</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.IR.SeqMem.html"><span class="hs-identifier">Futhark.IR.SeqMem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Futhark.IR.SeqMem.html#SeqMem"><span class="hs-identifier">SeqMem</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Optimise.CSE.html"><span class="hs-identifier">Futhark.Optimise.CSE</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Optimise.DoubleBuffer.html"><span class="hs-identifier">Futhark.Optimise.DoubleBuffer</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Optimise.Fusion.html"><span class="hs-identifier">Futhark.Optimise.Fusion</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Optimise.GenRedOpt.html"><span class="hs-identifier">Futhark.Optimise.GenRedOpt</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Optimise.HistAccs.html"><span class="hs-identifier">Futhark.Optimise.HistAccs</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Optimise.InPlaceLowering.html"><span class="hs-identifier">Futhark.Optimise.InPlaceLowering</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Optimise.InliningDeadFun.html"><span class="hs-identifier">Futhark.Optimise.InliningDeadFun</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Futhark.Optimise.MemoryBlockMerging.html"><span class="hs-identifier">Futhark.Optimise.MemoryBlockMerging</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MemoryBlockMerging</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Optimise.Sink.html"><span class="hs-identifier">Futhark.Optimise.Sink</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Optimise.TileLoops.html"><span class="hs-identifier">Futhark.Optimise.TileLoops</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Optimise.Unstream.html"><span class="hs-identifier">Futhark.Optimise.Unstream</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Pass.AD.html"><span class="hs-identifier">Futhark.Pass.AD</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Pass.ExpandAllocations.html"><span class="hs-identifier">Futhark.Pass.ExpandAllocations</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Futhark.Pass.ExplicitAllocations.GPU.html"><span class="hs-identifier">Futhark.Pass.ExplicitAllocations.GPU</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GPU</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Futhark.Pass.ExplicitAllocations.MC.html"><span class="hs-identifier">Futhark.Pass.ExplicitAllocations.MC</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MC</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Futhark.Pass.ExplicitAllocations.Seq.html"><span class="hs-identifier">Futhark.Pass.ExplicitAllocations.Seq</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Seq</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Pass.ExtractKernels.html"><span class="hs-identifier">Futhark.Pass.ExtractKernels</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Pass.ExtractMulticore.html"><span class="hs-identifier">Futhark.Pass.ExtractMulticore</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Pass.FirstOrderTransform.html"><span class="hs-identifier">Futhark.Pass.FirstOrderTransform</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Pass.KernelBabysitting.html"><span class="hs-identifier">Futhark.Pass.KernelBabysitting</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Pass.Simplify.html"><span class="hs-identifier">Futhark.Pass.Simplify</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Pipeline.html"><span class="hs-identifier">Futhark.Pipeline</span></a></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="annot"><a href="Futhark.Passes.html#standardPipeline"><span class="hs-identifier hs-type">standardPipeline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pipeline.html#Pipeline"><span class="hs-identifier hs-type">Pipeline</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SOACS.html#SOACS"><span class="hs-identifier hs-type">SOACS</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SOACS.html#SOACS"><span class="hs-identifier hs-type">SOACS</span></a></span><span>
</span><span id="line-47"></span><span id="standardPipeline"><span class="annot"><span class="annottext">standardPipeline :: Pipeline SOACS SOACS
</span><a href="Futhark.Passes.html#standardPipeline"><span class="hs-identifier hs-var hs-var">standardPipeline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><span class="annottext">[Pass SOACS SOACS] -&gt; Pipeline SOACS SOACS
forall rep. Checkable rep =&gt; [Pass rep rep] -&gt; Pipeline rep rep
</span><a href="Futhark.Pipeline.html#passes"><span class="hs-identifier hs-var">passes</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Pass.Simplify.html#simplifySOACS"><span class="hs-identifier hs-var">simplifySOACS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Optimise.InliningDeadFun.html#inlineConservatively"><span class="hs-identifier hs-var">inlineConservatively</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Pass.Simplify.html#simplifySOACS"><span class="hs-identifier hs-var">simplifySOACS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Optimise.InliningDeadFun.html#inlineAggressively"><span class="hs-identifier hs-var">inlineAggressively</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Pass.Simplify.html#simplifySOACS"><span class="hs-identifier hs-var">simplifySOACS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Pass SOACS SOACS
forall rep.
(ASTRep rep, CanBeAliased (Op rep),
 CSEInOp (OpWithAliases (Op rep))) =&gt;
Bool -&gt; Pass rep rep
</span><a href="Futhark.Optimise.CSE.html#performCSE"><span class="hs-identifier hs-var">performCSE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Pass.Simplify.html#simplifySOACS"><span class="hs-identifier hs-var">simplifySOACS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>      </span><span class="hs-comment">-- We run fusion twice</span><span>
</span><span id="line-57"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Optimise.Fusion.html#fuseSOACs"><span class="hs-identifier hs-var">fuseSOACs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Pass SOACS SOACS
forall rep.
(ASTRep rep, CanBeAliased (Op rep),
 CSEInOp (OpWithAliases (Op rep))) =&gt;
Bool -&gt; Pass rep rep
</span><a href="Futhark.Optimise.CSE.html#performCSE"><span class="hs-identifier hs-var">performCSE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Pass.Simplify.html#simplifySOACS"><span class="hs-identifier hs-var">simplifySOACS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Optimise.Fusion.html#fuseSOACs"><span class="hs-identifier hs-var">fuseSOACs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Pass SOACS SOACS
forall rep.
(ASTRep rep, CanBeAliased (Op rep),
 CSEInOp (OpWithAliases (Op rep))) =&gt;
Bool -&gt; Pass rep rep
</span><a href="Futhark.Optimise.CSE.html#performCSE"><span class="hs-identifier hs-var">performCSE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Pass.Simplify.html#simplifySOACS"><span class="hs-identifier hs-var">simplifySOACS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Optimise.InliningDeadFun.html#removeDeadFunctions"><span class="hs-identifier hs-var">removeDeadFunctions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>      </span><span class="hs-comment">-- TODO: we sould skip the AD pass and its subsequent extra</span><span>
</span><span id="line-65"></span><span>      </span><span class="hs-comment">-- optimisation passes if the program contains no AD constructs.</span><span>
</span><span id="line-66"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Pass.AD.html#algebraicDifferentiation"><span class="hs-identifier hs-var">algebraicDifferentiation</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Pass.Simplify.html#simplifySOACS"><span class="hs-identifier hs-var">simplifySOACS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Pass SOACS SOACS
forall rep.
(ASTRep rep, CanBeAliased (Op rep),
 CSEInOp (OpWithAliases (Op rep))) =&gt;
Bool -&gt; Pass rep rep
</span><a href="Futhark.Optimise.CSE.html#performCSE"><span class="hs-identifier hs-var">performCSE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Optimise.Fusion.html#fuseSOACs"><span class="hs-identifier hs-var">fuseSOACs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Pass SOACS SOACS
forall rep.
(ASTRep rep, CanBeAliased (Op rep),
 CSEInOp (OpWithAliases (Op rep))) =&gt;
Bool -&gt; Pass rep rep
</span><a href="Futhark.Optimise.CSE.html#performCSE"><span class="hs-identifier hs-var">performCSE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Pass.Simplify.html#simplifySOACS"><span class="hs-identifier hs-var">simplifySOACS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Optimise.Fusion.html#fuseSOACs"><span class="hs-identifier hs-var">fuseSOACs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>      </span><span class="annot"><span class="annottext">Pass SOACS SOACS
</span><a href="Futhark.Pass.Simplify.html#simplifySOACS"><span class="hs-identifier hs-var">simplifySOACS</span></a></span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="annot"><a href="Futhark.Passes.html#kernelsPipeline"><span class="hs-identifier hs-type">kernelsPipeline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pipeline.html#Pipeline"><span class="hs-identifier hs-type">Pipeline</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SOACS.html#SOACS"><span class="hs-identifier hs-type">SOACS</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.GPU.html#GPU"><span class="hs-identifier hs-type">GPU</span></a></span><span>
</span><span id="line-77"></span><span id="kernelsPipeline"><span class="annot"><span class="annottext">kernelsPipeline :: Pipeline SOACS GPU
</span><a href="Futhark.Passes.html#kernelsPipeline"><span class="hs-identifier hs-var hs-var">kernelsPipeline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-78"></span><span>  </span><span class="annot"><span class="annottext">Pipeline SOACS SOACS
</span><a href="Futhark.Passes.html#standardPipeline"><span class="hs-identifier hs-var">standardPipeline</span></a></span><span>
</span><span id="line-79"></span><span>    </span><span class="annot"><span class="annottext">Pipeline SOACS SOACS -&gt; Pipeline SOACS GPU -&gt; Pipeline SOACS GPU
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k) (b :: k) (c :: k).
Category cat =&gt;
cat a b -&gt; cat b c -&gt; cat a c
</span><span class="hs-operator hs-var">&gt;&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pass SOACS GPU -&gt; Pipeline SOACS GPU
forall torep fromrep.
Checkable torep =&gt;
Pass fromrep torep -&gt; Pipeline fromrep torep
</span><a href="Futhark.Pipeline.html#onePass"><span class="hs-identifier hs-var">onePass</span></a></span><span> </span><span class="annot"><span class="annottext">Pass SOACS GPU
</span><a href="Futhark.Pass.ExtractKernels.html#extractKernels"><span class="hs-identifier hs-var">extractKernels</span></a></span><span>
</span><span id="line-80"></span><span>    </span><span class="annot"><span class="annottext">Pipeline SOACS GPU -&gt; Pipeline GPU GPU -&gt; Pipeline SOACS GPU
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k) (b :: k) (c :: k).
Category cat =&gt;
cat a b -&gt; cat b c -&gt; cat a c
</span><span class="hs-operator hs-var">&gt;&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Pass GPU GPU] -&gt; Pipeline GPU GPU
forall rep. Checkable rep =&gt; [Pass rep rep] -&gt; Pipeline rep rep
</span><a href="Futhark.Pipeline.html#passes"><span class="hs-identifier hs-var">passes</span></a></span><span>
</span><span id="line-81"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Pass.Simplify.html#simplifyGPU"><span class="hs-identifier hs-var">simplifyGPU</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>        </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Optimise.GenRedOpt.html#optimiseGenRed"><span class="hs-identifier hs-var">optimiseGenRed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>        </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Pass.Simplify.html#simplifyGPU"><span class="hs-identifier hs-var">simplifyGPU</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>        </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Optimise.HistAccs.html#histAccsGPU"><span class="hs-identifier hs-var">histAccsGPU</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-85"></span><span>        </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Pass.KernelBabysitting.html#babysitKernels"><span class="hs-identifier hs-var">babysitKernels</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>        </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Optimise.TileLoops.html#tileLoops"><span class="hs-identifier hs-var">tileLoops</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>        </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Pass.Simplify.html#simplifyGPU"><span class="hs-identifier hs-var">simplifyGPU</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>        </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Pass.KernelBabysitting.html#babysitKernels"><span class="hs-identifier hs-var">babysitKernels</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>        </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Pass.Simplify.html#simplifyGPU"><span class="hs-identifier hs-var">simplifyGPU</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>        </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Optimise.Unstream.html#unstreamGPU"><span class="hs-identifier hs-var">unstreamGPU</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Pass GPU GPU
forall rep.
(ASTRep rep, CanBeAliased (Op rep),
 CSEInOp (OpWithAliases (Op rep))) =&gt;
Bool -&gt; Pass rep rep
</span><a href="Futhark.Optimise.CSE.html#performCSE"><span class="hs-identifier hs-var">performCSE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>        </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Pass.Simplify.html#simplifyGPU"><span class="hs-identifier hs-var">simplifyGPU</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>        </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Optimise.Sink.html#sinkGPU"><span class="hs-identifier hs-var">sinkGPU</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>        </span><span class="annot"><span class="annottext">Pass GPU GPU
</span><a href="Futhark.Optimise.InPlaceLowering.html#inPlaceLoweringGPU"><span class="hs-identifier hs-var">inPlaceLoweringGPU</span></a></span><span>
</span><span id="line-95"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="annot"><a href="Futhark.Passes.html#sequentialPipeline"><span class="hs-identifier hs-type">sequentialPipeline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pipeline.html#Pipeline"><span class="hs-identifier hs-type">Pipeline</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SOACS.html#SOACS"><span class="hs-identifier hs-type">SOACS</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.Seq.html#Seq"><span class="hs-identifier hs-type">Seq</span></a></span><span>
</span><span id="line-98"></span><span id="sequentialPipeline"><span class="annot"><span class="annottext">sequentialPipeline :: Pipeline SOACS Seq
</span><a href="Futhark.Passes.html#sequentialPipeline"><span class="hs-identifier hs-var hs-var">sequentialPipeline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-99"></span><span>  </span><span class="annot"><span class="annottext">Pipeline SOACS SOACS
</span><a href="Futhark.Passes.html#standardPipeline"><span class="hs-identifier hs-var">standardPipeline</span></a></span><span>
</span><span id="line-100"></span><span>    </span><span class="annot"><span class="annottext">Pipeline SOACS SOACS -&gt; Pipeline SOACS Seq -&gt; Pipeline SOACS Seq
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k) (b :: k) (c :: k).
Category cat =&gt;
cat a b -&gt; cat b c -&gt; cat a c
</span><span class="hs-operator hs-var">&gt;&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pass SOACS Seq -&gt; Pipeline SOACS Seq
forall torep fromrep.
Checkable torep =&gt;
Pass fromrep torep -&gt; Pipeline fromrep torep
</span><a href="Futhark.Pipeline.html#onePass"><span class="hs-identifier hs-var">onePass</span></a></span><span> </span><span class="annot"><span class="annottext">Pass SOACS Seq
forall rep. FirstOrderRep rep =&gt; Pass SOACS rep
</span><a href="Futhark.Pass.FirstOrderTransform.html#firstOrderTransform"><span class="hs-identifier hs-var">firstOrderTransform</span></a></span><span>
</span><span id="line-101"></span><span>    </span><span class="annot"><span class="annottext">Pipeline SOACS Seq -&gt; Pipeline Seq Seq -&gt; Pipeline SOACS Seq
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k) (b :: k) (c :: k).
Category cat =&gt;
cat a b -&gt; cat b c -&gt; cat a c
</span><span class="hs-operator hs-var">&gt;&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Pass Seq Seq] -&gt; Pipeline Seq Seq
forall rep. Checkable rep =&gt; [Pass rep rep] -&gt; Pipeline rep rep
</span><a href="Futhark.Pipeline.html#passes"><span class="hs-identifier hs-var">passes</span></a></span><span>
</span><span id="line-102"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Pass Seq Seq
</span><a href="Futhark.Pass.Simplify.html#simplifySeq"><span class="hs-identifier hs-var">simplifySeq</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-103"></span><span>        </span><span class="annot"><span class="annottext">Pass Seq Seq
</span><a href="Futhark.Optimise.InPlaceLowering.html#inPlaceLoweringSeq"><span class="hs-identifier hs-var">inPlaceLoweringSeq</span></a></span><span>
</span><span id="line-104"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="annot"><a href="Futhark.Passes.html#sequentialCpuPipeline"><span class="hs-identifier hs-type">sequentialCpuPipeline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pipeline.html#Pipeline"><span class="hs-identifier hs-type">Pipeline</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SOACS.html#SOACS"><span class="hs-identifier hs-type">SOACS</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SeqMem.html#SeqMem"><span class="hs-identifier hs-type">SeqMem</span></a></span><span>
</span><span id="line-107"></span><span id="sequentialCpuPipeline"><span class="annot"><span class="annottext">sequentialCpuPipeline :: Pipeline SOACS SeqMem
</span><a href="Futhark.Passes.html#sequentialCpuPipeline"><span class="hs-identifier hs-var hs-var">sequentialCpuPipeline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><span class="annottext">Pipeline SOACS Seq
</span><a href="Futhark.Passes.html#sequentialPipeline"><span class="hs-identifier hs-var">sequentialPipeline</span></a></span><span>
</span><span id="line-109"></span><span>    </span><span class="annot"><span class="annottext">Pipeline SOACS Seq -&gt; Pipeline Seq SeqMem -&gt; Pipeline SOACS SeqMem
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k) (b :: k) (c :: k).
Category cat =&gt;
cat a b -&gt; cat b c -&gt; cat a c
</span><span class="hs-operator hs-var">&gt;&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pass Seq SeqMem -&gt; Pipeline Seq SeqMem
forall torep fromrep.
Checkable torep =&gt;
Pass fromrep torep -&gt; Pipeline fromrep torep
</span><a href="Futhark.Pipeline.html#onePass"><span class="hs-identifier hs-var">onePass</span></a></span><span> </span><span class="annot"><span class="annottext">Pass Seq SeqMem
</span><a href="Futhark.Pass.ExplicitAllocations.Seq.html#explicitAllocations"><span class="hs-identifier hs-var">Seq.explicitAllocations</span></a></span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><span class="annottext">Pipeline Seq SeqMem
-&gt; Pipeline SeqMem SeqMem -&gt; Pipeline Seq SeqMem
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k) (b :: k) (c :: k).
Category cat =&gt;
cat a b -&gt; cat b c -&gt; cat a c
</span><span class="hs-operator hs-var">&gt;&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Pass SeqMem SeqMem] -&gt; Pipeline SeqMem SeqMem
forall rep. Checkable rep =&gt; [Pass rep rep] -&gt; Pipeline rep rep
</span><a href="Futhark.Pipeline.html#passes"><span class="hs-identifier hs-var">passes</span></a></span><span>
</span><span id="line-111"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Pass SeqMem SeqMem
forall rep.
(ASTRep rep, CanBeAliased (Op rep),
 CSEInOp (OpWithAliases (Op rep))) =&gt;
Bool -&gt; Pass rep rep
</span><a href="Futhark.Optimise.CSE.html#performCSE"><span class="hs-identifier hs-var">performCSE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span>
</span><span id="line-112"></span><span>        </span><span class="annot"><span class="annottext">Pass SeqMem SeqMem
</span><a href="Futhark.Pass.Simplify.html#simplifySeqMem"><span class="hs-identifier hs-var">simplifySeqMem</span></a></span><span>
</span><span id="line-113"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="annot"><a href="Futhark.Passes.html#gpuPipeline"><span class="hs-identifier hs-type">gpuPipeline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pipeline.html#Pipeline"><span class="hs-identifier hs-type">Pipeline</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SOACS.html#SOACS"><span class="hs-identifier hs-type">SOACS</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.GPUMem.html#GPUMem"><span class="hs-identifier hs-type">GPUMem</span></a></span><span>
</span><span id="line-116"></span><span id="gpuPipeline"><span class="annot"><span class="annottext">gpuPipeline :: Pipeline SOACS GPUMem
</span><a href="Futhark.Passes.html#gpuPipeline"><span class="hs-identifier hs-var hs-var">gpuPipeline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><span class="annottext">Pipeline SOACS GPU
</span><a href="Futhark.Passes.html#kernelsPipeline"><span class="hs-identifier hs-var">kernelsPipeline</span></a></span><span>
</span><span id="line-118"></span><span>    </span><span class="annot"><span class="annottext">Pipeline SOACS GPU -&gt; Pipeline GPU GPUMem -&gt; Pipeline SOACS GPUMem
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k) (b :: k) (c :: k).
Category cat =&gt;
cat a b -&gt; cat b c -&gt; cat a c
</span><span class="hs-operator hs-var">&gt;&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pass GPU GPUMem -&gt; Pipeline GPU GPUMem
forall torep fromrep.
Checkable torep =&gt;
Pass fromrep torep -&gt; Pipeline fromrep torep
</span><a href="Futhark.Pipeline.html#onePass"><span class="hs-identifier hs-var">onePass</span></a></span><span> </span><span class="annot"><span class="annottext">Pass GPU GPUMem
</span><a href="Futhark.Pass.ExplicitAllocations.GPU.html#explicitAllocations"><span class="hs-identifier hs-var">GPU.explicitAllocations</span></a></span><span>
</span><span id="line-119"></span><span>    </span><span class="annot"><span class="annottext">Pipeline GPU GPUMem
-&gt; Pipeline GPUMem GPUMem -&gt; Pipeline GPU GPUMem
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k) (b :: k) (c :: k).
Category cat =&gt;
cat a b -&gt; cat b c -&gt; cat a c
</span><span class="hs-operator hs-var">&gt;&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Pass GPUMem GPUMem] -&gt; Pipeline GPUMem GPUMem
forall rep. Checkable rep =&gt; [Pass rep rep] -&gt; Pipeline rep rep
</span><a href="Futhark.Pipeline.html#passes"><span class="hs-identifier hs-var">passes</span></a></span><span>
</span><span id="line-120"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Pass GPUMem GPUMem
</span><a href="Futhark.Pass.Simplify.html#simplifyGPUMem"><span class="hs-identifier hs-var">simplifyGPUMem</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-121"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Pass GPUMem GPUMem
forall rep.
(ASTRep rep, CanBeAliased (Op rep),
 CSEInOp (OpWithAliases (Op rep))) =&gt;
Bool -&gt; Pass rep rep
</span><a href="Futhark.Optimise.CSE.html#performCSE"><span class="hs-identifier hs-var">performCSE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span>
</span><span id="line-122"></span><span>        </span><span class="annot"><span class="annottext">Pass GPUMem GPUMem
</span><a href="Futhark.Pass.Simplify.html#simplifyGPUMem"><span class="hs-identifier hs-var">simplifyGPUMem</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-123"></span><span>        </span><span class="annot"><span class="annottext">Pass GPUMem GPUMem
</span><a href="Futhark.Optimise.DoubleBuffer.html#doubleBufferGPU"><span class="hs-identifier hs-var">doubleBufferGPU</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-124"></span><span>        </span><span class="annot"><span class="annottext">Pass GPUMem GPUMem
</span><a href="Futhark.Pass.Simplify.html#simplifyGPUMem"><span class="hs-identifier hs-var">simplifyGPUMem</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-125"></span><span>        </span><span class="annot"><span class="annottext">Pass GPUMem GPUMem
</span><a href="Futhark.Optimise.MemoryBlockMerging.html#optimise"><span class="hs-identifier hs-var">MemoryBlockMerging.optimise</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-126"></span><span>        </span><span class="annot"><span class="annottext">Pass GPUMem GPUMem
</span><a href="Futhark.Pass.Simplify.html#simplifyGPUMem"><span class="hs-identifier hs-var">simplifyGPUMem</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-127"></span><span>        </span><span class="annot"><span class="annottext">Pass GPUMem GPUMem
</span><a href="Futhark.Pass.ExpandAllocations.html#expandAllocations"><span class="hs-identifier hs-var">expandAllocations</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-128"></span><span>        </span><span class="annot"><span class="annottext">Pass GPUMem GPUMem
</span><a href="Futhark.Pass.Simplify.html#simplifyGPUMem"><span class="hs-identifier hs-var">simplifyGPUMem</span></a></span><span>
</span><span id="line-129"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="annot"><a href="Futhark.Passes.html#mcPipeline"><span class="hs-identifier hs-type">mcPipeline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pipeline.html#Pipeline"><span class="hs-identifier hs-type">Pipeline</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SOACS.html#SOACS"><span class="hs-identifier hs-type">SOACS</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.MC.html#MC"><span class="hs-identifier hs-type">MC</span></a></span><span>
</span><span id="line-132"></span><span id="mcPipeline"><span class="annot"><span class="annottext">mcPipeline :: Pipeline SOACS MC
</span><a href="Futhark.Passes.html#mcPipeline"><span class="hs-identifier hs-var hs-var">mcPipeline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-133"></span><span>  </span><span class="annot"><span class="annottext">Pipeline SOACS SOACS
</span><a href="Futhark.Passes.html#standardPipeline"><span class="hs-identifier hs-var">standardPipeline</span></a></span><span>
</span><span id="line-134"></span><span>    </span><span class="annot"><span class="annottext">Pipeline SOACS SOACS -&gt; Pipeline SOACS MC -&gt; Pipeline SOACS MC
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k) (b :: k) (c :: k).
Category cat =&gt;
cat a b -&gt; cat b c -&gt; cat a c
</span><span class="hs-operator hs-var">&gt;&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pass SOACS MC -&gt; Pipeline SOACS MC
forall torep fromrep.
Checkable torep =&gt;
Pass fromrep torep -&gt; Pipeline fromrep torep
</span><a href="Futhark.Pipeline.html#onePass"><span class="hs-identifier hs-var">onePass</span></a></span><span> </span><span class="annot"><span class="annottext">Pass SOACS MC
</span><a href="Futhark.Pass.ExtractMulticore.html#extractMulticore"><span class="hs-identifier hs-var">extractMulticore</span></a></span><span>
</span><span id="line-135"></span><span>    </span><span class="annot"><span class="annottext">Pipeline SOACS MC -&gt; Pipeline MC MC -&gt; Pipeline SOACS MC
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k) (b :: k) (c :: k).
Category cat =&gt;
cat a b -&gt; cat b c -&gt; cat a c
</span><span class="hs-operator hs-var">&gt;&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Pass MC MC] -&gt; Pipeline MC MC
forall rep. Checkable rep =&gt; [Pass rep rep] -&gt; Pipeline rep rep
</span><a href="Futhark.Pipeline.html#passes"><span class="hs-identifier hs-var">passes</span></a></span><span>
</span><span id="line-136"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Pass MC MC
</span><a href="Futhark.Pass.Simplify.html#simplifyMC"><span class="hs-identifier hs-var">simplifyMC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-137"></span><span>        </span><span class="annot"><span class="annottext">Pass MC MC
</span><a href="Futhark.Optimise.Unstream.html#unstreamMC"><span class="hs-identifier hs-var">unstreamMC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-138"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Pass MC MC
forall rep.
(ASTRep rep, CanBeAliased (Op rep),
 CSEInOp (OpWithAliases (Op rep))) =&gt;
Bool -&gt; Pass rep rep
</span><a href="Futhark.Optimise.CSE.html#performCSE"><span class="hs-identifier hs-var">performCSE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>
</span><span id="line-139"></span><span>        </span><span class="annot"><span class="annottext">Pass MC MC
</span><a href="Futhark.Pass.Simplify.html#simplifyMC"><span class="hs-identifier hs-var">simplifyMC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-140"></span><span>        </span><span class="annot"><span class="annottext">Pass MC MC
</span><a href="Futhark.Optimise.Sink.html#sinkMC"><span class="hs-identifier hs-var">sinkMC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-141"></span><span>        </span><span class="annot"><span class="annottext">Pass MC MC
</span><a href="Futhark.Optimise.InPlaceLowering.html#inPlaceLoweringMC"><span class="hs-identifier hs-var">inPlaceLoweringMC</span></a></span><span>
</span><span id="line-142"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="annot"><a href="Futhark.Passes.html#multicorePipeline"><span class="hs-identifier hs-type">multicorePipeline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pipeline.html#Pipeline"><span class="hs-identifier hs-type">Pipeline</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SOACS.html#SOACS"><span class="hs-identifier hs-type">SOACS</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.MCMem.html#MCMem"><span class="hs-identifier hs-type">MCMem</span></a></span><span>
</span><span id="line-145"></span><span id="multicorePipeline"><span class="annot"><span class="annottext">multicorePipeline :: Pipeline SOACS MCMem
</span><a href="Futhark.Passes.html#multicorePipeline"><span class="hs-identifier hs-var hs-var">multicorePipeline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><span class="annottext">Pipeline SOACS MC
</span><a href="Futhark.Passes.html#mcPipeline"><span class="hs-identifier hs-var">mcPipeline</span></a></span><span>
</span><span id="line-147"></span><span>    </span><span class="annot"><span class="annottext">Pipeline SOACS MC -&gt; Pipeline MC MCMem -&gt; Pipeline SOACS MCMem
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k) (b :: k) (c :: k).
Category cat =&gt;
cat a b -&gt; cat b c -&gt; cat a c
</span><span class="hs-operator hs-var">&gt;&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pass MC MCMem -&gt; Pipeline MC MCMem
forall torep fromrep.
Checkable torep =&gt;
Pass fromrep torep -&gt; Pipeline fromrep torep
</span><a href="Futhark.Pipeline.html#onePass"><span class="hs-identifier hs-var">onePass</span></a></span><span> </span><span class="annot"><span class="annottext">Pass MC MCMem
</span><a href="Futhark.Pass.ExplicitAllocations.MC.html#explicitAllocations"><span class="hs-identifier hs-var">MC.explicitAllocations</span></a></span><span>
</span><span id="line-148"></span><span>    </span><span class="annot"><span class="annottext">Pipeline MC MCMem -&gt; Pipeline MCMem MCMem -&gt; Pipeline MC MCMem
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k) (b :: k) (c :: k).
Category cat =&gt;
cat a b -&gt; cat b c -&gt; cat a c
</span><span class="hs-operator hs-var">&gt;&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Pass MCMem MCMem] -&gt; Pipeline MCMem MCMem
forall rep. Checkable rep =&gt; [Pass rep rep] -&gt; Pipeline rep rep
</span><a href="Futhark.Pipeline.html#passes"><span class="hs-identifier hs-var">passes</span></a></span><span>
</span><span id="line-149"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Pass MCMem MCMem
</span><a href="Futhark.Pass.Simplify.html#simplifyMCMem"><span class="hs-identifier hs-var">simplifyMCMem</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-150"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Pass MCMem MCMem
forall rep.
(ASTRep rep, CanBeAliased (Op rep),
 CSEInOp (OpWithAliases (Op rep))) =&gt;
Bool -&gt; Pass rep rep
</span><a href="Futhark.Optimise.CSE.html#performCSE"><span class="hs-identifier hs-var">performCSE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span>
</span><span id="line-151"></span><span>        </span><span class="annot"><span class="annottext">Pass MCMem MCMem
</span><a href="Futhark.Pass.Simplify.html#simplifyMCMem"><span class="hs-identifier hs-var">simplifyMCMem</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-152"></span><span>        </span><span class="annot"><span class="annottext">Pass MCMem MCMem
</span><a href="Futhark.Optimise.DoubleBuffer.html#doubleBufferMC"><span class="hs-identifier hs-var">doubleBufferMC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-153"></span><span>        </span><span class="annot"><span class="annottext">Pass MCMem MCMem
</span><a href="Futhark.Pass.Simplify.html#simplifyMCMem"><span class="hs-identifier hs-var">simplifyMCMem</span></a></span><span>
</span><span id="line-154"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-155"></span></pre></body></html>