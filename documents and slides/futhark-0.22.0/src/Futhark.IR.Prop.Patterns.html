<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-comment">-- | Inspecing and modifying t'Pat's, function parameters and</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- pattern elements.</span><span>
</span><span id="line-6"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Futhark.IR.Prop.Patterns</span><span>
</span><span id="line-7"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Function parameters</span></span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#paramIdent"><span class="hs-identifier">paramIdent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#paramType"><span class="hs-identifier">paramType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#paramDeclType"><span class="hs-identifier">paramDeclType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Pat elements</span></span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#patElemIdent"><span class="hs-identifier">patElemIdent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#patElemType"><span class="hs-identifier">patElemType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#setPatElemDec"><span class="hs-identifier">setPatElemDec</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#patIdents"><span class="hs-identifier">patIdents</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#patNames"><span class="hs-identifier">patNames</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#patTypes"><span class="hs-identifier">patTypes</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#patSize"><span class="hs-identifier">patSize</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Pat construction</span></span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#basicPat"><span class="hs-identifier">basicPat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">where</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.IR.Prop.Types.html"><span class="hs-identifier">Futhark.IR.Prop.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Futhark.IR.Prop.Types.html#DeclTyped"><span class="hs-identifier">DeclTyped</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Futhark.IR.Prop.Types.html#Typed"><span class="hs-identifier">Typed</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.html"><span class="hs-identifier">Futhark.IR.Syntax</span></a></span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-comment">-- | The 'Type' of a parameter.</span><span>
</span><span id="line-30"></span><span id="local-6989586621684334803"><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#paramType"><span class="hs-identifier hs-type">paramType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.IR.Prop.Types.html#Typed"><span class="hs-identifier hs-type">Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334803"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#Param"><span class="hs-identifier hs-type">Param</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334803"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#Type"><span class="hs-identifier hs-type">Type</span></a></span></span><span>
</span><span id="line-31"></span><span id="paramType"><span class="annot"><span class="annottext">paramType :: forall dec. Typed dec =&gt; Param dec -&gt; Type
</span><a href="Futhark.IR.Prop.Patterns.html#paramType"><span class="hs-identifier hs-var hs-var">paramType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Param dec -&gt; Type
forall t. Typed t =&gt; t -&gt; Type
</span><a href="Futhark.IR.Prop.Types.html#typeOf"><span class="hs-identifier hs-var">typeOf</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-comment">-- | The 'DeclType' of a parameter.</span><span>
</span><span id="line-34"></span><span id="local-6989586621684334796"><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#paramDeclType"><span class="hs-identifier hs-type">paramDeclType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.IR.Prop.Types.html#DeclTyped"><span class="hs-identifier hs-type">DeclTyped</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334796"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#Param"><span class="hs-identifier hs-type">Param</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334796"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#DeclType"><span class="hs-identifier hs-type">DeclType</span></a></span></span><span>
</span><span id="line-35"></span><span id="paramDeclType"><span class="annot"><span class="annottext">paramDeclType :: forall dec. DeclTyped dec =&gt; Param dec -&gt; DeclType
</span><a href="Futhark.IR.Prop.Patterns.html#paramDeclType"><span class="hs-identifier hs-var hs-var">paramDeclType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Param dec -&gt; DeclType
forall t. DeclTyped t =&gt; t -&gt; DeclType
</span><a href="Futhark.IR.Prop.Types.html#declTypeOf"><span class="hs-identifier hs-var">declTypeOf</span></a></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-comment">-- | An 'Ident' corresponding to a parameter.</span><span>
</span><span id="line-38"></span><span id="local-6989586621684334790"><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#paramIdent"><span class="hs-identifier hs-type">paramIdent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.IR.Prop.Types.html#Typed"><span class="hs-identifier hs-type">Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334790"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#Param"><span class="hs-identifier hs-type">Param</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334790"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span></span><span>
</span><span id="line-39"></span><span id="paramIdent"><span class="annot"><span class="annottext">paramIdent :: forall dec. Typed dec =&gt; Param dec -&gt; Ident
</span><a href="Futhark.IR.Prop.Patterns.html#paramIdent"><span class="hs-identifier hs-var hs-var">paramIdent</span></a></span></span><span> </span><span id="local-6989586621684334728"><span class="annot"><span class="annottext">Param dec
</span><a href="#local-6989586621684334728"><span class="hs-identifier hs-var">param</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VName -&gt; Type -&gt; Ident
</span><a href="Futhark.IR.Syntax.Core.html#Ident"><span class="hs-identifier hs-var">Ident</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Param dec -&gt; VName
forall dec. Param dec -&gt; VName
</span><a href="Futhark.IR.Syntax.Core.html#paramName"><span class="hs-identifier hs-var hs-var">paramName</span></a></span><span> </span><span class="annot"><span class="annottext">Param dec
</span><a href="#local-6989586621684334728"><span class="hs-identifier hs-var">param</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Param dec -&gt; Type
forall t. Typed t =&gt; t -&gt; Type
</span><a href="Futhark.IR.Prop.Types.html#typeOf"><span class="hs-identifier hs-var">typeOf</span></a></span><span> </span><span class="annot"><span class="annottext">Param dec
</span><a href="#local-6989586621684334728"><span class="hs-identifier hs-var">param</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="hs-comment">-- | An 'Ident' corresponding to a pattern element.</span><span>
</span><span id="line-42"></span><span id="local-6989586621684334785"><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#patElemIdent"><span class="hs-identifier hs-type">patElemIdent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.IR.Prop.Types.html#Typed"><span class="hs-identifier hs-type">Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334785"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#PatElemT"><span class="hs-identifier hs-type">PatElemT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334785"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span></span><span>
</span><span id="line-43"></span><span id="patElemIdent"><span class="annot"><span class="annottext">patElemIdent :: forall dec. Typed dec =&gt; PatElemT dec -&gt; Ident
</span><a href="Futhark.IR.Prop.Patterns.html#patElemIdent"><span class="hs-identifier hs-var hs-var">patElemIdent</span></a></span></span><span> </span><span id="local-6989586621684334722"><span class="annot"><span class="annottext">PatElemT dec
</span><a href="#local-6989586621684334722"><span class="hs-identifier hs-var">pelem</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VName -&gt; Type -&gt; Ident
</span><a href="Futhark.IR.Syntax.Core.html#Ident"><span class="hs-identifier hs-var">Ident</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatElemT dec -&gt; VName
forall dec. PatElemT dec -&gt; VName
</span><a href="Futhark.IR.Syntax.Core.html#patElemName"><span class="hs-identifier hs-var hs-var">patElemName</span></a></span><span> </span><span class="annot"><span class="annottext">PatElemT dec
</span><a href="#local-6989586621684334722"><span class="hs-identifier hs-var">pelem</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatElemT dec -&gt; Type
forall t. Typed t =&gt; t -&gt; Type
</span><a href="Futhark.IR.Prop.Types.html#typeOf"><span class="hs-identifier hs-var">typeOf</span></a></span><span> </span><span class="annot"><span class="annottext">PatElemT dec
</span><a href="#local-6989586621684334722"><span class="hs-identifier hs-var">pelem</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-comment">-- | The type of a name bound by a t'PatElem'.</span><span>
</span><span id="line-46"></span><span id="local-6989586621684334780"><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#patElemType"><span class="hs-identifier hs-type">patElemType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.IR.Prop.Types.html#Typed"><span class="hs-identifier hs-type">Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334780"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#PatElemT"><span class="hs-identifier hs-type">PatElemT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334780"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#Type"><span class="hs-identifier hs-type">Type</span></a></span></span><span>
</span><span id="line-47"></span><span id="patElemType"><span class="annot"><span class="annottext">patElemType :: forall dec. Typed dec =&gt; PatElemT dec -&gt; Type
</span><a href="Futhark.IR.Prop.Patterns.html#patElemType"><span class="hs-identifier hs-var hs-var">patElemType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PatElemT dec -&gt; Type
forall t. Typed t =&gt; t -&gt; Type
</span><a href="Futhark.IR.Prop.Types.html#typeOf"><span class="hs-identifier hs-var">typeOf</span></a></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-comment">-- | Set the rep of a t'PatElem'.</span><span>
</span><span id="line-50"></span><span id="local-6989586621684334777"><span id="local-6989586621684334778"><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#setPatElemDec"><span class="hs-identifier hs-type">setPatElemDec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#PatElemT"><span class="hs-identifier hs-type">PatElemT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334778"><span class="hs-identifier hs-type">oldattr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621684334777"><span class="hs-identifier hs-type">newattr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#PatElemT"><span class="hs-identifier hs-type">PatElemT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334777"><span class="hs-identifier hs-type">newattr</span></a></span></span></span><span>
</span><span id="line-51"></span><span id="setPatElemDec"><span class="annot"><span class="annottext">setPatElemDec :: forall oldattr newattr.
PatElemT oldattr -&gt; newattr -&gt; PatElemT newattr
</span><a href="Futhark.IR.Prop.Patterns.html#setPatElemDec"><span class="hs-identifier hs-var hs-var">setPatElemDec</span></a></span></span><span> </span><span id="local-6989586621684334716"><span class="annot"><span class="annottext">PatElemT oldattr
</span><a href="#local-6989586621684334716"><span class="hs-identifier hs-var">pe</span></a></span></span><span> </span><span id="local-6989586621684334715"><span class="annot"><span class="annottext">newattr
</span><a href="#local-6989586621684334715"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(oldattr -&gt; newattr) -&gt; PatElemT oldattr -&gt; PatElemT newattr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">newattr -&gt; oldattr -&gt; newattr
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">newattr
</span><a href="#local-6989586621684334715"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PatElemT oldattr
</span><a href="#local-6989586621684334716"><span class="hs-identifier hs-var">pe</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-comment">-- | Return a list of the 'Ident's bound by the t'Pat'.</span><span>
</span><span id="line-54"></span><span id="local-6989586621684334769"><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#patIdents"><span class="hs-identifier hs-type">patIdents</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.IR.Prop.Types.html#Typed"><span class="hs-identifier hs-type">Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334769"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.html#PatT"><span class="hs-identifier hs-type">PatT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334769"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-55"></span><span id="patIdents"><span class="annot"><span class="annottext">patIdents :: forall dec. Typed dec =&gt; PatT dec -&gt; [Ident]
</span><a href="Futhark.IR.Prop.Patterns.html#patIdents"><span class="hs-identifier hs-var hs-var">patIdents</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PatElemT dec -&gt; Ident) -&gt; [PatElemT dec] -&gt; [Ident]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">PatElemT dec -&gt; Ident
forall dec. Typed dec =&gt; PatElemT dec -&gt; Ident
</span><a href="Futhark.IR.Prop.Patterns.html#patElemIdent"><span class="hs-identifier hs-var">patElemIdent</span></a></span><span> </span><span class="annot"><span class="annottext">([PatElemT dec] -&gt; [Ident])
-&gt; (PatT dec -&gt; [PatElemT dec]) -&gt; PatT dec -&gt; [Ident]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PatT dec -&gt; [PatElemT dec]
forall dec. PatT dec -&gt; [PatElemT dec]
</span><a href="Futhark.IR.Syntax.html#patElems"><span class="hs-identifier hs-var hs-var">patElems</span></a></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-comment">-- | Return a list of the 'Name's bound by the t'Pat'.</span><span>
</span><span id="line-58"></span><span id="local-6989586621684334760"><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#patNames"><span class="hs-identifier hs-type">patNames</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.html#PatT"><span class="hs-identifier hs-type">PatT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334760"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Futhark.Core.html#VName"><span class="hs-identifier hs-type">VName</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-59"></span><span id="patNames"><span class="annot"><span class="annottext">patNames :: forall dec. PatT dec -&gt; [VName]
</span><a href="Futhark.IR.Prop.Patterns.html#patNames"><span class="hs-identifier hs-var hs-var">patNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PatElemT dec -&gt; VName) -&gt; [PatElemT dec] -&gt; [VName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">PatElemT dec -&gt; VName
forall dec. PatElemT dec -&gt; VName
</span><a href="Futhark.IR.Syntax.Core.html#patElemName"><span class="hs-identifier hs-var hs-var">patElemName</span></a></span><span> </span><span class="annot"><span class="annottext">([PatElemT dec] -&gt; [VName])
-&gt; (PatT dec -&gt; [PatElemT dec]) -&gt; PatT dec -&gt; [VName]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PatT dec -&gt; [PatElemT dec]
forall dec. PatT dec -&gt; [PatElemT dec]
</span><a href="Futhark.IR.Syntax.html#patElems"><span class="hs-identifier hs-var hs-var">patElems</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-comment">-- | Return a list of the typess bound by the pattern.</span><span>
</span><span id="line-62"></span><span id="local-6989586621684334758"><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#patTypes"><span class="hs-identifier hs-type">patTypes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.IR.Prop.Types.html#Typed"><span class="hs-identifier hs-type">Typed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334758"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.html#PatT"><span class="hs-identifier hs-type">PatT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334758"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-63"></span><span id="patTypes"><span class="annot"><span class="annottext">patTypes :: forall dec. Typed dec =&gt; PatT dec -&gt; [Type]
</span><a href="Futhark.IR.Prop.Patterns.html#patTypes"><span class="hs-identifier hs-var hs-var">patTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Ident -&gt; Type) -&gt; [Ident] -&gt; [Type]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Ident -&gt; Type
</span><a href="Futhark.IR.Syntax.Core.html#identType"><span class="hs-identifier hs-var hs-var">identType</span></a></span><span> </span><span class="annot"><span class="annottext">([Ident] -&gt; [Type]) -&gt; (PatT dec -&gt; [Ident]) -&gt; PatT dec -&gt; [Type]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PatT dec -&gt; [Ident]
forall dec. Typed dec =&gt; PatT dec -&gt; [Ident]
</span><a href="Futhark.IR.Prop.Patterns.html#patIdents"><span class="hs-identifier hs-var">patIdents</span></a></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-comment">-- | Return the number of names bound by the pattern.</span><span>
</span><span id="line-66"></span><span id="local-6989586621684334756"><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#patSize"><span class="hs-identifier hs-type">patSize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.html#PatT"><span class="hs-identifier hs-type">PatT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684334756"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span><span>
</span><span id="line-67"></span><span id="patSize"><span class="annot"><span class="annottext">patSize :: forall dec. PatT dec -&gt; Int
</span><a href="Futhark.IR.Prop.Patterns.html#patSize"><span class="hs-identifier hs-var hs-var">patSize</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Futhark.IR.Syntax.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span> </span><span id="local-6989586621684334703"><span class="annot"><span class="annottext">[PatElemT dec]
</span><a href="#local-6989586621684334703"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PatElemT dec] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[PatElemT dec]
</span><a href="#local-6989586621684334703"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-comment">-- | Create a pattern using 'Type' as the attribute.</span><span>
</span><span id="line-70"></span><span class="annot"><a href="Futhark.IR.Prop.Patterns.html#basicPat"><span class="hs-identifier hs-type">basicPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.html#PatT"><span class="hs-identifier hs-type">PatT</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-71"></span><span id="basicPat"><span class="annot"><span class="annottext">basicPat :: [Ident] -&gt; PatT Type
</span><a href="Futhark.IR.Prop.Patterns.html#basicPat"><span class="hs-identifier hs-var hs-var">basicPat</span></a></span></span><span> </span><span id="local-6989586621684334701"><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621684334701"><span class="hs-identifier hs-var">values</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-72"></span><span>  </span><span class="annot"><span class="annottext">[PatElemT Type] -&gt; PatT Type
forall dec. [PatElemT dec] -&gt; PatT dec
</span><a href="Futhark.IR.Syntax.html#Pat"><span class="hs-identifier hs-var">Pat</span></a></span><span> </span><span class="annot"><span class="annottext">([PatElemT Type] -&gt; PatT Type) -&gt; [PatElemT Type] -&gt; PatT Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Ident -&gt; PatElemT Type) -&gt; [Ident] -&gt; [PatElemT Type]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Ident -&gt; PatElemT Type
</span><a href="#local-6989586621684334700"><span class="hs-identifier hs-var">patElem</span></a></span><span> </span><span class="annot"><span class="annottext">[Ident]
</span><a href="#local-6989586621684334701"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-74"></span><span>    </span><span id="local-6989586621684334700"><span class="annot"><span class="annottext">patElem :: Ident -&gt; PatElemT Type
</span><a href="#local-6989586621684334700"><span class="hs-identifier hs-var hs-var">patElem</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Futhark.IR.Syntax.Core.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span id="local-6989586621684334699"><span class="annot"><span class="annottext">VName
</span><a href="#local-6989586621684334699"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621684334698"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621684334698"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VName -&gt; Type -&gt; PatElemT Type
forall dec. VName -&gt; dec -&gt; PatElemT dec
</span><a href="Futhark.IR.Syntax.Core.html#PatElem"><span class="hs-identifier hs-var">PatElem</span></a></span><span> </span><span class="annot"><span class="annottext">VName
</span><a href="#local-6989586621684334699"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621684334698"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-75"></span></pre></body></html>