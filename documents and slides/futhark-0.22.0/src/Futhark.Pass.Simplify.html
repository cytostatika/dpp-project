<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Futhark.Pass.Simplify</span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplify"><span class="hs-identifier">simplify</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>    </span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifySOACS"><span class="hs-identifier">simplifySOACS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifySeq"><span class="hs-identifier">simplifySeq</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>    </span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifyMC"><span class="hs-identifier">simplifyMC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifyGPU"><span class="hs-identifier">simplifyGPU</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifyGPUMem"><span class="hs-identifier">simplifyGPUMem</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifySeqMem"><span class="hs-identifier">simplifySeqMem</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifyMCMem"><span class="hs-identifier">simplifyMCMem</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">where</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Futhark.IR.GPU.Simplify.html"><span class="hs-identifier">Futhark.IR.GPU.Simplify</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GPU</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Futhark.IR.GPUMem.html"><span class="hs-identifier">Futhark.IR.GPUMem</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GPUMem</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Futhark.IR.MC.html"><span class="hs-identifier">Futhark.IR.MC</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MC</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Futhark.IR.MCMem.html"><span class="hs-identifier">Futhark.IR.MCMem</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MCMem</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Futhark.IR.SOACS.Simplify.html"><span class="hs-identifier">Futhark.IR.SOACS.Simplify</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SOACS</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Futhark.IR.Seq.html"><span class="hs-identifier">Futhark.IR.Seq</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Seq</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Futhark.IR.SeqMem.html"><span class="hs-identifier">Futhark.IR.SeqMem</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SeqMem</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.IR.Syntax.html"><span class="hs-identifier">Futhark.IR.Syntax</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Futhark.Pass.html"><span class="hs-identifier">Futhark.Pass</span></a></span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span id="local-6989586621684439741"><span class="annot"><a href="Futhark.Pass.Simplify.html#simplify"><span class="hs-identifier hs-type">simplify</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Futhark.IR.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684439741"><span class="hs-identifier hs-type">rep</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Futhark.Pass.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Futhark.IR.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684439741"><span class="hs-identifier hs-type">rep</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Futhark.Pass.html#Pass"><span class="hs-identifier hs-type">Pass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684439741"><span class="hs-identifier hs-type">rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621684439741"><span class="hs-identifier hs-type">rep</span></a></span></span><span>
</span><span id="line-28"></span><span id="simplify"><span class="annot"><span class="annottext">simplify :: forall rep. (Prog rep -&gt; PassM (Prog rep)) -&gt; Pass rep rep
</span><a href="Futhark.Pass.Simplify.html#simplify"><span class="hs-identifier hs-var hs-var">simplify</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; (Prog rep -&gt; PassM (Prog rep)) -&gt; Pass rep rep
forall fromrep torep.
String
-&gt; String
-&gt; (Prog fromrep -&gt; PassM (Prog torep))
-&gt; Pass fromrep torep
</span><a href="Futhark.Pass.html#Pass"><span class="hs-identifier hs-var">Pass</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;simplify&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Perform simple enabling optimisations.&quot;</span></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifySOACS"><span class="hs-identifier hs-type">simplifySOACS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pass.html#Pass"><span class="hs-identifier hs-type">Pass</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SOACS.html#SOACS"><span class="hs-identifier hs-type">SOACS.SOACS</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SOACS.html#SOACS"><span class="hs-identifier hs-type">SOACS.SOACS</span></a></span><span>
</span><span id="line-31"></span><span id="simplifySOACS"><span class="annot"><span class="annottext">simplifySOACS :: Pass SOACS SOACS
</span><a href="Futhark.Pass.Simplify.html#simplifySOACS"><span class="hs-identifier hs-var hs-var">simplifySOACS</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Prog SOACS -&gt; PassM (Prog SOACS)) -&gt; Pass SOACS SOACS
forall rep. (Prog rep -&gt; PassM (Prog rep)) -&gt; Pass rep rep
</span><a href="Futhark.Pass.Simplify.html#simplify"><span class="hs-identifier hs-var">simplify</span></a></span><span> </span><span class="annot"><span class="annottext">Prog SOACS -&gt; PassM (Prog SOACS)
</span><a href="Futhark.IR.SOACS.Simplify.html#simplifySOACS"><span class="hs-identifier hs-var">SOACS.simplifySOACS</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifyGPU"><span class="hs-identifier hs-type">simplifyGPU</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pass.html#Pass"><span class="hs-identifier hs-type">Pass</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.GPU.html#GPU"><span class="hs-identifier hs-type">GPU.GPU</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.GPU.html#GPU"><span class="hs-identifier hs-type">GPU.GPU</span></a></span><span>
</span><span id="line-34"></span><span id="simplifyGPU"><span class="annot"><span class="annottext">simplifyGPU :: Pass GPU GPU
</span><a href="Futhark.Pass.Simplify.html#simplifyGPU"><span class="hs-identifier hs-var hs-var">simplifyGPU</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Prog GPU -&gt; PassM (Prog GPU)) -&gt; Pass GPU GPU
forall rep. (Prog rep -&gt; PassM (Prog rep)) -&gt; Pass rep rep
</span><a href="Futhark.Pass.Simplify.html#simplify"><span class="hs-identifier hs-var">simplify</span></a></span><span> </span><span class="annot"><span class="annottext">Prog GPU -&gt; PassM (Prog GPU)
</span><a href="Futhark.IR.GPU.Simplify.html#simplifyGPU"><span class="hs-identifier hs-var">GPU.simplifyGPU</span></a></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifySeq"><span class="hs-identifier hs-type">simplifySeq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pass.html#Pass"><span class="hs-identifier hs-type">Pass</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.Seq.html#Seq"><span class="hs-identifier hs-type">Seq.Seq</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.Seq.html#Seq"><span class="hs-identifier hs-type">Seq.Seq</span></a></span><span>
</span><span id="line-37"></span><span id="simplifySeq"><span class="annot"><span class="annottext">simplifySeq :: Pass Seq Seq
</span><a href="Futhark.Pass.Simplify.html#simplifySeq"><span class="hs-identifier hs-var hs-var">simplifySeq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Prog Seq -&gt; PassM (Prog Seq)) -&gt; Pass Seq Seq
forall rep. (Prog rep -&gt; PassM (Prog rep)) -&gt; Pass rep rep
</span><a href="Futhark.Pass.Simplify.html#simplify"><span class="hs-identifier hs-var">simplify</span></a></span><span> </span><span class="annot"><span class="annottext">Prog Seq -&gt; PassM (Prog Seq)
</span><a href="Futhark.IR.Seq.html#simplifyProg"><span class="hs-identifier hs-var">Seq.simplifyProg</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifyMC"><span class="hs-identifier hs-type">simplifyMC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pass.html#Pass"><span class="hs-identifier hs-type">Pass</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.MC.html#MC"><span class="hs-identifier hs-type">MC.MC</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.MC.html#MC"><span class="hs-identifier hs-type">MC.MC</span></a></span><span>
</span><span id="line-40"></span><span id="simplifyMC"><span class="annot"><span class="annottext">simplifyMC :: Pass MC MC
</span><a href="Futhark.Pass.Simplify.html#simplifyMC"><span class="hs-identifier hs-var hs-var">simplifyMC</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Prog MC -&gt; PassM (Prog MC)) -&gt; Pass MC MC
forall rep. (Prog rep -&gt; PassM (Prog rep)) -&gt; Pass rep rep
</span><a href="Futhark.Pass.Simplify.html#simplify"><span class="hs-identifier hs-var">simplify</span></a></span><span> </span><span class="annot"><span class="annottext">Prog MC -&gt; PassM (Prog MC)
</span><a href="Futhark.IR.MC.html#simplifyProg"><span class="hs-identifier hs-var">MC.simplifyProg</span></a></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifyGPUMem"><span class="hs-identifier hs-type">simplifyGPUMem</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pass.html#Pass"><span class="hs-identifier hs-type">Pass</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.GPUMem.html#GPUMem"><span class="hs-identifier hs-type">GPUMem.GPUMem</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.GPUMem.html#GPUMem"><span class="hs-identifier hs-type">GPUMem.GPUMem</span></a></span><span>
</span><span id="line-43"></span><span id="simplifyGPUMem"><span class="annot"><span class="annottext">simplifyGPUMem :: Pass GPUMem GPUMem
</span><a href="Futhark.Pass.Simplify.html#simplifyGPUMem"><span class="hs-identifier hs-var hs-var">simplifyGPUMem</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Prog GPUMem -&gt; PassM (Prog GPUMem)) -&gt; Pass GPUMem GPUMem
forall rep. (Prog rep -&gt; PassM (Prog rep)) -&gt; Pass rep rep
</span><a href="Futhark.Pass.Simplify.html#simplify"><span class="hs-identifier hs-var">simplify</span></a></span><span> </span><span class="annot"><span class="annottext">Prog GPUMem -&gt; PassM (Prog GPUMem)
</span><a href="Futhark.IR.GPUMem.html#simplifyProg"><span class="hs-identifier hs-var">GPUMem.simplifyProg</span></a></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifySeqMem"><span class="hs-identifier hs-type">simplifySeqMem</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pass.html#Pass"><span class="hs-identifier hs-type">Pass</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SeqMem.html#SeqMem"><span class="hs-identifier hs-type">SeqMem.SeqMem</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.SeqMem.html#SeqMem"><span class="hs-identifier hs-type">SeqMem.SeqMem</span></a></span><span>
</span><span id="line-46"></span><span id="simplifySeqMem"><span class="annot"><span class="annottext">simplifySeqMem :: Pass SeqMem SeqMem
</span><a href="Futhark.Pass.Simplify.html#simplifySeqMem"><span class="hs-identifier hs-var hs-var">simplifySeqMem</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Prog SeqMem -&gt; PassM (Prog SeqMem)) -&gt; Pass SeqMem SeqMem
forall rep. (Prog rep -&gt; PassM (Prog rep)) -&gt; Pass rep rep
</span><a href="Futhark.Pass.Simplify.html#simplify"><span class="hs-identifier hs-var">simplify</span></a></span><span> </span><span class="annot"><span class="annottext">Prog SeqMem -&gt; PassM (Prog SeqMem)
</span><a href="Futhark.IR.SeqMem.html#simplifyProg"><span class="hs-identifier hs-var">SeqMem.simplifyProg</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="annot"><a href="Futhark.Pass.Simplify.html#simplifyMCMem"><span class="hs-identifier hs-type">simplifyMCMem</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Futhark.Pass.html#Pass"><span class="hs-identifier hs-type">Pass</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.MCMem.html#MCMem"><span class="hs-identifier hs-type">MCMem.MCMem</span></a></span><span> </span><span class="annot"><a href="Futhark.IR.MCMem.html#MCMem"><span class="hs-identifier hs-type">MCMem.MCMem</span></a></span><span>
</span><span id="line-49"></span><span id="simplifyMCMem"><span class="annot"><span class="annottext">simplifyMCMem :: Pass MCMem MCMem
</span><a href="Futhark.Pass.Simplify.html#simplifyMCMem"><span class="hs-identifier hs-var hs-var">simplifyMCMem</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Prog MCMem -&gt; PassM (Prog MCMem)) -&gt; Pass MCMem MCMem
forall rep. (Prog rep -&gt; PassM (Prog rep)) -&gt; Pass rep rep
</span><a href="Futhark.Pass.Simplify.html#simplify"><span class="hs-identifier hs-var">simplify</span></a></span><span> </span><span class="annot"><span class="annottext">Prog MCMem -&gt; PassM (Prog MCMem)
</span><a href="Futhark.IR.MCMem.html#simplifyProg"><span class="hs-identifier hs-var">MCMem.simplifyProg</span></a></span><span>
</span><span id="line-50"></span></pre></body></html>