<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Futhark.Test.Spec</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">futhark-0.22.0: An optimising compiler for a functional, array-oriented language.</span><ul class="links" id="page-menu"><li><a href="src/Futhark.Test.Spec.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Futhark.Test.Spec</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Definition and parsing of a test specification.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:testSpecFromProgram">testSpecFromProgram</a> :: FilePath -&gt; IO (Either <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a>)</li><li class="src short"><a href="#v:testSpecFromProgramOrDie">testSpecFromProgramOrDie</a> :: FilePath -&gt; IO <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a></li><li class="src short"><a href="#v:testSpecsFromPaths">testSpecsFromPaths</a> :: [FilePath] -&gt; IO (Either <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> [(FilePath, <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a>)])</li><li class="src short"><a href="#v:testSpecsFromPathsOrDie">testSpecsFromPathsOrDie</a> :: [FilePath] -&gt; IO [(FilePath, <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a>)]</li><li class="src short"><a href="#v:testSpecFromFile">testSpecFromFile</a> :: FilePath -&gt; IO (Either <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a>)</li><li class="src short"><a href="#v:testSpecFromFileOrDie">testSpecFromFileOrDie</a> :: FilePath -&gt; IO <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ProgramTest">ProgramTest</a> = <a href="#v:ProgramTest">ProgramTest</a> {<ul class="subs"><li><a href="#v:testDescription">testDescription</a> :: Text</li><li><a href="#v:testTags">testTags</a> :: [Text]</li><li><a href="#v:testAction">testAction</a> :: <a href="Futhark-Test-Spec.html#t:TestAction" title="Futhark.Test.Spec">TestAction</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:StructureTest">StructureTest</a> = <a href="#v:StructureTest">StructureTest</a> <a href="Futhark-Test-Spec.html#t:StructurePipeline" title="Futhark.Test.Spec">StructurePipeline</a> <a href="Futhark-Analysis-Metrics-Type.html#t:AstMetrics" title="Futhark.Analysis.Metrics.Type">AstMetrics</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:StructurePipeline">StructurePipeline</a><ul class="subs"><li>= <a href="#v:GpuPipeline">GpuPipeline</a></li><li>| <a href="#v:SOACSPipeline">SOACSPipeline</a></li><li>| <a href="#v:SeqMemPipeline">SeqMemPipeline</a></li><li>| <a href="#v:GpuMemPipeline">GpuMemPipeline</a></li><li>| <a href="#v:NoPipeline">NoPipeline</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:WarningTest">WarningTest</a> = <a href="#v:ExpectedWarning">ExpectedWarning</a> Text <a href="../regex-tdfa-1.3.1.1/Text-Regex-TDFA-Common.html#t:Regex" title="Text.Regex.TDFA.Common">Regex</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TestAction">TestAction</a><ul class="subs"><li>= <a href="#v:CompileTimeFailure">CompileTimeFailure</a> <a href="Futhark-Test-Spec.html#t:ExpectedError" title="Futhark.Test.Spec">ExpectedError</a></li><li>| <a href="#v:RunCases">RunCases</a> [<a href="Futhark-Test-Spec.html#t:InputOutputs" title="Futhark.Test.Spec">InputOutputs</a>] [<a href="Futhark-Test-Spec.html#t:StructureTest" title="Futhark.Test.Spec">StructureTest</a>] [<a href="Futhark-Test-Spec.html#t:WarningTest" title="Futhark.Test.Spec">WarningTest</a>]</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ExpectedError">ExpectedError</a><ul class="subs"><li>= <a href="#v:AnyError">AnyError</a></li><li>| <a href="#v:ThisError">ThisError</a> Text <a href="../regex-tdfa-1.3.1.1/Text-Regex-TDFA-Common.html#t:Regex" title="Text.Regex.TDFA.Common">Regex</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:InputOutputs">InputOutputs</a> = <a href="#v:InputOutputs">InputOutputs</a> {<ul class="subs"><li><a href="#v:iosEntryPoint">iosEntryPoint</a> :: Text</li><li><a href="#v:iosTestRuns">iosTestRuns</a> :: [<a href="Futhark-Test-Spec.html#t:TestRun" title="Futhark.Test.Spec">TestRun</a>]</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:TestRun">TestRun</a> = <a href="#v:TestRun">TestRun</a> {<ul class="subs"><li><a href="#v:runTags">runTags</a> :: [<a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a>]</li><li><a href="#v:runInput">runInput</a> :: <a href="Futhark-Test-Spec.html#t:Values" title="Futhark.Test.Spec">Values</a></li><li><a href="#v:runExpectedResult">runExpectedResult</a> :: <a href="Futhark-Test-Spec.html#t:ExpectedResult" title="Futhark.Test.Spec">ExpectedResult</a> <a href="Futhark-Test-Spec.html#t:Success" title="Futhark.Test.Spec">Success</a></li><li><a href="#v:runIndex">runIndex</a> :: Int</li><li><a href="#v:runDescription">runDescription</a> :: <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ExpectedResult">ExpectedResult</a> values<ul class="subs"><li>= <a href="#v:Succeeds">Succeeds</a> (Maybe values)</li><li>| <a href="#v:RunTimeFailure">RunTimeFailure</a> <a href="Futhark-Test-Spec.html#t:ExpectedError" title="Futhark.Test.Spec">ExpectedError</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Success">Success</a><ul class="subs"><li>= <a href="#v:SuccessValues">SuccessValues</a> <a href="Futhark-Test-Spec.html#t:Values" title="Futhark.Test.Spec">Values</a></li><li>| <a href="#v:SuccessGenerateValues">SuccessGenerateValues</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Values">Values</a><ul class="subs"><li>= <a href="#v:Values">Values</a> [<a href="Futhark-Test.html#t:Value" title="Futhark.Test">Value</a>]</li><li>| <a href="#v:InFile">InFile</a> FilePath</li><li>| <a href="#v:GenValues">GenValues</a> [<a href="Futhark-Test-Spec.html#t:GenValue" title="Futhark.Test.Spec">GenValue</a>]</li><li>| <a href="#v:ScriptValues">ScriptValues</a> <a href="Futhark-Script.html#t:Exp" title="Futhark.Script">Exp</a></li><li>| <a href="#v:ScriptFile">ScriptFile</a> FilePath</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:GenValue">GenValue</a><ul class="subs"><li>= <a href="#v:GenValue">GenValue</a> <a href="../futhark-data-1.0.3.0/Futhark-Data.html#t:ValueType" title="Futhark.Data">ValueType</a></li><li>| <a href="#v:GenPrim">GenPrim</a> <a href="Futhark-Test.html#t:Value" title="Futhark.Test">Value</a></li></ul></li><li class="src short"><a href="#v:genValueType">genValueType</a> :: <a href="Futhark-Test-Spec.html#t:GenValue" title="Futhark.Test.Spec">GenValue</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:testSpecFromProgram" class="def">testSpecFromProgram</a> :: FilePath -&gt; IO (Either <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a>) <a href="src/Futhark.Test.Spec.html#testSpecFromProgram" class="link">Source</a> <a href="#v:testSpecFromProgram" class="selflink">#</a></p><div class="doc"><p>Read the test specification from the given Futhark program.</p></div></div><div class="top"><p class="src"><a id="v:testSpecFromProgramOrDie" class="def">testSpecFromProgramOrDie</a> :: FilePath -&gt; IO <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a> <a href="src/Futhark.Test.Spec.html#testSpecFromProgramOrDie" class="link">Source</a> <a href="#v:testSpecFromProgramOrDie" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Futhark-Test-Spec.html#v:testSpecFromProgram" title="Futhark.Test.Spec">testSpecFromProgram</a></code>, but exits the process on error.</p></div></div><div class="top"><p class="src"><a id="v:testSpecsFromPaths" class="def">testSpecsFromPaths</a> :: [FilePath] -&gt; IO (Either <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> [(FilePath, <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a>)]) <a href="src/Futhark.Test.Spec.html#testSpecsFromPaths" class="link">Source</a> <a href="#v:testSpecsFromPaths" class="selflink">#</a></p><div class="doc"><p>Read test specifications from the given paths, which can be a
 files or directories containing <code>.fut</code> files and further
 directories.</p></div></div><div class="top"><p class="src"><a id="v:testSpecsFromPathsOrDie" class="def">testSpecsFromPathsOrDie</a> :: [FilePath] -&gt; IO [(FilePath, <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a>)] <a href="src/Futhark.Test.Spec.html#testSpecsFromPathsOrDie" class="link">Source</a> <a href="#v:testSpecsFromPathsOrDie" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Futhark-Test-Spec.html#v:testSpecsFromPaths" title="Futhark.Test.Spec">testSpecsFromPaths</a></code>, but kills the process on errors.</p></div></div><div class="top"><p class="src"><a id="v:testSpecFromFile" class="def">testSpecFromFile</a> :: FilePath -&gt; IO (Either <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a>) <a href="src/Futhark.Test.Spec.html#testSpecFromFile" class="link">Source</a> <a href="#v:testSpecFromFile" class="selflink">#</a></p><div class="doc"><p>Read a test specification from a file.  Expects only a single
 block, and no comment prefixes.</p></div></div><div class="top"><p class="src"><a id="v:testSpecFromFileOrDie" class="def">testSpecFromFileOrDie</a> :: FilePath -&gt; IO <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a> <a href="src/Futhark.Test.Spec.html#testSpecFromFileOrDie" class="link">Source</a> <a href="#v:testSpecFromFileOrDie" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Futhark-Test-Spec.html#v:testSpecFromFile" title="Futhark.Test.Spec">testSpecFromFile</a></code>, but kills the process on errors.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ProgramTest" class="def">ProgramTest</a> <a href="src/Futhark.Test.Spec.html#ProgramTest" class="link">Source</a> <a href="#t:ProgramTest" class="selflink">#</a></p><div class="doc"><p>Description of a test to be carried out on a Futhark program.
 The Futhark program is stored separately.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ProgramTest" class="def">ProgramTest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:testDescription" class="def">testDescription</a> :: Text</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:testTags" class="def">testTags</a> :: [Text]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:testAction" class="def">testAction</a> :: <a href="Futhark-Test-Spec.html#t:TestAction" title="Futhark.Test.Spec">TestAction</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ProgramTest">Instances</h4><details id="i:ProgramTest" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProgramTest:Show:1"></span> Show <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a></span> <a href="src/Futhark.Test.Spec.html#line-64" class="link">Source</a> <a href="#t:ProgramTest" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProgramTest:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Test-Spec.html">Futhark.Test.Spec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Test-Spec.html#t:ProgramTest" title="Futhark.Test.Spec">ProgramTest</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:StructureTest" class="def">StructureTest</a> <a href="src/Futhark.Test.Spec.html#StructureTest" class="link">Source</a> <a href="#t:StructureTest" class="selflink">#</a></p><div class="doc"><p>A structure test specifies a compilation pipeline, as well as
 metrics for the program coming out the other end.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:StructureTest" class="def">StructureTest</a> <a href="Futhark-Test-Spec.html#t:StructurePipeline" title="Futhark.Test.Spec">StructurePipeline</a> <a href="Futhark-Analysis-Metrics-Type.html#t:AstMetrics" title="Futhark.Analysis.Metrics.Type">AstMetrics</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:StructureTest">Instances</h4><details id="i:StructureTest" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:StructureTest:Show:1"></span> Show <a href="Futhark-Test-Spec.html#t:StructureTest" title="Futhark.Test.Spec">StructureTest</a></span> <a href="src/Futhark.Test.Spec.html#line-100" class="link">Source</a> <a href="#t:StructureTest" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:StructureTest:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Test-Spec.html">Futhark.Test.Spec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Test-Spec.html#t:StructureTest" title="Futhark.Test.Spec">StructureTest</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Test-Spec.html#t:StructureTest" title="Futhark.Test.Spec">StructureTest</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Test-Spec.html#t:StructureTest" title="Futhark.Test.Spec">StructureTest</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:StructurePipeline" class="def">StructurePipeline</a> <a href="src/Futhark.Test.Spec.html#StructurePipeline" class="link">Source</a> <a href="#t:StructurePipeline" class="selflink">#</a></p><div class="doc"><p>How a program can be transformed.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:GpuPipeline" class="def">GpuPipeline</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SOACSPipeline" class="def">SOACSPipeline</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SeqMemPipeline" class="def">SeqMemPipeline</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:GpuMemPipeline" class="def">GpuMemPipeline</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NoPipeline" class="def">NoPipeline</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:StructurePipeline">Instances</h4><details id="i:StructurePipeline" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:StructurePipeline:Show:1"></span> Show <a href="Futhark-Test-Spec.html#t:StructurePipeline" title="Futhark.Test.Spec">StructurePipeline</a></span> <a href="src/Futhark.Test.Spec.html#line-95" class="link">Source</a> <a href="#t:StructurePipeline" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:StructurePipeline:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Test-Spec.html">Futhark.Test.Spec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Test-Spec.html#t:StructurePipeline" title="Futhark.Test.Spec">StructurePipeline</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Test-Spec.html#t:StructurePipeline" title="Futhark.Test.Spec">StructurePipeline</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Test-Spec.html#t:StructurePipeline" title="Futhark.Test.Spec">StructurePipeline</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WarningTest" class="def">WarningTest</a> <a href="src/Futhark.Test.Spec.html#WarningTest" class="link">Source</a> <a href="#t:WarningTest" class="selflink">#</a></p><div class="doc"><p>A warning test requires that a warning matching the regular
 expression is produced.  The program must also compile succesfully.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ExpectedWarning" class="def">ExpectedWarning</a> Text <a href="../regex-tdfa-1.3.1.1/Text-Regex-TDFA-Common.html#t:Regex" title="Text.Regex.TDFA.Common">Regex</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WarningTest">Instances</h4><details id="i:WarningTest" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WarningTest:Show:1"></span> Show <a href="Futhark-Test-Spec.html#t:WarningTest" title="Futhark.Test.Spec">WarningTest</a></span> <a href="src/Futhark.Test.Spec.html#line-106" class="link">Source</a> <a href="#t:WarningTest" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WarningTest:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Test-Spec.html">Futhark.Test.Spec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Test-Spec.html#t:WarningTest" title="Futhark.Test.Spec">WarningTest</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Test-Spec.html#t:WarningTest" title="Futhark.Test.Spec">WarningTest</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Test-Spec.html#t:WarningTest" title="Futhark.Test.Spec">WarningTest</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TestAction" class="def">TestAction</a> <a href="src/Futhark.Test.Spec.html#TestAction" class="link">Source</a> <a href="#t:TestAction" class="selflink">#</a></p><div class="doc"><p>How to test a program.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CompileTimeFailure" class="def">CompileTimeFailure</a> <a href="Futhark-Test-Spec.html#t:ExpectedError" title="Futhark.Test.Spec">ExpectedError</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:RunCases" class="def">RunCases</a> [<a href="Futhark-Test-Spec.html#t:InputOutputs" title="Futhark.Test.Spec">InputOutputs</a>] [<a href="Futhark-Test-Spec.html#t:StructureTest" title="Futhark.Test.Spec">StructureTest</a>] [<a href="Futhark-Test-Spec.html#t:WarningTest" title="Futhark.Test.Spec">WarningTest</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TestAction">Instances</h4><details id="i:TestAction" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TestAction:Show:1"></span> Show <a href="Futhark-Test-Spec.html#t:TestAction" title="Futhark.Test.Spec">TestAction</a></span> <a href="src/Futhark.Test.Spec.html#line-70" class="link">Source</a> <a href="#t:TestAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TestAction:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Test-Spec.html">Futhark.Test.Spec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Test-Spec.html#t:TestAction" title="Futhark.Test.Spec">TestAction</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Test-Spec.html#t:TestAction" title="Futhark.Test.Spec">TestAction</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Test-Spec.html#t:TestAction" title="Futhark.Test.Spec">TestAction</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ExpectedError" class="def">ExpectedError</a> <a href="src/Futhark.Test.Spec.html#ExpectedError" class="link">Source</a> <a href="#t:ExpectedError" class="selflink">#</a></p><div class="doc"><p>The error expected for a negative test.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AnyError" class="def">AnyError</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ThisError" class="def">ThisError</a> Text <a href="../regex-tdfa-1.3.1.1/Text-Regex-TDFA-Common.html#t:Regex" title="Text.Regex.TDFA.Common">Regex</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ExpectedError">Instances</h4><details id="i:ExpectedError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ExpectedError:Show:1"></span> Show <a href="Futhark-Test-Spec.html#t:ExpectedError" title="Futhark.Test.Spec">ExpectedError</a></span> <a href="src/Futhark.Test.Spec.html#line-84" class="link">Source</a> <a href="#t:ExpectedError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ExpectedError:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Test-Spec.html">Futhark.Test.Spec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Test-Spec.html#t:ExpectedError" title="Futhark.Test.Spec">ExpectedError</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Test-Spec.html#t:ExpectedError" title="Futhark.Test.Spec">ExpectedError</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Test-Spec.html#t:ExpectedError" title="Futhark.Test.Spec">ExpectedError</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InputOutputs" class="def">InputOutputs</a> <a href="src/Futhark.Test.Spec.html#InputOutputs" class="link">Source</a> <a href="#t:InputOutputs" class="selflink">#</a></p><div class="doc"><p>Input and output pairs for some entry point(s).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InputOutputs" class="def">InputOutputs</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:iosEntryPoint" class="def">iosEntryPoint</a> :: Text</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:iosTestRuns" class="def">iosTestRuns</a> :: [<a href="Futhark-Test-Spec.html#t:TestRun" title="Futhark.Test.Spec">TestRun</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:InputOutputs">Instances</h4><details id="i:InputOutputs" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InputOutputs:Show:1"></span> Show <a href="Futhark-Test-Spec.html#t:InputOutputs" title="Futhark.Test.Spec">InputOutputs</a></span> <a href="src/Futhark.Test.Spec.html#line-77" class="link">Source</a> <a href="#t:InputOutputs" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InputOutputs:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Test-Spec.html">Futhark.Test.Spec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Test-Spec.html#t:InputOutputs" title="Futhark.Test.Spec">InputOutputs</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Test-Spec.html#t:InputOutputs" title="Futhark.Test.Spec">InputOutputs</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Test-Spec.html#t:InputOutputs" title="Futhark.Test.Spec">InputOutputs</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TestRun" class="def">TestRun</a> <a href="src/Futhark.Test.Spec.html#TestRun" class="link">Source</a> <a href="#t:TestRun" class="selflink">#</a></p><div class="doc"><p>A condition for execution, input, and expected result.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TestRun" class="def">TestRun</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:runTags" class="def">runTags</a> :: [<a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:runInput" class="def">runInput</a> :: <a href="Futhark-Test-Spec.html#t:Values" title="Futhark.Test.Spec">Values</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:runExpectedResult" class="def">runExpectedResult</a> :: <a href="Futhark-Test-Spec.html#t:ExpectedResult" title="Futhark.Test.Spec">ExpectedResult</a> <a href="Futhark-Test-Spec.html#t:Success" title="Futhark.Test.Spec">Success</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:runIndex" class="def">runIndex</a> :: Int</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:runDescription" class="def">runDescription</a> :: <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TestRun">Instances</h4><details id="i:TestRun" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TestRun:Show:1"></span> Show <a href="Futhark-Test-Spec.html#t:TestRun" title="Futhark.Test.Spec">TestRun</a></span> <a href="src/Futhark.Test.Spec.html#line-117" class="link">Source</a> <a href="#t:TestRun" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TestRun:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Test-Spec.html">Futhark.Test.Spec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Test-Spec.html#t:TestRun" title="Futhark.Test.Spec">TestRun</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Test-Spec.html#t:TestRun" title="Futhark.Test.Spec">TestRun</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Test-Spec.html#t:TestRun" title="Futhark.Test.Spec">TestRun</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ExpectedResult" class="def">ExpectedResult</a> values <a href="src/Futhark.Test.Spec.html#ExpectedResult" class="link">Source</a> <a href="#t:ExpectedResult" class="selflink">#</a></p><div class="doc"><p>How a test case is expected to terminate.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Succeeds" class="def">Succeeds</a> (Maybe values)</td><td class="doc"><p>Execution suceeds, with or without
 expected result values.</p></td></tr><tr><td class="src"><a id="v:RunTimeFailure" class="def">RunTimeFailure</a> <a href="Futhark-Test-Spec.html#t:ExpectedError" title="Futhark.Test.Spec">ExpectedError</a></td><td class="doc"><p>Execution fails with this error.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ExpectedResult">Instances</h4><details id="i:ExpectedResult" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ExpectedResult:Show:1"></span> Show values =&gt; Show (<a href="Futhark-Test-Spec.html#t:ExpectedResult" title="Futhark.Test.Spec">ExpectedResult</a> values)</span> <a href="src/Futhark.Test.Spec.html#line-152" class="link">Source</a> <a href="#t:ExpectedResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ExpectedResult:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Test-Spec.html">Futhark.Test.Spec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Test-Spec.html#t:ExpectedResult" title="Futhark.Test.Spec">ExpectedResult</a> values -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Test-Spec.html#t:ExpectedResult" title="Futhark.Test.Spec">ExpectedResult</a> values -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Test-Spec.html#t:ExpectedResult" title="Futhark.Test.Spec">ExpectedResult</a> values] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Success" class="def">Success</a> <a href="src/Futhark.Test.Spec.html#Success" class="link">Source</a> <a href="#t:Success" class="selflink">#</a></p><div class="doc"><p>The result expected from a succesful execution.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SuccessValues" class="def">SuccessValues</a> <a href="Futhark-Test-Spec.html#t:Values" title="Futhark.Test.Spec">Values</a></td><td class="doc"><p>These values are expected.</p></td></tr><tr><td class="src"><a id="v:SuccessGenerateValues" class="def">SuccessGenerateValues</a></td><td class="doc"><p>Compute expected values from executing a known-good
 reference implementation.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Success">Instances</h4><details id="i:Success" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Success:Show:1"></span> Show <a href="Futhark-Test-Spec.html#t:Success" title="Futhark.Test.Spec">Success</a></span> <a href="src/Futhark.Test.Spec.html#line-161" class="link">Source</a> <a href="#t:Success" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Success:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Test-Spec.html">Futhark.Test.Spec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Test-Spec.html#t:Success" title="Futhark.Test.Spec">Success</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Test-Spec.html#t:Success" title="Futhark.Test.Spec">Success</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Test-Spec.html#t:Success" title="Futhark.Test.Spec">Success</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Values" class="def">Values</a> <a href="src/Futhark.Test.Spec.html#Values" class="link">Source</a> <a href="#t:Values" class="selflink">#</a></p><div class="doc"><p>Several values - either literally, or by reference to a file, or
 to be generated on demand.  All paths are relative to test program.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Values" class="def">Values</a> [<a href="Futhark-Test.html#t:Value" title="Futhark.Test">Value</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:InFile" class="def">InFile</a> FilePath</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:GenValues" class="def">GenValues</a> [<a href="Futhark-Test-Spec.html#t:GenValue" title="Futhark.Test.Spec">GenValue</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ScriptValues" class="def">ScriptValues</a> <a href="Futhark-Script.html#t:Exp" title="Futhark.Script">Exp</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ScriptFile" class="def">ScriptFile</a> FilePath</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Values">Instances</h4><details id="i:Values" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Values:Show:1"></span> Show <a href="Futhark-Test-Spec.html#t:Values" title="Futhark.Test.Spec">Values</a></span> <a href="src/Futhark.Test.Spec.html#line-127" class="link">Source</a> <a href="#t:Values" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Values:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Test-Spec.html">Futhark.Test.Spec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Test-Spec.html#t:Values" title="Futhark.Test.Spec">Values</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Test-Spec.html#t:Values" title="Futhark.Test.Spec">Values</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Test-Spec.html#t:Values" title="Futhark.Test.Spec">Values</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GenValue" class="def">GenValue</a> <a href="src/Futhark.Test.Spec.html#GenValue" class="link">Source</a> <a href="#t:GenValue" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:GenValue" class="def">GenValue</a> <a href="../futhark-data-1.0.3.0/Futhark-Data.html#t:ValueType" title="Futhark.Data">ValueType</a></td><td class="doc"><p>Generate a value of the given rank and primitive
 type.  Scalars are considered 0-ary arrays.</p></td></tr><tr><td class="src"><a id="v:GenPrim" class="def">GenPrim</a> <a href="Futhark-Test.html#t:Value" title="Futhark.Test">Value</a></td><td class="doc"><p>A fixed non-randomised primitive value.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:GenValue">Instances</h4><details id="i:GenValue" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GenValue:Show:1"></span> Show <a href="Futhark-Test-Spec.html#t:GenValue" title="Futhark.Test.Spec">GenValue</a></span> <a href="src/Futhark.Test.Spec.html#line-135" class="link">Source</a> <a href="#t:GenValue" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:GenValue:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Test-Spec.html">Futhark.Test.Spec</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Test-Spec.html#t:GenValue" title="Futhark.Test.Spec">GenValue</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Test-Spec.html#t:GenValue" title="Futhark.Test.Spec">GenValue</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Test-Spec.html#t:GenValue" title="Futhark.Test.Spec">GenValue</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:genValueType" class="def">genValueType</a> :: <a href="Futhark-Test-Spec.html#t:GenValue" title="Futhark.Test.Spec">GenValue</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="src/Futhark.Test.Spec.html#genValueType" class="link">Source</a> <a href="#v:genValueType" class="selflink">#</a></p><div class="doc"><p>A prettyprinted representation of type of value produced by a
 <code><a href="Futhark-Test-Spec.html#t:GenValue" title="Futhark.Test.Spec">GenValue</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>