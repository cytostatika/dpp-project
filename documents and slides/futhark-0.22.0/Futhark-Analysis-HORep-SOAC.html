<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Futhark.Analysis.HORep.SOAC</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">futhark-0.22.0: An optimising compiler for a functional, array-oriented language.</span><ul class="links" id="page-menu"><li><a href="src/Futhark.Analysis.HORep.SOAC.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Futhark.Analysis.HORep.SOAC</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">SOACs</a><ul><li><a href="#g:2">Converting to and from expressions</a></li></ul></li><li><a href="#g:3">SOAC inputs</a><ul><li><a href="#g:4">Input transformations</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>High-level representation of SOACs.  When performing
 SOAC-transformations, operating on normal <code><a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a></code> values is somewhat
 of a nuisance, as they can represent terms that are not proper
 SOACs.  In contrast, this module exposes a SOAC representation that
 does not enable invalid representations (except for type errors).</p><p>Furthermore, while standard normalised Futhark requires that the inputs
 to a SOAC are variables or constants, the representation in this
 module also supports various index-space transformations, like
 <code>replicate</code> or <code>rearrange</code>.  This is also very convenient when
 implementing transformations.</p><p>The names exported by this module conflict with the standard Futhark
 syntax tree constructors, so you are advised to use a qualified
 import:</p><pre>import Futhark.Analysis.HORep.SOAC (SOAC)
import qualified Futhark.Analysis.HORep.SOAC as SOAC
</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:SOAC">SOAC</a> rep<ul class="subs"><li>= <a href="#v:Stream">Stream</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> (<a href="Futhark-IR-SOACS-SOAC.html#t:StreamForm" title="Futhark.IR.SOACS.SOAC">StreamForm</a> rep) (<a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> rep) [<a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>] [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>]</li><li>| <a href="#v:Scatter">Scatter</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> (<a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> rep) [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>] [(<a href="Futhark-IR-Syntax-Core.html#t:Shape" title="Futhark.IR.Syntax.Core">Shape</a>, Int, <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>)]</li><li>| <a href="#v:Screma">Screma</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> (<a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep) [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>]</li><li>| <a href="#v:Hist">Hist</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> [<a href="Futhark-IR-SOACS-SOAC.html#t:HistOp" title="Futhark.IR.SOACS.SOAC">HistOp</a> rep] (<a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> rep) [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>]</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ScremaForm">ScremaForm</a> rep = <a href="#v:ScremaForm">ScremaForm</a> [<a href="Futhark-IR-SOACS-SOAC.html#t:Scan" title="Futhark.IR.SOACS.SOAC">Scan</a> rep] [<a href="Futhark-IR-SOACS-SOAC.html#t:Reduce" title="Futhark.IR.SOACS.SOAC">Reduce</a> rep] (<a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> rep)</li><li class="src short"><a href="#v:inputs">inputs</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>]</li><li class="src short"><a href="#v:setInputs">setInputs</a> :: [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>] -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep</li><li class="src short"><a href="#v:lambda">lambda</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> rep</li><li class="src short"><a href="#v:setLambda">setLambda</a> :: <a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep</li><li class="src short"><a href="#v:typeOf">typeOf</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; [<a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a>]</li><li class="src short"><a href="#v:width">width</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:NotSOAC">NotSOAC</a> = <a href="#v:NotSOAC">NotSOAC</a></li><li class="src short"><a href="#v:fromExp">fromExp</a> :: (<a href="Futhark-IR-Rep.html#t:Op" title="Futhark.IR.Rep">Op</a> rep ~ <a href="Futhark-IR-SOACS-SOAC.html#t:SOAC" title="Futhark.IR.SOACS.SOAC">SOAC</a> rep, <a href="Futhark-IR-Prop-Scope.html#t:HasScope" title="Futhark.IR.Prop.Scope">HasScope</a> rep m) =&gt; <a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a> rep -&gt; m (Either <a href="Futhark-Analysis-HORep-SOAC.html#t:NotSOAC" title="Futhark.Analysis.HORep.SOAC">NotSOAC</a> (<a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep))</li><li class="src short"><a href="#v:toExp">toExp</a> :: (<a href="Futhark-Builder-Class.html#t:MonadBuilder" title="Futhark.Builder.Class">MonadBuilder</a> m, <a href="Futhark-IR-Rep.html#t:Op" title="Futhark.IR.Rep">Op</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> m) ~ <a href="Futhark-IR-SOACS-SOAC.html#t:SOAC" title="Futhark.IR.SOACS.SOAC">SOAC</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> m)) =&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> m) -&gt; m (<a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> m))</li><li class="src short"><a href="#v:toSOAC">toSOAC</a> :: <a href="Futhark-Builder-Class.html#t:MonadBuilder" title="Futhark.Builder.Class">MonadBuilder</a> m =&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> m) -&gt; m (<a href="Futhark-IR-SOACS-SOAC.html#t:SOAC" title="Futhark.IR.SOACS.SOAC">SOAC</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> m))</li><li class="src short"><span class="keyword">data</span> <a href="#t:Input">Input</a> = <a href="#v:Input">Input</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a></li><li class="src short"><a href="#v:varInput">varInput</a> :: <a href="Futhark-IR-Prop-Scope.html#t:HasScope" title="Futhark.IR.Prop.Scope">HasScope</a> t f =&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; f <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></li><li class="src short"><a href="#v:identInput">identInput</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Ident" title="Futhark.IR.Syntax.Core">Ident</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></li><li class="src short"><a href="#v:isVarInput">isVarInput</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Maybe <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a></li><li class="src short"><a href="#v:isVarishInput">isVarishInput</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Maybe <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a></li><li class="src short"><a href="#v:addTransform">addTransform</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></li><li class="src short"><a href="#v:addInitialTransforms">addInitialTransforms</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></li><li class="src short"><a href="#v:inputArray">inputArray</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a></li><li class="src short"><a href="#v:inputRank">inputRank</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Int</li><li class="src short"><a href="#v:inputType">inputType</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a></li><li class="src short"><a href="#v:inputRowType">inputRowType</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a></li><li class="src short"><a href="#v:transformRows">transformRows</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></li><li class="src short"><a href="#v:transposeInput">transposeInput</a> :: Int -&gt; Int -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ArrayTransforms">ArrayTransforms</a></li><li class="src short"><a href="#v:noTransforms">noTransforms</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></li><li class="src short"><a href="#v:nullTransforms">nullTransforms</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; Bool</li><li class="src short"><a href="#v:-124--62-">(|&gt;)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></li><li class="src short"><a href="#v:-60--124-">(&lt;|)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></li><li class="src short"><a href="#v:viewf">viewf</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ViewF" title="Futhark.Analysis.HORep.SOAC">ViewF</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ViewF">ViewF</a><ul class="subs"><li>= <a href="#v:EmptyF">EmptyF</a></li><li>| <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> <a href="#v::-60-">:&lt;</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></li></ul></li><li class="src short"><a href="#v:viewl">viewl</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ViewL" title="Futhark.Analysis.HORep.SOAC">ViewL</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ViewL">ViewL</a><ul class="subs"><li>= <a href="#v:EmptyL">EmptyL</a></li><li>| <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="#v::-62-">:&gt;</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ArrayTransform">ArrayTransform</a><ul class="subs"><li>= <a href="#v:Rearrange">Rearrange</a> <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> [Int]</li><li>| <a href="#v:Reshape">Reshape</a> <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> (<a href="Futhark-IR-Syntax.html#t:ShapeChange" title="Futhark.IR.Syntax">ShapeChange</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>)</li><li>| <a href="#v:ReshapeOuter">ReshapeOuter</a> <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> (<a href="Futhark-IR-Syntax.html#t:ShapeChange" title="Futhark.IR.Syntax">ShapeChange</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>)</li><li>| <a href="#v:ReshapeInner">ReshapeInner</a> <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> (<a href="Futhark-IR-Syntax.html#t:ShapeChange" title="Futhark.IR.Syntax">ShapeChange</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>)</li><li>| <a href="#v:Replicate">Replicate</a> <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> <a href="Futhark-IR-Syntax-Core.html#t:Shape" title="Futhark.IR.Syntax.Core">Shape</a></li></ul></li><li class="src short"><a href="#v:transformFromExp">transformFromExp</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> -&gt; <a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a> rep -&gt; Maybe (<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>, <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a>)</li><li class="src short"><a href="#v:soacToStream">soacToStream</a> :: (<a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m, <a href="Futhark-Builder-Class.html#t:Buildable" title="Futhark.Builder.Class">Buildable</a> rep, <a href="Futhark-IR-Rep.html#t:Op" title="Futhark.IR.Rep">Op</a> rep ~ <a href="Futhark-IR-SOACS-SOAC.html#t:SOAC" title="Futhark.IR.SOACS.SOAC">SOAC</a> rep) =&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; m (<a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep, [<a href="Futhark-IR-Syntax-Core.html#t:Ident" title="Futhark.IR.Syntax.Core">Ident</a>])</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>SOACs</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SOAC" class="def">SOAC</a> rep <a href="src/Futhark.Analysis.HORep.SOAC.html#SOAC" class="link">Source</a> <a href="#t:SOAC" class="selflink">#</a></p><div class="doc"><p>A definite representation of a SOAC expression.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Stream" class="def">Stream</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> (<a href="Futhark-IR-SOACS-SOAC.html#t:StreamForm" title="Futhark.IR.SOACS.SOAC">StreamForm</a> rep) (<a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> rep) [<a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>] [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Scatter" class="def">Scatter</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> (<a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> rep) [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>] [(<a href="Futhark-IR-Syntax-Core.html#t:Shape" title="Futhark.IR.Syntax.Core">Shape</a>, Int, <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>)]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Screma" class="def">Screma</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> (<a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep) [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Hist" class="def">Hist</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> [<a href="Futhark-IR-SOACS-SOAC.html#t:HistOp" title="Futhark.IR.SOACS.SOAC">HistOp</a> rep] (<a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> rep) [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SOAC">Instances</h4><details id="i:SOAC" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SOAC:Eq:1"></span> <a href="Futhark-IR-Rep.html#t:RepTypes" title="Futhark.IR.Rep">RepTypes</a> rep =&gt; Eq (<a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep)</span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-382" class="link">Source</a> <a href="#t:SOAC" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SOAC:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SOAC:Show:2"></span> <a href="Futhark-IR-Rep.html#t:RepTypes" title="Futhark.IR.Rep">RepTypes</a> rep =&gt; Show (<a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep)</span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-382" class="link">Source</a> <a href="#t:SOAC" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SOAC:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep] -&gt; ShowS</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SOAC:Pretty:3"></span> <a href="Futhark-IR-Pretty.html#t:PrettyRep" title="Futhark.IR.Pretty">PrettyRep</a> rep =&gt; <a href="../mainland-pretty-0.7.1/Text-PrettyPrint-Mainland-Class.html#t:Pretty" title="Text.PrettyPrint.Mainland.Class">Pretty</a> (<a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep)</span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-398" class="link">Source</a> <a href="#t:SOAC" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SOAC:Pretty:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="Futhark-Util-Pretty.html#t:Doc" title="Futhark.Util.Pretty">Doc</a> <a href="#v:ppr" class="selflink">#</a></p><p class="src"><a href="#v:pprPrec">pprPrec</a> :: Int -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="Futhark-Util-Pretty.html#t:Doc" title="Futhark.Util.Pretty">Doc</a> <a href="#v:pprPrec" class="selflink">#</a></p><p class="src"><a href="#v:pprList">pprList</a> :: [<a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep] -&gt; <a href="Futhark-Util-Pretty.html#t:Doc" title="Futhark.Util.Pretty">Doc</a> <a href="#v:pprList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ScremaForm" class="def">ScremaForm</a> rep <a href="src/Futhark.IR.SOACS.SOAC.html#ScremaForm" class="link">Source</a> <a href="#t:ScremaForm" class="selflink">#</a></p><div class="doc"><p>The essential parts of a <code><a href="Futhark-IR-SOACS-SOAC.html#v:Screma" title="Futhark.IR.SOACS.SOAC">Screma</a></code> factored out (everything
 except the input arrays).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ScremaForm" class="def">ScremaForm</a> [<a href="Futhark-IR-SOACS-SOAC.html#t:Scan" title="Futhark.IR.SOACS.SOAC">Scan</a> rep] [<a href="Futhark-IR-SOACS-SOAC.html#t:Reduce" title="Futhark.IR.SOACS.SOAC">Reduce</a> rep] (<a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> rep)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ScremaForm">Instances</h4><details id="i:ScremaForm" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ScremaForm:Eq:1"></span> <a href="Futhark-IR-Rep.html#t:RepTypes" title="Futhark.IR.Rep">RepTypes</a> rep =&gt; Eq (<a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep)</span> <a href="src/Futhark.IR.SOACS.SOAC.html#line-168" class="link">Source</a> <a href="#t:ScremaForm" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ScremaForm:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-IR-SOACS-SOAC.html">Futhark.IR.SOACS.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ScremaForm:Ord:2"></span> <a href="Futhark-IR-Rep.html#t:RepTypes" title="Futhark.IR.Rep">RepTypes</a> rep =&gt; Ord (<a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep)</span> <a href="src/Futhark.IR.SOACS.SOAC.html#line-168" class="link">Source</a> <a href="#t:ScremaForm" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ScremaForm:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-IR-SOACS-SOAC.html">Futhark.IR.SOACS.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; Ordering</p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; Bool</p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; Bool</p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; Bool</p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; Bool</p><p class="src"><a href="#v:max">max</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep</p><p class="src"><a href="#v:min">min</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ScremaForm:Show:3"></span> <a href="Futhark-IR-Rep.html#t:RepTypes" title="Futhark.IR.Rep">RepTypes</a> rep =&gt; Show (<a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep)</span> <a href="src/Futhark.IR.SOACS.SOAC.html#line-168" class="link">Source</a> <a href="#t:ScremaForm" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ScremaForm:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-IR-SOACS-SOAC.html">Futhark.IR.SOACS.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Analysis-HORep-SOAC.html#t:ScremaForm" title="Futhark.Analysis.HORep.SOAC">ScremaForm</a> rep] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:inputs" class="def">inputs</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>] <a href="src/Futhark.Analysis.HORep.SOAC.html#inputs" class="link">Source</a> <a href="#v:inputs" class="selflink">#</a></p><div class="doc"><p>Returns the inputs used in a SOAC.</p></div></div><div class="top"><p class="src"><a id="v:setInputs" class="def">setInputs</a> :: [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>] -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep <a href="src/Futhark.Analysis.HORep.SOAC.html#setInputs" class="link">Source</a> <a href="#v:setInputs" class="selflink">#</a></p><div class="doc"><p>Set the inputs to a SOAC.</p></div></div><div class="top"><p class="src"><a id="v:lambda" class="def">lambda</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> rep <a href="src/Futhark.Analysis.HORep.SOAC.html#lambda" class="link">Source</a> <a href="#v:lambda" class="selflink">#</a></p><div class="doc"><p>The lambda used in a given SOAC.</p></div></div><div class="top"><p class="src"><a id="v:setLambda" class="def">setLambda</a> :: <a href="Futhark-IR-Syntax.html#t:Lambda" title="Futhark.IR.Syntax">Lambda</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep <a href="src/Futhark.Analysis.HORep.SOAC.html#setLambda" class="link">Source</a> <a href="#v:setLambda" class="selflink">#</a></p><div class="doc"><p>Set the lambda used in the SOAC.</p></div></div><div class="top"><p class="src"><a id="v:typeOf" class="def">typeOf</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; [<a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a>] <a href="src/Futhark.Analysis.HORep.SOAC.html#typeOf" class="link">Source</a> <a href="#v:typeOf" class="selflink">#</a></p><div class="doc"><p>The return type of a SOAC.</p></div></div><div class="top"><p class="src"><a id="v:width" class="def">width</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#width" class="link">Source</a> <a href="#v:width" class="selflink">#</a></p><div class="doc"><p>The &quot;width&quot; of a SOAC is the expected outer size of its array
 inputs _after_ input-transforms have been carried out.</p></div></div><a href="#g:2" id="g:2"><h2>Converting to and from expressions</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NotSOAC" class="def">NotSOAC</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#NotSOAC" class="link">Source</a> <a href="#t:NotSOAC" class="selflink">#</a></p><div class="doc"><p>The reason why some expression cannot be converted to a <code><a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a></code>
 value.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NotSOAC" class="def">NotSOAC</a></td><td class="doc"><p>The expression is not a (tuple-)SOAC at all.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:NotSOAC">Instances</h4><details id="i:NotSOAC" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NotSOAC:Show:1"></span> Show <a href="Futhark-Analysis-HORep-SOAC.html#t:NotSOAC" title="Futhark.Analysis.HORep.SOAC">NotSOAC</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-495" class="link">Source</a> <a href="#t:NotSOAC" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NotSOAC:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:NotSOAC" title="Futhark.Analysis.HORep.SOAC">NotSOAC</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:NotSOAC" title="Futhark.Analysis.HORep.SOAC">NotSOAC</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Analysis-HORep-SOAC.html#t:NotSOAC" title="Futhark.Analysis.HORep.SOAC">NotSOAC</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:fromExp" class="def">fromExp</a> :: (<a href="Futhark-IR-Rep.html#t:Op" title="Futhark.IR.Rep">Op</a> rep ~ <a href="Futhark-IR-SOACS-SOAC.html#t:SOAC" title="Futhark.IR.SOACS.SOAC">SOAC</a> rep, <a href="Futhark-IR-Prop-Scope.html#t:HasScope" title="Futhark.IR.Prop.Scope">HasScope</a> rep m) =&gt; <a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a> rep -&gt; m (Either <a href="Futhark-Analysis-HORep-SOAC.html#t:NotSOAC" title="Futhark.Analysis.HORep.SOAC">NotSOAC</a> (<a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep)) <a href="src/Futhark.Analysis.HORep.SOAC.html#fromExp" class="link">Source</a> <a href="#v:fromExp" class="selflink">#</a></p><div class="doc"><p>Either convert an expression to the normalised SOAC
 representation, or a reason why the expression does not have the
 valid form.</p></div></div><div class="top"><p class="src"><a id="v:toExp" class="def">toExp</a> :: (<a href="Futhark-Builder-Class.html#t:MonadBuilder" title="Futhark.Builder.Class">MonadBuilder</a> m, <a href="Futhark-IR-Rep.html#t:Op" title="Futhark.IR.Rep">Op</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> m) ~ <a href="Futhark-IR-SOACS-SOAC.html#t:SOAC" title="Futhark.IR.SOACS.SOAC">SOAC</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> m)) =&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> m) -&gt; m (<a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> m)) <a href="src/Futhark.Analysis.HORep.SOAC.html#toExp" class="link">Source</a> <a href="#v:toExp" class="selflink">#</a></p><div class="doc"><p>Convert a SOAC to the corresponding expression.</p></div></div><div class="top"><p class="src"><a id="v:toSOAC" class="def">toSOAC</a> :: <a href="Futhark-Builder-Class.html#t:MonadBuilder" title="Futhark.Builder.Class">MonadBuilder</a> m =&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> m) -&gt; m (<a href="Futhark-IR-SOACS-SOAC.html#t:SOAC" title="Futhark.IR.SOACS.SOAC">SOAC</a> (<a href="Futhark-Builder-Class.html#t:Rep" title="Futhark.Builder.Class">Rep</a> m)) <a href="src/Futhark.Analysis.HORep.SOAC.html#toSOAC" class="link">Source</a> <a href="#v:toSOAC" class="selflink">#</a></p><div class="doc"><p>Convert a SOAC to a Futhark-level SOAC.</p></div></div><a href="#g:3" id="g:3"><h1>SOAC inputs</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Input" class="def">Input</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#Input" class="link">Source</a> <a href="#t:Input" class="selflink">#</a></p><div class="doc"><p>One array input to a SOAC - a SOAC may have multiple inputs, but
 all are of this form.  Only the array inputs are expressed with
 this type; other arguments, such as initial accumulator values, are
 plain expressions.  The transforms are done left-to-right, that is,
 the first element of the <code><a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a></code> list is applied first.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Input" class="def">Input</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Input">Instances</h4><details id="i:Input" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Input:Eq:1"></span> Eq <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-244" class="link">Source</a> <a href="#t:Input" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Input:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Input:Ord:2"></span> Ord <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-244" class="link">Source</a> <a href="#t:Input" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Input:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Ordering</p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Bool</p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Bool</p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Bool</p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Bool</p><p class="src"><a href="#v:max">max</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Input:Show:3"></span> Show <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-244" class="link">Source</a> <a href="#t:Input" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Input:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>] -&gt; ShowS</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Input:Pretty:4"></span> <a href="../mainland-pretty-0.7.1/Text-PrettyPrint-Mainland-Class.html#t:Pretty" title="Text.PrettyPrint.Mainland.Class">Pretty</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-384" class="link">Source</a> <a href="#t:Input" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Input:Pretty:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Util-Pretty.html#t:Doc" title="Futhark.Util.Pretty">Doc</a> <a href="#v:ppr" class="selflink">#</a></p><p class="src"><a href="#v:pprPrec">pprPrec</a> :: Int -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Util-Pretty.html#t:Doc" title="Futhark.Util.Pretty">Doc</a> <a href="#v:pprPrec" class="selflink">#</a></p><p class="src"><a href="#v:pprList">pprList</a> :: [<a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a>] -&gt; <a href="Futhark-Util-Pretty.html#t:Doc" title="Futhark.Util.Pretty">Doc</a> <a href="#v:pprList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Input:Substitute:5"></span> <a href="Futhark-Transform-Substitute.html#t:Substitute" title="Futhark.Transform.Substitute">Substitute</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-246" class="link">Source</a> <a href="#t:Input" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Input:Substitute:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:substituteNames">substituteNames</a> :: Map <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> <a href="src/Futhark.Transform.Substitute.html#substituteNames" class="link">Source</a> <a href="#v:substituteNames" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:varInput" class="def">varInput</a> :: <a href="Futhark-IR-Prop-Scope.html#t:HasScope" title="Futhark.IR.Prop.Scope">HasScope</a> t f =&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; f <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#varInput" class="link">Source</a> <a href="#v:varInput" class="selflink">#</a></p><div class="doc"><p>Create a plain array variable input with no transformations.</p></div></div><div class="top"><p class="src"><a id="v:identInput" class="def">identInput</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Ident" title="Futhark.IR.Syntax.Core">Ident</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#identInput" class="link">Source</a> <a href="#v:identInput" class="selflink">#</a></p><div class="doc"><p>Create a plain array variable input with no transformations, from an <code><a href="Futhark-IR-Syntax-Core.html#t:Ident" title="Futhark.IR.Syntax.Core">Ident</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:isVarInput" class="def">isVarInput</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Maybe <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#isVarInput" class="link">Source</a> <a href="#v:isVarInput" class="selflink">#</a></p><div class="doc"><p>If the given input is a plain variable input, with no transforms,
 return the variable.</p></div></div><div class="top"><p class="src"><a id="v:isVarishInput" class="def">isVarishInput</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Maybe <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#isVarishInput" class="link">Source</a> <a href="#v:isVarishInput" class="selflink">#</a></p><div class="doc"><p>If the given input is a plain variable input, with no non-vacuous transforms,
 return the variable.</p></div></div><div class="top"><p class="src"><a id="v:addTransform" class="def">addTransform</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#addTransform" class="link">Source</a> <a href="#v:addTransform" class="selflink">#</a></p><div class="doc"><p>Add a transformation to the end of the transformation list.</p></div></div><div class="top"><p class="src"><a id="v:addInitialTransforms" class="def">addInitialTransforms</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#addInitialTransforms" class="link">Source</a> <a href="#v:addInitialTransforms" class="selflink">#</a></p><div class="doc"><p>Add several transformations to the start of the transformation
 list.</p></div></div><div class="top"><p class="src"><a id="v:inputArray" class="def">inputArray</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#inputArray" class="link">Source</a> <a href="#v:inputArray" class="selflink">#</a></p><div class="doc"><p>Return the array name of the input.</p></div></div><div class="top"><p class="src"><a id="v:inputRank" class="def">inputRank</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; Int <a href="src/Futhark.Analysis.HORep.SOAC.html#inputRank" class="link">Source</a> <a href="#v:inputRank" class="selflink">#</a></p><div class="doc"><p>Return the array rank (dimensionality) of an input.  Just a
 convenient alias.</p></div></div><div class="top"><p class="src"><a id="v:inputType" class="def">inputType</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#inputType" class="link">Source</a> <a href="#v:inputType" class="selflink">#</a></p><div class="doc"><p>Return the type of an input.</p></div></div><div class="top"><p class="src"><a id="v:inputRowType" class="def">inputRowType</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Type" title="Futhark.IR.Syntax.Core">Type</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#inputRowType" class="link">Source</a> <a href="#v:inputRowType" class="selflink">#</a></p><div class="doc"><p>Return the row type of an input.  Just a convenient alias.</p></div></div><div class="top"><p class="src"><a id="v:transformRows" class="def">transformRows</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#transformRows" class="link">Source</a> <a href="#v:transformRows" class="selflink">#</a></p><div class="doc"><p>Apply the transformations to every row of the input.</p></div></div><div class="top"><p class="src"><a id="v:transposeInput" class="def">transposeInput</a> :: Int -&gt; Int -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:Input" title="Futhark.Analysis.HORep.SOAC">Input</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#transposeInput" class="link">Source</a> <a href="#v:transposeInput" class="selflink">#</a></p><div class="doc"><p>Add to the input a <code><a href="Futhark-Analysis-HORep-SOAC.html#v:Rearrange" title="Futhark.Analysis.HORep.SOAC">Rearrange</a></code> transform that performs an <code>(k,n)</code>
 transposition.  The new transform will be at the end of the current
 transformation list.</p></div></div><a href="#g:4" id="g:4"><h2>Input transformations</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ArrayTransforms" class="def">ArrayTransforms</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#ArrayTransforms" class="link">Source</a> <a href="#t:ArrayTransforms" class="selflink">#</a></p><div class="doc"><p>A sequence of array transformations, heavily inspired by
 <a href="Data-Seq.html">Data.Seq</a>.  You can decompose it using <code><a href="Futhark-Analysis-HORep-SOAC.html#v:viewf" title="Futhark.Analysis.HORep.SOAC">viewf</a></code> and <code><a href="Futhark-Analysis-HORep-SOAC.html#v:viewl" title="Futhark.Analysis.HORep.SOAC">viewl</a></code>, and
 grow it by using <code><a href="Futhark-Analysis-HORep-SOAC.html#v:-124--62-" title="Futhark.Analysis.HORep.SOAC">|&gt;</a></code> and <code><a href="Futhark-Analysis-HORep-SOAC.html#v:-60--124-" title="Futhark.Analysis.HORep.SOAC">&lt;|</a></code>.  These correspond closely to the
 similar operations for sequences, except that appending will try to
 normalise and simplify the transformation sequence.</p><p>The data type is opaque in order to enforce normalisation
 invariants.  Basically, when you grow the sequence, the
 implementation will try to coalesce neighboring permutations, for
 example by composing permutations and removing identity
 transformations.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ArrayTransforms">Instances</h4><details id="i:ArrayTransforms" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArrayTransforms:Eq:1"></span> Eq <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-137" class="link">Source</a> <a href="#t:ArrayTransforms" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArrayTransforms:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArrayTransforms:Ord:2"></span> Ord <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-137" class="link">Source</a> <a href="#t:ArrayTransforms" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArrayTransforms:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; Ordering</p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; Bool</p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; Bool</p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; Bool</p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; Bool</p><p class="src"><a href="#v:max">max</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArrayTransforms:Show:3"></span> Show <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-137" class="link">Source</a> <a href="#t:ArrayTransforms" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArrayTransforms:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a>] -&gt; ShowS</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArrayTransforms:Semigroup:4"></span> <a href="../base-compat-0.11.2/Data-Semigroup-Compat.html#t:Semigroup" title="Data.Semigroup.Compat">Semigroup</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-139" class="link">Source</a> <a href="#t:ArrayTransforms" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArrayTransforms:Semigroup:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../base-compat-0.11.2/Data-List-NonEmpty-Compat.html#t:NonEmpty" title="Data.List.NonEmpty.Compat">NonEmpty</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: Integral b =&gt; b -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArrayTransforms:Monoid:5"></span> <a href="../base-compat-0.11.2/Data-Monoid-Compat.html#t:Monoid" title="Data.Monoid.Compat">Monoid</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-144" class="link">Source</a> <a href="#t:ArrayTransforms" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArrayTransforms:Monoid:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a>] -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArrayTransforms:Substitute:6"></span> <a href="Futhark-Transform-Substitute.html#t:Substitute" title="Futhark.Transform.Substitute">Substitute</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-147" class="link">Source</a> <a href="#t:ArrayTransforms" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArrayTransforms:Substitute:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:substituteNames">substituteNames</a> :: Map <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="src/Futhark.Transform.Substitute.html#substituteNames" class="link">Source</a> <a href="#v:substituteNames" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:noTransforms" class="def">noTransforms</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#noTransforms" class="link">Source</a> <a href="#v:noTransforms" class="selflink">#</a></p><div class="doc"><p>The empty transformation list.</p></div></div><div class="top"><p class="src"><a id="v:nullTransforms" class="def">nullTransforms</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; Bool <a href="src/Futhark.Analysis.HORep.SOAC.html#nullTransforms" class="link">Source</a> <a href="#v:nullTransforms" class="selflink">#</a></p><div class="doc"><p>Is it an empty transformation list?</p></div></div><div class="top"><p class="src"><a id="v:-124--62-" class="def">(|&gt;)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#%7C%3E" class="link">Source</a> <a href="#v:-124--62-" class="selflink">#</a></p><div class="doc"><p>Add a transform to the end of the transformation list.</p></div></div><div class="top"><p class="src"><a id="v:-60--124-" class="def">(&lt;|)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#%3C%7C" class="link">Source</a> <a href="#v:-60--124-" class="selflink">#</a></p><div class="doc"><p>Add a transform at the beginning of the transformation list.</p></div></div><div class="top"><p class="src"><a id="v:viewf" class="def">viewf</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ViewF" title="Futhark.Analysis.HORep.SOAC">ViewF</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#viewf" class="link">Source</a> <a href="#v:viewf" class="selflink">#</a></p><div class="doc"><p>Decompose the input-end of the transformation sequence.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ViewF" class="def">ViewF</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#ViewF" class="link">Source</a> <a href="#t:ViewF" class="selflink">#</a></p><div class="doc"><p>A view of the first transformation to be applied.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EmptyF" class="def">EmptyF</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> <a id="v::-60-" class="def">:&lt;</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:viewl" class="def">viewl</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ViewL" title="Futhark.Analysis.HORep.SOAC">ViewL</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#viewl" class="link">Source</a> <a href="#v:viewl" class="selflink">#</a></p><div class="doc"><p>Decompose the output-end of the transformation sequence.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ViewL" class="def">ViewL</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#ViewL" class="link">Source</a> <a href="#t:ViewL" class="selflink">#</a></p><div class="doc"><p>A view of the last transformation to be applied.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EmptyL" class="def">EmptyL</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a> <a id="v::-62-" class="def">:&gt;</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ArrayTransform" class="def">ArrayTransform</a> <a href="src/Futhark.Analysis.HORep.SOAC.html#ArrayTransform" class="link">Source</a> <a href="#t:ArrayTransform" class="selflink">#</a></p><div class="doc"><p>A single, simple transformation.  If you want several, don't just
 create a list, use <code><a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransforms" title="Futhark.Analysis.HORep.SOAC">ArrayTransforms</a></code> instead.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Rearrange" class="def">Rearrange</a> <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> [Int]</td><td class="doc"><p>A permutation of an otherwise valid input.</p></td></tr><tr><td class="src"><a id="v:Reshape" class="def">Reshape</a> <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> (<a href="Futhark-IR-Syntax.html#t:ShapeChange" title="Futhark.IR.Syntax">ShapeChange</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>)</td><td class="doc"><p>A reshaping of an otherwise valid input.</p></td></tr><tr><td class="src"><a id="v:ReshapeOuter" class="def">ReshapeOuter</a> <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> (<a href="Futhark-IR-Syntax.html#t:ShapeChange" title="Futhark.IR.Syntax">ShapeChange</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>)</td><td class="doc"><p>A reshaping of the outer dimension.</p></td></tr><tr><td class="src"><a id="v:ReshapeInner" class="def">ReshapeInner</a> <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> (<a href="Futhark-IR-Syntax.html#t:ShapeChange" title="Futhark.IR.Syntax">ShapeChange</a> <a href="Futhark-IR-Syntax-Core.html#t:SubExp" title="Futhark.IR.Syntax.Core">SubExp</a>)</td><td class="doc"><p>A reshaping of everything but the outer dimension.</p></td></tr><tr><td class="src"><a id="v:Replicate" class="def">Replicate</a> <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> <a href="Futhark-IR-Syntax-Core.html#t:Shape" title="Futhark.IR.Syntax.Core">Shape</a></td><td class="doc"><p>Replicate the rows of the array a number of times.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ArrayTransform">Instances</h4><details id="i:ArrayTransform" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArrayTransform:Eq:1"></span> Eq <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-111" class="link">Source</a> <a href="#t:ArrayTransform" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArrayTransform:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArrayTransform:Ord:2"></span> Ord <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-111" class="link">Source</a> <a href="#t:ArrayTransform" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArrayTransform:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; Ordering</p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; Bool</p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; Bool</p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; Bool</p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; Bool</p><p class="src"><a href="#v:max">max</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArrayTransform:Show:3"></span> Show <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-111" class="link">Source</a> <a href="#t:ArrayTransform" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArrayTransform:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a>] -&gt; ShowS</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArrayTransform:Substitute:4"></span> <a href="Futhark-Transform-Substitute.html#t:Substitute" title="Futhark.Transform.Substitute">Substitute</a> <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a></span> <a href="src/Futhark.Analysis.HORep.SOAC.html#line-113" class="link">Source</a> <a href="#t:ArrayTransform" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArrayTransform:Substitute:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Analysis-HORep-SOAC.html">Futhark.Analysis.HORep.SOAC</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:substituteNames">substituteNames</a> :: Map <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> -&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a> <a href="src/Futhark.Transform.Substitute.html#substituteNames" class="link">Source</a> <a href="#v:substituteNames" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:transformFromExp" class="def">transformFromExp</a> :: <a href="Futhark-IR-Syntax-Core.html#t:Certs" title="Futhark.IR.Syntax.Core">Certs</a> -&gt; <a href="Futhark-IR-Syntax.html#t:Exp" title="Futhark.IR.Syntax">Exp</a> rep -&gt; Maybe (<a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a>, <a href="Futhark-Analysis-HORep-SOAC.html#t:ArrayTransform" title="Futhark.Analysis.HORep.SOAC">ArrayTransform</a>) <a href="src/Futhark.Analysis.HORep.SOAC.html#transformFromExp" class="link">Source</a> <a href="#v:transformFromExp" class="selflink">#</a></p><div class="doc"><p>Given an expression, determine whether the expression represents
 an input transformation of an array variable.  If so, return the
 variable and the transformation.  Only <code><a href="Futhark-Analysis-HORep-SOAC.html#v:Rearrange" title="Futhark.Analysis.HORep.SOAC">Rearrange</a></code> and <code><a href="Futhark-Analysis-HORep-SOAC.html#v:Reshape" title="Futhark.Analysis.HORep.SOAC">Reshape</a></code>
 are possible to express this way.</p></div></div><div class="top"><p class="src"><a id="v:soacToStream" class="def">soacToStream</a> :: (<a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m, <a href="Futhark-Builder-Class.html#t:Buildable" title="Futhark.Builder.Class">Buildable</a> rep, <a href="Futhark-IR-Rep.html#t:Op" title="Futhark.IR.Rep">Op</a> rep ~ <a href="Futhark-IR-SOACS-SOAC.html#t:SOAC" title="Futhark.IR.SOACS.SOAC">SOAC</a> rep) =&gt; <a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep -&gt; m (<a href="Futhark-Analysis-HORep-SOAC.html#t:SOAC" title="Futhark.Analysis.HORep.SOAC">SOAC</a> rep, [<a href="Futhark-IR-Syntax-Core.html#t:Ident" title="Futhark.IR.Syntax.Core">Ident</a>]) <a href="src/Futhark.Analysis.HORep.SOAC.html#soacToStream" class="link">Source</a> <a href="#v:soacToStream" class="selflink">#</a></p><div class="doc"><p>To-Stream translation of SOACs.
   Returns the Stream SOAC and the
   extra-accumulator body-result ident if any.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>