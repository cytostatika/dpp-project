<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Futhark.CodeGen.Backends.GenericPython</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">futhark-0.22.0: An optimising compiler for a functional, array-oriented language.</span><ul class="links" id="page-menu"><li><a href="src/Futhark.CodeGen.Backends.GenericPython.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Futhark.CodeGen.Backends.GenericPython</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A generic Python code generator which is polymorphic in the type
 of the operations.  Concretely, we use this to handle both
 sequential and PyOpenCL Python code.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:compileProg">compileProg</a> :: <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m =&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Constructor" title="Futhark.CodeGen.Backends.GenericPython">Constructor</a> -&gt; [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>] -&gt; [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Operations" title="Futhark.CodeGen.Backends.GenericPython">Operations</a> op s -&gt; s -&gt; [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>] -&gt; [<a href="Futhark-CodeGen-Backends-GenericPython-Options.html#t:Option" title="Futhark.CodeGen.Backends.GenericPython.Options">Option</a>] -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Definitions" title="Futhark.CodeGen.ImpCode">Definitions</a> op -&gt; m Text</li><li class="src short"><span class="keyword">data</span> <a href="#t:CompilerMode">CompilerMode</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Constructor">Constructor</a> = <a href="#v:Constructor">Constructor</a> [<a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a>] [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>]</li><li class="src short"><a href="#v:emptyConstructor">emptyConstructor</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Constructor" title="Futhark.CodeGen.Backends.GenericPython">Constructor</a></li><li class="src short"><a href="#v:compileName">compileName</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li class="src short"><a href="#v:compileVar">compileVar</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a></li><li class="src short"><a href="#v:compileDim">compileDim</a> :: <a href="Futhark-CodeGen-ImpCode.html#t:DimSize" title="Futhark.CodeGen.ImpCode">DimSize</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a></li><li class="src short"><a href="#v:compileExp">compileExp</a> :: <a href="Futhark-CodeGen-ImpCode.html#t:Exp" title="Futhark.CodeGen.ImpCode">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a></li><li class="src short"><a href="#v:compilePrimExp">compilePrimExp</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; (v -&gt; m <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a>) -&gt; <a href="Futhark-Analysis-PrimExp.html#t:PrimExp" title="Futhark.Analysis.PrimExp">PrimExp</a> v -&gt; m <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a></li><li class="src short"><a href="#v:compileCode">compileCode</a> :: <a href="Futhark-CodeGen-ImpCode.html#t:Code" title="Futhark.CodeGen.ImpCode">Code</a> op -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</li><li class="src short"><a href="#v:compilePrimValue">compilePrimValue</a> :: <a href="Futhark-IR-Primitive.html#t:PrimValue" title="Futhark.IR.Primitive">PrimValue</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a></li><li class="src short"><a href="#v:compilePrimType">compilePrimType</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li class="src short"><a href="#v:compilePrimTypeExt">compilePrimTypeExt</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Signedness" title="Futhark.CodeGen.ImpCode">Signedness</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li class="src short"><a href="#v:compilePrimToNp">compilePrimToNp</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li class="src short"><a href="#v:compilePrimToExtNp">compilePrimToExtNp</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Signedness" title="Futhark.CodeGen.ImpCode">Signedness</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></li><li class="src short"><a href="#v:fromStorage">fromStorage</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a></li><li class="src short"><a href="#v:toStorage">toStorage</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Operations">Operations</a> op s = <a href="#v:Operations">Operations</a> {<ul class="subs"><li><a href="#v:opsWriteScalar">opsWriteScalar</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:WriteScalar" title="Futhark.CodeGen.Backends.GenericPython">WriteScalar</a> op s</li><li><a href="#v:opsReadScalar">opsReadScalar</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:ReadScalar" title="Futhark.CodeGen.Backends.GenericPython">ReadScalar</a> op s</li><li><a href="#v:opsAllocate">opsAllocate</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Allocate" title="Futhark.CodeGen.Backends.GenericPython">Allocate</a> op s</li><li><a href="#v:opsCopy">opsCopy</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Copy" title="Futhark.CodeGen.Backends.GenericPython">Copy</a> op s</li><li><a href="#v:opsStaticArray">opsStaticArray</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:StaticArray" title="Futhark.CodeGen.Backends.GenericPython">StaticArray</a> op s</li><li><a href="#v:opsCompiler">opsCompiler</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:OpCompiler" title="Futhark.CodeGen.Backends.GenericPython">OpCompiler</a> op s</li><li><a href="#v:opsEntryOutput">opsEntryOutput</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:EntryOutput" title="Futhark.CodeGen.Backends.GenericPython">EntryOutput</a> op s</li><li><a href="#v:opsEntryInput">opsEntryInput</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:EntryInput" title="Futhark.CodeGen.Backends.GenericPython">EntryInput</a> op s</li></ul>}</li><li class="src short"><a href="#v:defaultOperations">defaultOperations</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Operations" title="Futhark.CodeGen.Backends.GenericPython">Operations</a> op s</li><li class="src short"><a href="#v:unpackDim">unpackDim</a> :: <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:DimSize" title="Futhark.CodeGen.ImpCode">DimSize</a> -&gt; <a href="Futhark-IR-Primitive.html#t:Int32" title="Futhark.IR.Primitive">Int32</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:CompilerM">CompilerM</a> op s a = <a href="#v:CompilerM">CompilerM</a> (RWS (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerEnv" title="Futhark.CodeGen.Backends.GenericPython">CompilerEnv</a> op s) [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>] (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericPython">CompilerState</a> s) a)</li><li class="src short"><span class="keyword">type</span> <a href="#t:OpCompiler">OpCompiler</a> op s = op -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:WriteScalar">WriteScalar</a> op s = <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:ReadScalar">ReadScalar</a> op s = <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Allocate">Allocate</a> op s = <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:Copy">Copy</a> op s = <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:StaticArray">StaticArray</a> op s = <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:ArrayContents" title="Futhark.CodeGen.ImpCode">ArrayContents</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:EntryOutput">EntryOutput</a> op s = <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Signedness" title="Futhark.CodeGen.ImpCode">Signedness</a> -&gt; [<a href="Futhark-CodeGen-ImpCode.html#t:DimSize" title="Futhark.CodeGen.ImpCode">DimSize</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:EntryInput">EntryInput</a> op s = <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Signedness" title="Futhark.CodeGen.ImpCode">Signedness</a> -&gt; [<a href="Futhark-CodeGen-ImpCode.html#t:DimSize" title="Futhark.CodeGen.ImpCode">DimSize</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:CompilerEnv">CompilerEnv</a> op s = <a href="#v:CompilerEnv">CompilerEnv</a> {<ul class="subs"><li><a href="#v:envOperations">envOperations</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Operations" title="Futhark.CodeGen.Backends.GenericPython">Operations</a> op s</li><li><a href="#v:envVarExp">envVarExp</a> :: Map <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:CompilerState">CompilerState</a> s = <a href="#v:CompilerState">CompilerState</a> {<ul class="subs"><li><a href="#v:compNameSrc">compNameSrc</a> :: <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a></li><li><a href="#v:compInit">compInit</a> :: [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>]</li><li><a href="#v:compUserState">compUserState</a> :: s</li></ul>}</li><li class="src short"><a href="#v:stm">stm</a> :: <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</li><li class="src short"><a href="#v:atInit">atInit</a> :: <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</li><li class="src short"><a href="#v:collect-39-">collect'</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s (a, [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>])</li><li class="src short"><a href="#v:collect">collect</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>]</li><li class="src short"><a href="#v:simpleCall">simpleCall</a> :: <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a></li><li class="src short"><a href="#v:copyMemoryDefaultSpace">copyMemoryDefaultSpace</a> :: <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:compileProg" class="def">compileProg</a> :: <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> m =&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Constructor" title="Futhark.CodeGen.Backends.GenericPython">Constructor</a> -&gt; [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>] -&gt; [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Operations" title="Futhark.CodeGen.Backends.GenericPython">Operations</a> op s -&gt; s -&gt; [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>] -&gt; [<a href="Futhark-CodeGen-Backends-GenericPython-Options.html#t:Option" title="Futhark.CodeGen.Backends.GenericPython.Options">Option</a>] -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Definitions" title="Futhark.CodeGen.ImpCode">Definitions</a> op -&gt; m Text <a href="src/Futhark.CodeGen.Backends.GenericPython.html#compileProg" class="link">Source</a> <a href="#v:compileProg" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CompilerMode" class="def">CompilerMode</a> <a href="src/Futhark.Compiler.CLI.html#CompilerMode" class="link">Source</a> <a href="#t:CompilerMode" class="selflink">#</a></p><div class="doc"><p>Are we compiling a library or an executable?</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:CompilerMode">Instances</h4><details id="i:CompilerMode" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerMode:Eq:1"></span> Eq <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a></span> <a href="src/Futhark.Compiler.CLI.html#line-180" class="link">Source</a> <a href="#t:CompilerMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerMode:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Compiler-CLI.html">Futhark.Compiler.CLI</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerMode:Ord:2"></span> Ord <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a></span> <a href="src/Futhark.Compiler.CLI.html#line-180" class="link">Source</a> <a href="#t:CompilerMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerMode:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Compiler-CLI.html">Futhark.Compiler.CLI</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; Ordering</p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; Bool</p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; Bool</p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; Bool</p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; Bool</p><p class="src"><a href="#v:max">max</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerMode:Show:3"></span> Show <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a></span> <a href="src/Futhark.Compiler.CLI.html#line-180" class="link">Source</a> <a href="#t:CompilerMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerMode:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-Compiler-CLI.html">Futhark.Compiler.CLI</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerMode" title="Futhark.CodeGen.Backends.GenericPython">CompilerMode</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Constructor" class="def">Constructor</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#Constructor" class="link">Source</a> <a href="#t:Constructor" class="selflink">#</a></p><div class="doc"><p>The class generated by the code generator must have a
 constructor, although it can be vacuous.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Constructor" class="def">Constructor</a> [<a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a>] [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:emptyConstructor" class="def">emptyConstructor</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Constructor" title="Futhark.CodeGen.Backends.GenericPython">Constructor</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#emptyConstructor" class="link">Source</a> <a href="#v:emptyConstructor" class="selflink">#</a></p><div class="doc"><p>A constructor that takes no arguments and does nothing.</p></div></div><div class="top"><p class="src"><a id="v:compileName" class="def">compileName</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#compileName" class="link">Source</a> <a href="#v:compileName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:compileVar" class="def">compileVar</a> :: <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#compileVar" class="link">Source</a> <a href="#v:compileVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:compileDim" class="def">compileDim</a> :: <a href="Futhark-CodeGen-ImpCode.html#t:DimSize" title="Futhark.CodeGen.ImpCode">DimSize</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#compileDim" class="link">Source</a> <a href="#v:compileDim" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:compileExp" class="def">compileExp</a> :: <a href="Futhark-CodeGen-ImpCode.html#t:Exp" title="Futhark.CodeGen.ImpCode">Exp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#compileExp" class="link">Source</a> <a href="#v:compileExp" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:compilePrimExp" class="def">compilePrimExp</a> :: <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> m =&gt; (v -&gt; m <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a>) -&gt; <a href="Futhark-Analysis-PrimExp.html#t:PrimExp" title="Futhark.Analysis.PrimExp">PrimExp</a> v -&gt; m <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#compilePrimExp" class="link">Source</a> <a href="#v:compilePrimExp" class="selflink">#</a></p><div class="doc"><p>Tell me how to compile a <code>v</code>, and I'll Compile any <code>PrimExp v</code> for you.</p></div></div><div class="top"><p class="src"><a id="v:compileCode" class="def">compileCode</a> :: <a href="Futhark-CodeGen-ImpCode.html#t:Code" title="Futhark.CodeGen.ImpCode">Code</a> op -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericPython.html#compileCode" class="link">Source</a> <a href="#v:compileCode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:compilePrimValue" class="def">compilePrimValue</a> :: <a href="Futhark-IR-Primitive.html#t:PrimValue" title="Futhark.IR.Primitive">PrimValue</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#compilePrimValue" class="link">Source</a> <a href="#v:compilePrimValue" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:compilePrimType" class="def">compilePrimType</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#compilePrimType" class="link">Source</a> <a href="#v:compilePrimType" class="selflink">#</a></p><div class="doc"><p>The ctypes type corresponding to a <code><a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:compilePrimTypeExt" class="def">compilePrimTypeExt</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Signedness" title="Futhark.CodeGen.ImpCode">Signedness</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#compilePrimTypeExt" class="link">Source</a> <a href="#v:compilePrimTypeExt" class="selflink">#</a></p><div class="doc"><p>The ctypes type corresponding to a <code><a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a></code>, taking sign into account.</p></div></div><div class="top"><p class="src"><a id="v:compilePrimToNp" class="def">compilePrimToNp</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#compilePrimToNp" class="link">Source</a> <a href="#v:compilePrimToNp" class="selflink">#</a></p><div class="doc"><p>The Numpy type corresponding to a <code><a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:compilePrimToExtNp" class="def">compilePrimToExtNp</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Signedness" title="Futhark.CodeGen.ImpCode">Signedness</a> -&gt; <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#compilePrimToExtNp" class="link">Source</a> <a href="#v:compilePrimToExtNp" class="selflink">#</a></p><div class="doc"><p>The Numpy type corresponding to a <code><a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a></code>, taking sign into account.</p></div></div><div class="top"><p class="src"><a id="v:fromStorage" class="def">fromStorage</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#fromStorage" class="link">Source</a> <a href="#v:fromStorage" class="selflink">#</a></p><div class="doc"><p>Convert from storage to scalar representation for the given type.</p></div></div><div class="top"><p class="src"><a id="v:toStorage" class="def">toStorage</a> :: <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#toStorage" class="link">Source</a> <a href="#v:toStorage" class="selflink">#</a></p><div class="doc"><p>Convert from scalar to storage representation for the given type.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Operations" class="def">Operations</a> op s <a href="src/Futhark.CodeGen.Backends.GenericPython.html#Operations" class="link">Source</a> <a href="#t:Operations" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Operations" class="def">Operations</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:opsWriteScalar" class="def">opsWriteScalar</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:WriteScalar" title="Futhark.CodeGen.Backends.GenericPython">WriteScalar</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsReadScalar" class="def">opsReadScalar</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:ReadScalar" title="Futhark.CodeGen.Backends.GenericPython">ReadScalar</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsAllocate" class="def">opsAllocate</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Allocate" title="Futhark.CodeGen.Backends.GenericPython">Allocate</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsCopy" class="def">opsCopy</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Copy" title="Futhark.CodeGen.Backends.GenericPython">Copy</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsStaticArray" class="def">opsStaticArray</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:StaticArray" title="Futhark.CodeGen.Backends.GenericPython">StaticArray</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsCompiler" class="def">opsCompiler</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:OpCompiler" title="Futhark.CodeGen.Backends.GenericPython">OpCompiler</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsEntryOutput" class="def">opsEntryOutput</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:EntryOutput" title="Futhark.CodeGen.Backends.GenericPython">EntryOutput</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:opsEntryInput" class="def">opsEntryInput</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:EntryInput" title="Futhark.CodeGen.Backends.GenericPython">EntryInput</a> op s</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:defaultOperations" class="def">defaultOperations</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Operations" title="Futhark.CodeGen.Backends.GenericPython">Operations</a> op s <a href="src/Futhark.CodeGen.Backends.GenericPython.html#defaultOperations" class="link">Source</a> <a href="#v:defaultOperations" class="selflink">#</a></p><div class="doc"><p>A set of operations that fail for every operation involving
 non-default memory spaces.  Uses plain pointers and <code>malloc</code> for
 memory management.</p></div></div><div class="top"><p class="src"><a id="v:unpackDim" class="def">unpackDim</a> :: <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:DimSize" title="Futhark.CodeGen.ImpCode">DimSize</a> -&gt; <a href="Futhark-IR-Primitive.html#t:Int32" title="Futhark.IR.Primitive">Int32</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericPython.html#unpackDim" class="link">Source</a> <a href="#v:unpackDim" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:CompilerM" class="def">CompilerM</a> op s a <a href="src/Futhark.CodeGen.Backends.GenericPython.html#CompilerM" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CompilerM" class="def">CompilerM</a> (RWS (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerEnv" title="Futhark.CodeGen.Backends.GenericPython">CompilerEnv</a> op s) [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>] (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericPython">CompilerState</a> s) a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:CompilerM">Instances</h4><details id="i:CompilerM" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerM:MonadState:1"></span> MonadState (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericPython">CompilerState</a> s) (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#line-231" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerM:MonadState:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericPython.html">Futhark.CodeGen.Backends.GenericPython</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericPython">CompilerState</a> s)</p><p class="src"><a href="#v:put">put</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericPython">CompilerState</a> s -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</p><p class="src"><a href="#v:state">state</a> :: (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericPython">CompilerState</a> s -&gt; (a, <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericPython">CompilerState</a> s)) -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerM:MonadWriter:2"></span> MonadWriter [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>] (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#line-233" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerM:MonadWriter:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericPython.html">Futhark.CodeGen.Backends.GenericPython</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:writer">writer</a> :: (a, [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>]) -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a</p><p class="src"><a href="#v:tell">tell</a> :: [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</p><p class="src"><a href="#v:listen">listen</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s (a, [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>])</p><p class="src"><a href="#v:pass">pass</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s (a, [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>] -&gt; [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>]) -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerM:Monad:3"></span> <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Monad" title="Control.Monad.Compat">Monad</a> (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#line-230" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerM:Monad:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericPython.html">Futhark.CodeGen.Backends.GenericPython</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a -&gt; (a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s b) -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s b -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerM:Functor:4"></span> <a href="../base-compat-0.11.2/Control-Monad-Compat.html#t:Functor" title="Control.Monad.Compat">Functor</a> (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#line-228" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerM:Functor:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericPython.html">Futhark.CodeGen.Backends.GenericPython</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s b -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerM:Applicative:5"></span> Applicative (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#line-229" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerM:Applicative:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericPython.html">Futhark.CodeGen.Backends.GenericPython</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a</p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s (a -&gt; b) -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s b</p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s b -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s c</p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s b -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s b</p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s b -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerM:MonadFreshNames:6"></span> <a href="Futhark-MonadFreshNames.html#t:MonadFreshNames" title="Futhark.MonadFreshNames">MonadFreshNames</a> (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#line-236" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerM:MonadFreshNames:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericPython.html">Futhark.CodeGen.Backends.GenericPython</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getNameSource">getNameSource</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a> <a href="src/Futhark.MonadFreshNames.html#getNameSource" class="link">Source</a> <a href="#v:getNameSource" class="selflink">#</a></p><p class="src"><a href="#v:putNameSource">putNameSource</a> :: <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () <a href="src/Futhark.MonadFreshNames.html#putNameSource" class="link">Source</a> <a href="#v:putNameSource" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerM:MonadReader:7"></span> MonadReader (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerEnv" title="Futhark.CodeGen.Backends.GenericPython">CompilerEnv</a> op s) (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#line-232" class="link">Source</a> <a href="#t:CompilerM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerM:MonadReader:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericPython.html">Futhark.CodeGen.Backends.GenericPython</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerEnv" title="Futhark.CodeGen.Backends.GenericPython">CompilerEnv</a> op s)</p><p class="src"><a href="#v:local">local</a> :: (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerEnv" title="Futhark.CodeGen.Backends.GenericPython">CompilerEnv</a> op s -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerEnv" title="Futhark.CodeGen.Backends.GenericPython">CompilerEnv</a> op s) -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a</p><p class="src"><a href="#v:reader">reader</a> :: (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerEnv" title="Futhark.CodeGen.Backends.GenericPython">CompilerEnv</a> op s -&gt; a) -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OpCompiler" class="def">OpCompiler</a> op s = op -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericPython.html#OpCompiler" class="link">Source</a> <a href="#t:OpCompiler" class="selflink">#</a></p><div class="doc"><p>A substitute expression compiler, tried before the main
 compilation function.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:WriteScalar" class="def">WriteScalar</a> op s = <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericPython.html#WriteScalar" class="link">Source</a> <a href="#t:WriteScalar" class="selflink">#</a></p><div class="doc"><p>Write a scalar to the given memory block with the given index and
 in the given memory space.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ReadScalar" class="def">ReadScalar</a> op s = <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#ReadScalar" class="link">Source</a> <a href="#t:ReadScalar" class="selflink">#</a></p><div class="doc"><p>Read a scalar from the given memory block with the given index and
 in the given memory space.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Allocate" class="def">Allocate</a> op s = <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericPython.html#Allocate" class="link">Source</a> <a href="#t:Allocate" class="selflink">#</a></p><div class="doc"><p>Allocate a memory block of the given size in the given memory
 space, saving a reference in the given variable name.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Copy" class="def">Copy</a> op s = <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:Space" title="Futhark.IR.Syntax.Core">Space</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericPython.html#Copy" class="link">Source</a> <a href="#t:Copy" class="selflink">#</a></p><div class="doc"><p>Copy from one memory block to another.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:StaticArray" class="def">StaticArray</a> op s = <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:ArrayContents" title="Futhark.CodeGen.ImpCode">ArrayContents</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericPython.html#StaticArray" class="link">Source</a> <a href="#t:StaticArray" class="selflink">#</a></p><div class="doc"><p>Create a static array of values - initialised at load time.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EntryOutput" class="def">EntryOutput</a> op s = <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Signedness" title="Futhark.CodeGen.ImpCode">Signedness</a> -&gt; [<a href="Futhark-CodeGen-ImpCode.html#t:DimSize" title="Futhark.CodeGen.ImpCode">DimSize</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#EntryOutput" class="link">Source</a> <a href="#t:EntryOutput" class="selflink">#</a></p><div class="doc"><p>Construct the Python array being returned from an entry point.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EntryInput" class="def">EntryInput</a> op s = <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-IR-Syntax-Core.html#t:SpaceId" title="Futhark.IR.Syntax.Core">SpaceId</a> -&gt; <a href="Futhark-IR-Primitive.html#t:PrimType" title="Futhark.IR.Primitive">PrimType</a> -&gt; <a href="Futhark-CodeGen-ImpCode.html#t:Signedness" title="Futhark.CodeGen.ImpCode">Signedness</a> -&gt; [<a href="Futhark-CodeGen-ImpCode.html#t:DimSize" title="Futhark.CodeGen.ImpCode">DimSize</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericPython.html#EntryInput" class="link">Source</a> <a href="#t:EntryInput" class="selflink">#</a></p><div class="doc"><p>Unpack the array being passed to an entry point.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CompilerEnv" class="def">CompilerEnv</a> op s <a href="src/Futhark.CodeGen.Backends.GenericPython.html#CompilerEnv" class="link">Source</a> <a href="#t:CompilerEnv" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CompilerEnv" class="def">CompilerEnv</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:envOperations" class="def">envOperations</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:Operations" title="Futhark.CodeGen.Backends.GenericPython">Operations</a> op s</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:envVarExp" class="def">envVarExp</a> :: Map <a href="Language-Futhark-Core.html#t:VName" title="Language.Futhark.Core">VName</a> <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:CompilerEnv">Instances</h4><details id="i:CompilerEnv" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerEnv:MonadReader:1"></span> MonadReader (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerEnv" title="Futhark.CodeGen.Backends.GenericPython">CompilerEnv</a> op s) (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#line-232" class="link">Source</a> <a href="#t:CompilerEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerEnv:MonadReader:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericPython.html">Futhark.CodeGen.Backends.GenericPython</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerEnv" title="Futhark.CodeGen.Backends.GenericPython">CompilerEnv</a> op s)</p><p class="src"><a href="#v:local">local</a> :: (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerEnv" title="Futhark.CodeGen.Backends.GenericPython">CompilerEnv</a> op s -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerEnv" title="Futhark.CodeGen.Backends.GenericPython">CompilerEnv</a> op s) -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a</p><p class="src"><a href="#v:reader">reader</a> :: (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerEnv" title="Futhark.CodeGen.Backends.GenericPython">CompilerEnv</a> op s -&gt; a) -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CompilerState" class="def">CompilerState</a> s <a href="src/Futhark.CodeGen.Backends.GenericPython.html#CompilerState" class="link">Source</a> <a href="#t:CompilerState" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CompilerState" class="def">CompilerState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:compNameSrc" class="def">compNameSrc</a> :: <a href="Futhark-FreshNames.html#t:VNameSource" title="Futhark.FreshNames">VNameSource</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:compInit" class="def">compInit</a> :: [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:compUserState" class="def">compUserState</a> :: s</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:CompilerState">Instances</h4><details id="i:CompilerState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CompilerState:MonadState:1"></span> MonadState (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericPython">CompilerState</a> s) (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s)</span> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#line-231" class="link">Source</a> <a href="#t:CompilerState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CompilerState:MonadState:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Futhark-CodeGen-Backends-GenericPython.html">Futhark.CodeGen.Backends.GenericPython</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericPython">CompilerState</a> s)</p><p class="src"><a href="#v:put">put</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericPython">CompilerState</a> s -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s ()</p><p class="src"><a href="#v:state">state</a> :: (<a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericPython">CompilerState</a> s -&gt; (a, <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerState" title="Futhark.CodeGen.Backends.GenericPython">CompilerState</a> s)) -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:stm" class="def">stm</a> :: <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericPython.html#stm" class="link">Source</a> <a href="#v:stm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:atInit" class="def">atInit</a> :: <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericPython.html#atInit" class="link">Source</a> <a href="#v:atInit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:collect-39-" class="def">collect'</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s a -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s (a, [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>]) <a href="src/Futhark.CodeGen.Backends.GenericPython.html#collect%27" class="link">Source</a> <a href="#v:collect-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:collect" class="def">collect</a> :: <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyStmt" title="Futhark.CodeGen.Backends.GenericPython.AST">PyStmt</a>] <a href="src/Futhark.CodeGen.Backends.GenericPython.html#collect" class="link">Source</a> <a href="#v:collect" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:simpleCall" class="def">simpleCall</a> :: <a href="../base-compat-0.11.2/Data-String-Compat.html#t:String" title="Data.String.Compat">String</a> -&gt; [<a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a>] -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> <a href="src/Futhark.CodeGen.Backends.GenericPython.html#simpleCall" class="link">Source</a> <a href="#v:simpleCall" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Futhark-CodeGen-Backends-GenericPython-AST.html#v:Call" title="Futhark.CodeGen.Backends.GenericPython.AST">Call</a></code> where the function is a variable and every argument is a
 simple <code><a href="Futhark-CodeGen-Backends-GenericPython-AST.html#v:Arg" title="Futhark.CodeGen.Backends.GenericPython.AST">Arg</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:copyMemoryDefaultSpace" class="def">copyMemoryDefaultSpace</a> :: <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython-AST.html#t:PyExp" title="Futhark.CodeGen.Backends.GenericPython.AST">PyExp</a> -&gt; <a href="Futhark-CodeGen-Backends-GenericPython.html#t:CompilerM" title="Futhark.CodeGen.Backends.GenericPython">CompilerM</a> op s () <a href="src/Futhark.CodeGen.Backends.GenericPython.html#copyMemoryDefaultSpace" class="link">Source</a> <a href="#v:copyMemoryDefaultSpace" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>